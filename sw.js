const FILE_BUNDLE={"/modules/icon-lucide/lucide/refresh-cw.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 0 1 9-9a9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5m5 4a9 9 0 0 1-9 9a9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/uix/display/markdown.js":{content:`export const dependencies={marked:["https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js","marked"]};export default({html:e,marked:r,T:t})=>({tag:"uix-markdown",style:!0,class:"prose max-w-none",properties:{content:t.string()},render(){return e.unsafeHTML(r.parse(this.content||""))}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/icon-lucide/lucide/circle-check.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="m9 12l2 2l4-4"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/circle.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/uix/display/markdown.css":{content:`:where(.uix-markdown){display:block;overflow-y:auto;height:100%;font-size:1.125rem;line-height:1rem;>:first-child{margin-top:0}>:last-child{margin-bottom:0}h1,h2,h3,h4,h5,h6{font-weight:600}h1{font-size:1.8em;padding-bottom:.3em;line-height:2.5rem}h2{font-size:1.6em;line-height:1.9rem;padding-bottom:.3em}h3{font-size:1.4em;line-height:1.4rem}h4{font-size:1.2em}h5{font-size:1em}h6{font-size:.9em}p{line-height:1.4rem;margin-bottom:.5em}a{font-weight:500;text-decoration:none;color:var(--prose-link-color);&:hover{text-decoration:underline}}ul,ol{margin:0 0 .5em .5em;padding-left:1em}ul{list-style-type:square}ol{list-style-type:decimal}hr{border:0;border-top:1px solid var(--border-color);margin-block:.5rem;margin-inline:30%}blockquote{margin:0 0 1em;padding:0 1em;border-left:4px solid var(--border-color);color:var(--prose-muted-text-color);>:last-child{margin-bottom:0;padding-bottom:0}}code{background-color:var(--prose-code-bg-color);padding:.2em .4em;margin:0 .1rem;border-radius:6px;font-family:monospace;font-size:.9em}pre{background-color:#2d3748;color:#e2e8f0;padding:1em;margin-block:1em;border-radius:8px;overflow-x:auto;white-space:pre-wrap;code{background-color:transparent;padding:0;margin:0;font-size:1em;line-height:1.5}}table{width:100%;border-collapse:collapse;margin:0 0 1.5em;font-size:.95em}th,td{border:1px solid var(--border-color);padding:.75em 1em;text-align:left}thead{background-color:#f7fafc;th{font-weight:600}}tbody{tr:nth-child(odd){background-color:#f9fafb}}}
`,mimeType:"text/css",skipSW:!1},"/modules/icon-lucide/lucide/git-branch-plus.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M6 3v12m12-6a3 3 0 1 0 0-6a3 3 0 0 0 0 6M6 21a3 3 0 1 0 0-6a3 3 0 0 0 0 6"/><path d="M15 6a9 9 0 0 0-9 9m12 0v6m3-3h-6"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/key.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m15.5 7.5l2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4m2-2l-9.6 9.6"/><circle cx="7.5" cy="15.5" r="5.5"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/uix/navigation/tabs.js":{content:`export default({T:a,html:s})=>({tag:"uix-tabs",style:!0,class:"overflow-auto",properties:{tabs:a.array(),selectTab:a.function(),removeTab:a.function(),activeTab:a.number({defaultValue:0}),toggle:a.boolean(!1)},async __selectTab(t){const e=this.toggle&&this.activeTab===t?-1:t;this.selectTab&&await this.selectTab(e),this.activeTab=e},_removeTab(t,e){e.stopPropagation(),this.removeTab&&this.removeTab(t)},render(){return!this.tabs||this.tabs.length===0?null:s\`
            <div class="tab-headers" role="tablist">
                \${this.tabs.map(([t],e)=>s\`
                    <uix-link
                        role="tab"
                        @click=\${()=>this.__selectTab(e)}
                        .label=\${t}
                        ?selected=\${e===this.activeTab}
                        ?closable=\${!!this.closeTab}
                        @close=\${i=>this.__closeTab(i,e)}
                        skipRoute
                        padding=\${this.padding}
                        text="center"
												class="py-1 text-lg"
                    >								
									\${this.removeTab?s\`<uix-icon name="x" class="w-3 close" @click=\${(i=>this._removeTab(e,i)).bind(this)}></uix-icon>\`:null}
									</uix-link>
                \`)}
            </div>

            <div class="flex flex-1 overflow-auto" role="tabpanel">
                \${this.tabs[this.activeTab]?this.tabs[this.activeTab][1]:""}
            </div>
        \`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/uix/navigation/tabs.css":{content:`.uix-tabs{display:flex;flex-direction:column;flex-grow:1;.tab-headers{display:flex;flex-direction:row;flex-shrink:0;background-color:var(--uix-tabs-background-color, #2a2a2a);border-bottom:2px solid var(--uix-tabs-border-color, #005a99)}.tab-headers>uix-link{flex:1;text-align:center;cursor:pointer;line-height:var(--uix-tabs-line-height, 2rem);font-size:var(--uix-tabs-font-size, .75rem);border-radius:var(--uix-tabs-border-radius, 0);color:var(--uix-tabs-text, #eee);transition:background-color .2s ease-in-out,color .2s ease-in-out;.close{visibility:hidden}}.tab-headers>uix-link:hover{background-color:var(--uix-tabs-active-background-color, #007acc);a{color:#fff}.close{visibility:visible}}.tab-headers>uix-link[selected]{font-weight:var(--uix-tabs-font-weight, 600);background-color:var(--uix-tabs-active-background-color, #007acc);color:var(--uix-tabs-active-text, #fff)}}
`,mimeType:"text/css",skipSW:!1},"/modules/apps/mcp/views/dashboard.js":{content:`export default({html:e,T:s})=>({style:!0,properties:{selectedHistoryItem:s.object(null),onDeselectHistoryItem:s.function()},_renderCard(o,r){return e\`
                <uix-card class="flex flex-col min-h-[200px]">
                    <h3 class="font-semibold mb-3">\${o}</h3>
                    <div class="flex-grow overflow-y-auto pr-2">\${r}</div>
                </uix-card>
            \`},render(){return e\`
              <div class="space-y-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <mcp-tools viewMode="flow" class="block h-60"></mcp-tools>
        <mcp-prompts viewMode="flow" class="block h-60"></mcp-prompts>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <mcp-resources viewMode="flow" resourceType="resources" class="block h-60"></mcp-resources>
        <mcp-resources viewMode="flow" resourceType="templates" class="block h-60"></mcp-resources>
    </div>
</div>

            \`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/apps/mcp/views/dashboard.css":{content:`.mcp-dashboard{.uix-card{button{color:#111;cursor:pointer}}}
`,mimeType:"text/css",skipSW:!1},"/modules/icon-lucide/lucide/layout-dashboard.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/apps/mcp/views/tools.js":{content:`export default({html:t,AI:i,T:l})=>({tag:"mcp-tools",properties:{tools:l.array([]),selectedTool:l.object(null),toolArgs:l.object({}),isExecuting:l.boolean(!1),isLoading:l.boolean(!0),viewMode:l.string({defaultValue:"side-by-side"}),toolResponse:l.any(null)},connected(){this.loadTools()},async loadTools(){this.isLoading=!0;try{const e=i.listClients();if(e&&e.length>0){const{tools:s}=await i.listTools({servers:e});this.tools=s||[]}}catch(e){console.error("Error loading tools:",e),this.tools=[]}finally{this.isLoading=!1}},selectTool(e){this.selectedTool=e,this.toolArgs={},this.toolResponse=null},clearSelectedTool(){this.selectedTool=null,this.toolResponse=null},handleArgInput(e,s,o){this.toolArgs={...this.toolArgs,[e]:o.type==="number"?Number(s.target.value):o.type==="boolean"?!!s.target.checked:s.target.value}},async handleExecuteTool(){if(this.selectedTool){this.isExecuting=!0,this.toolResponse=null;try{const{name:e}=this.selectedTool,s=this.toolArgs,o=await i.callTool(e,s);this.toolResponse=o}catch(e){console.error(\`Failed to execute tool \${this.selectedTool.name}:\`,e),this.toolResponse={error:e.message||"An unknown error occurred."}}finally{this.isExecuting=!1}}},_renderFlowView(){return this.selectedTool?this._renderToolExecutorFlow():this._renderToolListFlow()},_renderToolListFlow(){return this.isLoading?t\`<div class="flex items-center justify-center h-full"><p class="text-xs text-gray-500">Loading...</p></div>\`:this.tools.length?t\`
                <div class="flex-1 overflow-y-auto p-2">
                    <h3 class="font-semibold text-sm p-2 text-gray-800">Tools</h3>
                    <ul>
                        \${this.tools.map(e=>t\`
                                <li>
                                    <button @click=\${()=>this.selectTool(e)} class="w-full text-left p-2 rounded text-sm hover:bg-gray-100">
                                        <p class="font-mono text-sm">\${e.name}</p>
                                        <p class="text-xs text-gray-500 truncate">\${e.description}</p>
                                    </button>
                                </li>
                            \`)}
                    </ul>
                </div>
            \`:t\`<div class="flex items-center justify-center h-full"><p class="text-xs text-gray-500">No tools found.</p></div>\`},_renderToolExecutorFlow(){const e=this.toolResponse?t\`
                <div class="mt-6 border-t pt-4 dark">
									<h4 class="font-semibold text-sm mb-3">Response</h4>
                    \${this.toolResponse.error?t\`<div class="bg-red-50 text-red-700 rounded p-3 text-sm font-mono">\${this.toolResponse.error}</div>\`:t\`<pre class="text-xs whitespace-pre-wrap bg-gray-800 text-gray-200 p-2 rounded-lg font-mono overflow-auto">\${this.toolResponse?.content?.[0]?.text}</pre>\`}
                </div>
            \`:"";return t\`
                <div class="p-6 overflow-y-auto w-full">
                     <button @click=\${this.clearSelectedTool.bind(this)} class="flex items-center text-sm text-blue-600 hover:underline mb-4">
                        <uix-icon name="arrow-left" class="w-4 h-4 mr-2"></uix-icon>
                        Back to list
                    </button>
                    \${this.toolResponse?e:this._renderToolExecutorContent()}                    
                </div>
            \`},_renderSideBySideView(){const e=()=>this.isLoading?t\`<div class="flex items-center justify-center h-full"><p class="text-xs text-gray-500">Loading...</p></div>\`:this.tools.length?t\`
                    <div class="flex-1 overflow-y-auto p-2">
                        <h3 class="font-semibold text-sm p-2 text-gray-800">Tools</h3>
                        <ul>
                            \${this.tools.map(o=>t\`
                                    <li>
                                        <button @click=\${()=>this.selectTool(o)} class="w-full text-left p-2 rounded text-sm hover:bg-gray-100 \${this.selectedTool?.name===o.name?"bg-blue-50 font-semibold text-blue-700":""}">
                                            <p class="font-mono text-xs">\${o.name}</p>
                                            <p class="text-xs text-gray-500 truncate">\${o.description}</p>
                                        </button>
                                    </li>
                                \`)}
                        </ul>
                    </div>
                \`:t\`<div class="flex items-center justify-center h-full"><p class="text-xs text-gray-500">No tools found.</p></div>\`,s=()=>{if(!this.selectedTool)return t\`<div class="text-center text-gray-500 h-full flex items-center justify-center">Select a tool to view details.</div>\`;const o=this.toolResponse?t\`
                    <div class="mt-6 border-t pt-4">
                        \${this.toolResponse.error?t\`<div class="bg-red-50 text-red-700 rounded p-3 text-sm font-mono">\${this.toolResponse.error}</div>\`:t\`<pre class="text-xs whitespace-pre-wrap bg-gray-800 text-gray-200 p-2 rounded-lg font-mono overflow-auto">\${this.toolResponse?.contents?.[0]?.text}</pre>\`}
                    </div>
                \`:"";return t\`
                    <div>
                        \${this._renderToolExecutorContent()}
                        \${o}
                    </div>
                \`};return t\`
                <div class="w-1/3 flex flex-col border-r border-gray-200">
                    \${e()}
                </div>
                <div class="w-2/3 p-6 overflow-y-auto">
                    \${s()}
                </div>
            \`},_renderToolExecutorContent(){return this.selectedTool?t\`
                <h3 class="font-bold text-lg mb-2  dark">\${this.selectedTool.name}</h3>
                <p class="text-xs text-gray-600 mb-6">\${this.selectedTool.description}</p>
                <h4 class="font-semibold text-sm mb-3 dark">Parameters</h4>
                <div class="space-y-4">
                    \${this.selectedTool.inputSchema&&Object.keys(this.selectedTool.inputSchema.properties).length>0?Object.entries(this.selectedTool.inputSchema.properties).map(([e,s])=>t\`<uix-input
                                        label=\${e}
                                        type=\${s.enum?"select":{boolean:"checkbox",enum:"select"}[s.type]||"text"}
                                        .options=\${s.enum}
                                        value=\${this.toolArgs[e]||""}
                                        @input=\${o=>this.handleArgInput(e,o,s)}
                                        placeholder=\${s.description||e}
                                        class="font-mono text-xs"
                                    ></uix-input>\`):t\`<p class="text-xs text-gray-500">This tool has no parameters.</p>\`}
                </div>
                <div class="mt-8 border-t pt-6">
                    <uix-button
                        label=\${this.isExecuting?"Executing...":"Execute"}
                        class="is-primary"
                        @click=\${this.handleExecuteTool.bind(this)}
                        ?disabled=\${this.isExecuting}
                    ></uix-button>
                </div>
            \`:""},render(){return t\`<uix-card class="bg-[#3c3836] h-full overflow-y-auto pb-2">
                    <div class="dark">\${this.viewMode==="flow"?this._renderFlowView():this._renderSideBySideView()}</div>
								</uix-card>
            \`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/apps/mcp/views/prompts.js":{content:`export default({html:s,AI:o,T:r})=>({tag:"mcp-prompts",properties:{prompts:r.array([]),selectedPrompt:r.object(null),promptArgs:r.object({}),isExecuting:r.boolean(!1),isLoading:r.boolean(!0),viewMode:r.string({defaultValue:"side-by-side"}),promptResponse:r.any(null)},connected(){this.loadPrompts()},async loadPrompts(){this.isLoading=!0;try{const e=o.listClients();if(e&&e.length>0){const{prompts:t}=await o.listPrompts({servers:e});console.log({prompts:t}),this.prompts=t||[]}}catch(e){console.error("Error loading prompts:",e),this.prompts=[]}finally{this.isLoading=!1}},selectPrompt(e){this.selectedPrompt=e,this.promptArgs={},this.promptResponse=null},clearSelectedPrompt(){this.selectedPrompt=null,this.promptResponse=null},handleArgInput(e,t){this.promptArgs={...this.promptArgs,[e]:t.target.value}},async handleGetPrompt(){if(this.selectedPrompt){this.isExecuting=!0,this.promptResponse=null;try{const{name:e}=this.selectedPrompt,t=this.promptArgs,i=await o.getPrompt({name:e,arguments:t});this.promptResponse=i}catch(e){console.error("Error executing prompt:",e),this.promptResponse={error:e.message||"An unknown error occurred."}}finally{this.isExecuting=!1}}},_renderPromptList(e=!1){return this.isLoading?s\`<div class="flex items-center justify-center h-full"><p class="text-xs text-gray-500">Loading...</p></div>\`:this.prompts.length?s\`
				<div class="flex-1 overflow-y-auto p-2">
					<h3 class="font-semibold text-sm p-2 text-gray-800">Prompts</h3>
					<ul>
						\${this.prompts.map(t=>s\`
								<li>
									<button 
										@click=\${()=>this.selectPrompt(t)} 
										class="w-full text-left p-2 rounded text-sm hover:bg-gray-100 \${this.selectedPrompt?.name===t.name?"bg-blue-50 font-semibold text-blue-700":""}"
									>
										<p class="font-mono text-xs">\${t.name}</p>
										<p class="text-xs text-gray-500 truncate">\${t.description}</p>
									</button>
								</li>
							\`)}
					</ul>
				</div>
			\`:s\`<div class="flex items-center justify-center h-full"><p class="text-xs text-gray-500">No prompts found.</p></div>\`},_renderResponseView(){return this.promptResponse?this.promptResponse.error?s\`
					<div class="mt-6 border-t pt-4">
						<h4 class="font-semibold text-sm mb-3">Response</h4>
						<div class="bg-red-50 text-red-700 rounded p-3 text-sm font-mono">
							\${this.promptResponse.error}
						</div>
					</div>
				\`:s\`
				<div class="mt-6 border-t pt-4">
					<h4 class="font-semibold text-sm mb-3">Response</h4>
					<div class="space-y-4">
						\${this.promptResponse.messages.map(e=>s\`
								<div class="dark bg-gray-100  text-gray-800 rounded p-3">
									<div class="text-xs font-bold uppercase text-gray-500 mb-1">\${e.role}</div>
									\${e.content.type==="text"?s\`<p class="text-sm whitespace-pre-wrap font-mono">\${e.content.text}</p>\`:s\`<div class="text-sm font-mono">Resource: \${e.content.uri}</div>\`}
								</div>
							\`)}
					</div>
				</div>
			\`:""},_renderPromptExecutor(e=!1){return this.selectedPrompt?s\`
				<div class="dark \${e?"p-6 overflow-y-auto w-full":""}">
					\${e?s\`
						<button @click=\${this.clearSelectedPrompt.bind(this)} class="dark flex items-center text-sm text-blue-600 hover:underline mb-4">
							<uix-icon name="arrow-left" class="w-4 h-4 mr-2"></uix-icon>
							Back to list
						</button>
					\`:""}
					<h3 class="font-bold text-lg mb-2">\${this.selectedPrompt.name}</h3>
					<p class="text-xs text-gray-200 mb-6">\${this.selectedPrompt.description}</p>
					
					\${this.promptResponse?this._renderResponseView():s\`<h4 class="font-semibold text-sm mb-3">Parameters</h4>
					<div class="space-y-4">
						\${Array.isArray(this.selectedPrompt.arguments)&&this.selectedPrompt.arguments.length?this.selectedPrompt.arguments.map(t=>!console.log(t)&&s\`
											<uix-input
												label=\${t.name}
                        type=\${t.enum?"select":{boolean:"checkbox",enum:"select"}[t.type]||"text"}
												value=\${this.promptArgs[t.name]||""}
												@input=\${i=>this.handleArgInput(t.name,i)}
												placeholder=\${t.description||t.name}
												class="font-mono text-xs"
											></uix-input>
										\`):s\`<p class="text-xs text-gray-300">This prompt has no parameters.</p>\`}
					</div>
					<div class="mt-8 border-t pt-6">
						<uix-button
							label=\${this.isExecuting?"Executing...":"Get Prompt"}
							class="is-primary"
							@click=\${this.handleGetPrompt.bind(this)}
							?disabled=\${this.isExecuting}
						></uix-button>
					</div>\`}
				</div>
			\`:s\`<div class="text-center text-gray-500 h-full flex items-center justify-center">Select a prompt to view details.</div>\`},_renderFlowView(){return this.selectedPrompt?this._renderPromptExecutor(!0):this._renderPromptList()},_renderSideBySideView(){return s\`
				<div class="w-1/3 flex flex-col border-r border-gray-200">
					\${this._renderPromptList()}
				</div>
				<div class="w-2/3 p-6 overflow-y-auto">
					\${this._renderPromptExecutor(!1)}
				</div>
			\`},render(){return s\`
				<uix-card class="bg-[#3c3836] h-full overflow-y-auto">
					<div class="dark">
						\${this.viewMode==="flow"?this._renderFlowView():this._renderSideBySideView()}
					</div>
				</uix-card>
			\`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/apps/mcp/views/resources.js":{content:'export default({html:s,AI:c,T:i})=>({tag:"mcp-resources",properties:{resourceType:i.string(),viewMode:i.string({defaultValue:"side-by-side"}),resources:i.array([]),resourceTemplates:i.array([]),isLoading:i.boolean(!0),selectedResource:i.object(null),selectedTemplate:i.object(null),resourceArgs:i.object({}),isExecuting:i.boolean(!1),resourceResponse:i.any(null)},connected(){this.loadData()},async loadData(){this.isLoading=!0;try{const e=c.listClients();if(e&&e.length>0){const[{resources:t},{resourceTemplates:o}]=await Promise.all([c.listResources({servers:e}),c.listResourceTemplates({servers:e})]);this.resources=t||[],this.resourceTemplates=o||[]}}catch(e){console.error("Error loading resources:",e),this.resources=[],this.resourceTemplates=[]}finally{this.isLoading=!1}},async handleReadResource(){const e=this.selectedResource||this.selectedTemplate,o=!!this.selectedTemplate?e.uriTemplate:e.uri,l=Object.entries(this.resourceArgs).reduce((r,[n,u])=>r.replace(`{${n}}`,u),o);this.isExecuting=!0,this.resourceResponse=null;try{const r=await c.readResource({uri:l});this.resourceResponse=r,console.log({response:r})}catch(r){console.error(`Failed to read resource ${l}:`,r),this.resourceResponse={error:r.message||"An unknown error occurred."}}finally{this.isExecuting=!1}},selectResource(e){this.selectedResource=e,this.selectedTemplate=null,this.resourceArgs={},this.resourceResponse=null},selectTemplate(e){this.selectedTemplate=e,this.selectedResource=null,this.resourceArgs={},this.resourceResponse=null},deselectReaderView(){this.selectedResource=null,this.selectedTemplate=null,this.resourceResponse=null},handleResourceArgInput(e,t){this.resourceArgs={...this.resourceArgs,[e]:t.target.value}},_extractUriParams(e){const t=/\\{(.+?)\\}/g;return[...e.matchAll(t)].map(o=>o[1])},_renderReaderContent(){const e=this.selectedResource||this.selectedTemplate;if(!e)return"";const t=!!this.selectedTemplate,o=t?e.uriTemplate:e.uri,l=t?this._extractUriParams(o):[];return s`\n                <div>\n                    <h4 class="font-bold text-sm mb-1 dark font-mono">${o}</h4>\n                    <p class="text-xs text-gray-600 mb-4">${e.description||"No description provided."}</p>\n                    \n                    ${t?s`<div class="space-y-3">\n                        ${l.length>0?l.map(r=>s`\n                                        <div>\n                                            <label class="block text-xs font-medium text-gray-600 mb-1">${r}</label>\n                                            <uix-input\n                                                .value=${this.resourceArgs[r]||""}\n                                                @input=${n=>this.handleResourceArgInput(r,n)}\n                                                placeholder="Enter value for ${r}"\n                                                class="font-mono text-xs"\n                                            ></uix-input>\n                                        </div>\n                                    `):s`<p class="text-xs text-gray-500">This resource takes no parameters.</p>`}\n                    </div>`:null}\n                    <div class="mt-4 border-t pt-4">\n                        <uix-button\n                            label=${this.isExecuting?"Reading...":"Read Resource"}\n                            class="is-primary w-full"\n                            @click=${this.handleReadResource.bind(this)}\n                            ?disabled=${this.isExecuting}\n                        ></uix-button>\n                    </div>\n                </div>\n            `},_renderResponseView(){return this.resourceResponse?s`\n                <div class="mt-6 border-t pt-4 dark">\n									<h4 class="font-semibold text-sm mb-3">Response</h4>\n                    ${this.resourceResponse.error?s`<div class="bg-red-50 text-red-700 rounded p-3 text-sm font-mono">${this.resourceResponse.error}</div>`:s`<pre class="text-xs whitespace-pre-wrap bg-gray-800 text-gray-200 p-2 rounded-lg font-mono overflow-auto">${this.resourceResponse?.contents?.[0]?.text}</pre>`}\n                </div>\n            `:""},_renderList(){return s`\n                <ul class="text-xs font-mono space-y-1">\n                    ${this.resourceType==="resources"||!this.resourceType?this.resources.map(e=>s`<li><button @click=${()=>this.selectResource(e)} class="w-full text-left p-2 rounded text-sm hover:bg-gray-100 ${this.selectedResource?.uri===e.uri?"bg-blue-50 font-semibold text-blue-700":""}">\n                        <p class="font-mono text-sm flex items-center"><uix-icon name="file-text" class="w-4 h-4 mr-2 text-gray-500"></uix-icon>${e.uri}</p>\n                    </button></li>`):null}\n                    ${this.resourceType==="templates"||!this.resourceType?this.resourceTemplates.map(e=>s`<li><button @click=${()=>this.selectTemplate(e)} class="w-full text-left p-2 rounded text-sm hover:bg-gray-100 ${this.selectedTemplate?.uriTemplate===e.uriTemplate?"bg-blue-50 font-semibold text-blue-700":""}">\n                        <p class="font-mono text-sm flex items-center"><uix-icon name="file-code-2" class="w-4 h-4 mr-2 text-blue-600"></uix-icon>${e.uriTemplate}</p>\n                    </button></li>`):null}\n                </ul>\n             `},_generateTitle(){const t={resources:"Resources",templates:"Templates"}[this.resourceType]||"Resources & Templates";return s`<h3 class="font-semibold text-sm p-2 text-gray-800">${t}</h3>`},_renderFlowView(){return this.isLoading?s`<div class="flex items-center justify-center h-full"><p class="text-xs text-gray-500">Loading...</p></div>`:this.selectedResource||this.selectedTemplate?s`\n                    <div class="p-6 overflow-y-auto w-full">\n                        <button @click=${()=>this.deselectReaderView()} class="flex items-center text-sm text-blue-600 hover:underline mb-4">\n                            <uix-icon name="arrow-left" class="w-4 h-4 mr-2"></uix-icon>\n                            Back to list\n                        </button>\n                        ${this.resourceResponse?this._renderResponseView():this._renderReaderContent()}                        \n                    </div>\n                `:s`\n                <div class="flex-1 overflow-y-auto p-2">\n									${this._generateTitle()}\n                  ${this._renderList()}\n                </div>\n            `},_renderSideBySideView(){return this.isLoading?s`<div class="flex items-center justify-center h-full"><p class="text-xs text-gray-500">Loading...</p></div>`:s`\n                <div class="w-1/3 flex flex-col border-r border-gray-200 p-2 overflow-y-auto">\n									${this._generateTitle()}\n                    ${this._renderList()}\n                </div>\n                <div class="w-2/3 p-6 overflow-y-auto">\n                    ${this.selectedResource||this.selectedTemplate?s`\n                            ${this._renderReaderContent()}\n                            ${this._renderResponseView()}\n                        `:s`<div class="text-center text-gray-500 h-full flex items-center justify-center">Select an item to view details.</div>`}\n                </div>\n            `},render(){return s`\n                <uix-card class="h-full bg-[#3c3836] overflow-y-auto">\n									<div class="dark">${this.viewMode==="flow"?this._renderFlowView():this._renderSideBySideView()}</div>\n								</uix-card>\n            `}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/uix/display/card.js":{content:`export default{tag:"uix-card",style:!0};
`,mimeType:"application/javascript",skipSW:!1},"/modules/uix/display/card.css":{content:`:where(.uix-card){display:flex;flex-direction:column;padding:var(--uix-card-padding, 10px);border-width:var(--uix-card-border-size);border-radius:var(--uix-card-border-radius, var(--radius-md));background-color:var(--uix-card-background-color, #fff);border-color:var(--uix-card-border-color, transparent);box-shadow:var(--uix-card-shadow, 0 4px 6px rgba(0, 0, 0, .1));list-style-type:var(--uix-card-list-style-type);color:var(--uix-card-text-color);&[clickable],&[clickable] *{cursor:pointer}}
`,mimeType:"text/css",skipSW:!1},"/modules/icon-lucide/lucide/file-text.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4M10 9H8m8 4H8m8 4H8"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/file-code-2.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"/><path d="M14 2v4a2 2 0 0 0 2 2h4M5 12l-3 3l3 3m4 0l3-3l-3-3"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/index.html":{content:`<!DOCTYPE html>
<html lang="en">
<head>
  <script type="importmap">
			{
				"imports": {
					"@modelcontextprotocol/sdk/": "https://cdn.jsdelivr.net/npm/@modelcontextprotocol/sdk@1.18.1/dist/esm/",
					"zod": "https://esm.sh/zod@3.23.8",
					"eventsource-parser/stream": "https://esm.sh/eventsource-parser/stream",
					"pkce-challenge": "https://esm.sh/pkce-challenge",
          "zod-to-json-schema": "https://esm.sh/zod-to-json-schema@3.24.5",          
					"ajv": "https://esm.sh/ajv@6.12.6"
				}
			}
		<\/script>
  <meta charset="utf-8" />
  <title>Brazuka.dev</title>
  <base href="/" />
  
  <meta name="viewport"
    content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
  <meta name="description" content="This is a Brazuka app" />
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#181818" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f3f3f3" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-title" content="Brazuka" />
  <meta name="mobile-web-app-status-bar-style" content="black" />
  <link id="favicon" rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLW1vdW50YWluIj48cGF0aCBkPSJtOCAzIDQgOCA1LTUgNSAxNUgyTDggM3oiLz48L3N2Zz4="/>
  <link rel="manifest" href="manifest.json" /> 
	<script>
		const ensureSWController = () => {
			const timeoutPromise = new Promise((_, reject) => {
				setTimeout(() => reject(new Error("Service Worker timed out.")), 100);
			});
			const controllerPromise = new Promise((resolve) => {
				if (navigator.serviceWorker.controller) {
					return resolve();
				}
				navigator.serviceWorker.addEventListener("controllerchange", () => {
					return resolve();
				});
			});
			return Promise.race([controllerPromise, timeoutPromise]);
		};
		const startApp = async () => {
			if (!("serviceWorker" in navigator)) {
				console.warn("Service Worker not supported.");
				throw new Error("Platform not supported");
			}
			await navigator.serviceWorker.register("/sw.js", {
				scope: "/",
				type: "module",
			});
			try {
				console.log("Waiting for Service Worker to take control...");
				await ensureSWController();
				console.log("\u2705 Service Worker is in control!");
				const { default: $APP } = await import("/bootstrap.js");
				await $APP.loadApp();
			} catch (error) {
				console.warn("Service Worker did not take control in time. Reloading...");
				window.location.reload();
			}
		};
		startApp();
	<\/script>
</head>
<body>
  <app-container></app-container>
</body>
</html>
`,mimeType:"text/html",skipSW:!1},"/modules/icon-lucide/lucide/moon.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3a6 6 0 0 0 9 9a9 9 0 1 1-9-9"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/views/templates/app.js":{content:`export default({html:t,AI:e,T:i})=>({style:!0,class:"w-full h-screen bg-[#282828] text-[#ebdbb2] flex font-sans text-sm",properties:{currentRoute:i.object({sync:"ram"}),isServerConnected:i.boolean({sync:"local"})},async connected(){await this.initializeAI()},async initializeAI(){try{e.isInitialized||await e.init({geminiApiKey:"",localAIEndpoint:"http://localhost:1234/v1/chat/completions",openrouterApiKey:"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",defaultRoots:[{uri:"file:///",name:"Root Filesystem",description:"Full filesystem access"}]}),this.isServerConnected=e.listClients().length>0}catch(s){console.error("Error initializing AI service:",s),this.isServerConnected=!1}},render(){return t\`
				<mcp-sidebar></mcp-sidebar>
				<div class="flex-1 h-full flex flex-col min-w-0">
					<div
						class="h-15 bg-[#3c3836] border-b border-[#504945] p-2 flex items-center justify-between"
					>
					
					</div>
					<div class="flex-1 overflow-auto flex">
            \${this.component}
					</div>
				</div>
			\`}});
`,mimeType:"application/javascript",skipSW:!1},"/views/templates/app.css":{content:`.app-template{.uix-card{button{color:#111;cursor:pointer}}}
`,mimeType:"text/css",skipSW:!1},"/modules/apps/mcp/views/sidebar.js":{content:`export default({html:o,T:t})=>({class:"w-64 bg-[#3c3836] text-[#ebdbb2] flex flex-col h-screen shrink-0 border-r border-[#504945]",properties:{currentRoute:t.object({sync:"ram"}),onSelectHistory:t.function(),isDarkMode:t.boolean({defaultValue:!0,sync:"local"})},_renderLink(e){const i=this.currentRoute.name===e.key;return o\`
            <uix-link href=\${\`/\${e.key}\`}
          icon=\${e.icon}
          label=\${e.label}
          data-active=\${i}
          class="[&>a>uix-icon]:w-5 [&>a>uix-icon]:h-5
            relative flex items-center text-sm font-bold p-2 rounded-md transition-colors w-full
            text-[#ebdbb2] hover:bg-[#504945]
            data-[active=true]:bg-[#504945] data-[active=true]:text-white
          ">
                \${e.isComingSoon?o\`<span class="ml-auto bg-[#b16286] text-xs font-bold text-white px-2 py-0.5 rounded-full absolute right-3">soon</span>\`:""}
            </uix-link>
        \`},toggleDarkMode(){document.body.classList.toggle("dark",this.isDarkMode),this.isDarkMode=!this.isDarkMode},render(){return o\`<div class="h-15 p-4 border-b border-[#504945] flex items-center space-x-2 shrink-0">
            <h2 class="text-xl text-[#ebdbb2] tracking-widest font-bold"><a href="/">\u{1F336}\uFE0F MCPiquant</a></h2>
        </div>
        <div class="flex-grow flex flex-col min-h-0">
            <nav class="p-2 space-y-1 shrink-0">
                \${[{key:"discover",label:"Discover",icon:"telescope"},{key:"dev",label:"Develop",icon:"code"},{key:"chat",label:"Chat",icon:"message-circle"},{key:"inspector",label:"Inspector",icon:"search"},{key:"local-servers",label:"Servers",icon:"server"},{key:"agents",label:"Agents",icon:"bot",isComingSoon:!0},{key:"apps",label:"Apps",icon:"layout-grid",isComingSoon:!0},{key:"learn",label:"Learn",icon:"book",isComingSoon:!0},{key:"vibecoding",label:"Vibecoding",icon:"zap",isComingSoon:!0}].map(i=>this._renderLink(i))}
            </nav>
            <div class="flex-grow flex flex-col border-t border-[#504945] min-h-0">
                <h3 class="p-2 text-xs font-semibold text-[#928374] uppercase tracking-wider shrink-0">History</h3>
                <div class="flex-1 overflow-y-auto">
                    <mcp-history .onSelect=\${this.onSelectHistory} listOnly></mcp-history>
                </div>
            </div>
            <div class="p-2 border-t border-[#504945] shrink-0">
                \${this._renderLink({key:"settings",label:"Settings",icon:"settings"})}
                \${this._renderLink({key:"feedback",label:"Feedback",icon:"message-square-heart"})}
								<uix-darkmode client:defer ghost></uix-darkmode>                
            </div>
        </div>
      \`}});
`,mimeType:"application/javascript",skipSW:!1},"/views/templates/discover.js":{content:`import{keyed as C}from"/modules/mvc/view/html/directive.js";export default({html:t,T:i,$APP:d,Model:b})=>(d.define("mcp-discover-list-view",{properties:{type:i.string("server"),tagId:i.string(),page:i.string("1")},render(){const s={model:\`\${this.type}s\`,key:"artifacts",offset:((this.page??1)-1)*6,limit:6};return this.tagId&&(s.where={tags:{$includes:this.tagId}}),C(this.page,t\`<mcp-artifact-grid
                                type=\${this.type}
                                .data-query=\${s}
																page=\${this.page}
                                ></mcp-artifact-grid>\`)}}),d.define("mcp-capabilities-display",{properties:{capabilities:i.object(),type:i.string("server")},render(){if(!this.capabilities)return t\`\`;const e={resources:{label:"Resources",icon:"database"},prompts:{label:"Prompts",icon:"message-square"},tools:{label:"Tools",icon:"wrench"},discovery:{label:"Discovery",icon:"search"},sampling:{label:"Sampling",icon:"activity"},roots:{label:"Roots",icon:"folder-tree"},elicitation:{label:"Elicitation",icon:"info"}},s=Object.entries(this.capabilities);return s.length===0?t\`\`:t\`
                <div class="flex flex-col gap-3">
                    <h4 class="text-xs font-bold text-[#a89984] uppercase tracking-wide">
                        Capabilities
                    </h4>
                    <div class="grid grid-cols-2 gap-2">
                        \${s.map(([a,o])=>{const r=e[a];if(!r)return"";const n=o===!0;return t\`
                                <div class="flex items-center gap-2 px-3 py-2 rounded-md \${n?"bg-[#3c3836] border border-[#83a598]":"bg-[#282828] border border-[#3c3836] opacity-50"}">
                                    <uix-icon
                                        name=\${r.icon}
                                        class="w-4 h-4 \${n?"text-[#83a598]":"text-[#665c54]"}"
                                    ></uix-icon>
                                    <span class="text-xs font-semibold \${n?"text-[#ebdbb2]":"text-[#928374]"}">
                                        \${r.label}
                                    </span>
                                </div>
                            \`})}
                    </div>
                </div>
            \`}}),d.define("mcp-connection-configurator",{properties:{artifact:i.object(),copyStatus:i.object({defaultValue:{}}),formValues:i.object({defaultValue:{}})},connected(){this.formValues={};const e=this.artifact?.packages?.[0];e?.environmentVariables&&e.environmentVariables.forEach(s=>{this.formValues[s.name]=s.defaultValue||""}),this.formValues.port||(this.formValues.port="8080")},handleInputChange(e,s){this.formValues[e]=s,this.update()},copyToClipboard(e,s){navigator.clipboard.writeText(s).then(()=>{this.copyStatus[e]="Copied!",this.update(),setTimeout(()=>{this.copyStatus[e]=null,this.update()},2e3)}).catch(a=>{console.error("Failed to copy text: ",a),this.copyStatus[e]="Failed!",this.update()})},renderPackageRunner(e){const s=this.formValues.port||"8080",a=e.environmentVariables||[],o=JSON.stringify({mcpServers:{[this.artifact.id]:{type:e.transport.type==="stdio"?"sse":e.transport.type,url:\`http://127.0.0.1:\${s}/\${e.transport.type==="stdio"?"sse":""}\`.replace(/\\/$/,"")}}},null,2),r=[e.identifier,"--port",s],n=JSON.stringify({command:"npx",args:r,env:this.formValues},null,2);return t\`
                <div class="flex flex-col gap-4">
                    <div>
                        <h4 class="text-xs font-bold text-[#a89984] uppercase tracking-wide mb-2">Package Arguments</h4>
                        <div class="flex flex-col gap-2">
                            <div class="flex items-center gap-2">
                                <label for="port" class="text-sm font-semibold text-[#bdae93] w-48">Server port number</label>
                                <input id="port" type="number" value=\${s} @input=\${c=>this.handleInputChange("port",c.target.value)} class="flex-1 bg-[#1d2021] border-2 border-[#3c3836] font-mono text-sm text-[#ebdbb2] rounded-md py-1.5 px-3 focus:outline-none focus:border-[#83a598]" />
                            </div>
                            \${a.map(c=>t\`
                                    <div class="flex items-center gap-2">
                                        <label for=\${c.name} class="text-sm font-semibold text-[#bdae93] w-48" title=\${c.description}>\${c.name}</label>
                                        <input id=\${c.name} type=\${c.isSecret?"password":"text"} value=\${this.formValues[c.name]||""} @input=\${m=>this.handleInputChange(c.name,m.target.value)} class="flex-1 bg-[#1d2021] border-2 border-[#3c3836] font-mono text-sm text-[#ebdbb2] rounded-md py-1.5 px-3 focus:outline-none focus:border-[#83a598]" placeholder=\${c.description} />
                                    </div>
                                \`)}
                        </div>
                    </div>

                    \${this.renderConfigBlock("MCP Server Configuration",o,"mcpConfig")}
                    \${this.renderConfigBlock("Transport Runner Configuration",n,"runnerConfig")}
                </div>
            \`},renderRemoteConnector(e){const s=JSON.stringify({mcpServers:{[this.artifact.id]:{type:e.type.replace("streamable-http","http"),url:e.url}}},null,2);return t\`
                <div class="flex flex-col gap-4">
                           \${this.renderConfigBlock("MCP Server Configuration",s,"mcpConfig")}
                </div>
            \`},renderConfigBlock(e,s,a){return t\`
                <div>
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="text-xs font-bold text-[#a89984] uppercase tracking-wide">\${e}</h4>
                        <button @click=\${()=>this.copyToClipboard(a,s)} class="flex items-center gap-1.5 text-xs font-bold text-[#83a598] hover:text-[#ebdbb2] transition-colors">
                            <uix-icon name="copy" class="w-3.5 h-3.5"></uix-icon>
                            \${this.copyStatus[a]||"Copy"}
                        </button>
                    </div>
                    <pre class="bg-[#1d2021] border border-[#3c3836] rounded-md p-3 text-xs text-[#98971a] font-mono overflow-x-auto"><code>\${s}</code></pre>
                </div>
            \`},render(){const{artifact:e}=this;if(!e)return t\`\`;const s=e.packages?.[0],a=e.remotes?.find(o=>o.type==="sse"||o.type==="streamable-http");return t\`
                <div class="flex flex-col gap-3 mt-4">
                    <h4 class="text-xs font-bold text-[#a89984] uppercase tracking-wide">
                        Connection
                    </h4>
                    <div class="bg-[#282828] border-2 border-dashed border-[#3c3836] rounded-lg p-4">
                        \${s?this.renderPackageRunner(s):a?this.renderRemoteConnector(a):t\`<p class="text-sm text-[#928374]">No connection information available.</p>\`}
                    </div>
                </div>
            \`}}),d.define("mcp-tags-grid",{properties:{tags:i.array([]),type:i.string("server")},render(){if(!this.tags||this.tags.length===0)return t\`\`;const e=\`/\${this.type}s\`;return t\`
                <div class="grid grid-cols-3 gap-2">
                    \${this.tags.map(s=>t\`
                            <uix-link
                                href=\${\`\${e}/tag/\${encodeURIComponent(s)}\`}
                                label=\${s}
                                class="text-xs font-bold px-2 py-1 rounded bg-[#504945] text-[#ebdbb2] hover:bg-[#665c54] transition-colors truncate block text-center"
                            >
                            </uix-link>
                        \`)}
                </div>
            \`}}),d.define("mcp-server-card",{properties:{artifact:i.object(),isDetailView:i.boolean(!1)},onToggleHot(e){e.stopPropagation(),e.preventDefault(),b.servers.edit({id:this.artifact.id,hots:(this.artifact.hots??0)+(this.artifact.hotted?-1:1),hotted:!this.artifact.hotted})},onToggleFavorite(e){e.stopPropagation(),e.preventDefault(),b.servers.edit({id:this.artifact.id,favorite:!this.artifact.favorite})},render(){const{artifact:e,isDetailView:s}=this;if(!e)return t\`\`;const a=e.favorite,o=a?"text-[#fabd2f]":"text-[#a89984]",r=[];return e.transports&&(e.transports.stdio&&r.push({icon:"terminal",label:"stdio"}),e.transports.sse&&r.push({icon:"radio",label:"SSE"}),e.transports.streamableHTTP&&r.push({icon:"globe",label:"HTTP"})),t\`
                <div class=\${\`\${s?"":"hover:border-[#cc241d] hover:shadow-[6px_6px_0px_#cc241d]"} bg-[#282828]
                    w-full h-full flex-1 border-2 border-[#3c3836] rounded-lg p-5 flex flex-col gap-5
                    font-semibold transition-all duration-200 shadow-[4px_4px_0px_#1d2021]\`}>
                    <div class="flex items-center gap-4 w-full">
                        <div class="w-12 h-12 text-xl rounded-md flex-shrink-0 flex items-center justify-center bg-[#1d2021] text-[#cc241d]">
                            \${e.icon?t\`<uix-icon name=\${e.icon} class="w-6 h-6"></uix-icon>\`:e.name[0].toUpperCase()}
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 flex-wrap">
                                <h3 class="font-bold text-lg truncate">
                                    <uix-link class="text-[#ebdbb2]" href=\${\`/server/\${e.id.replace("/","_")}\`} label=\${e.name}></uix-link>
                                </h3>
                                \${e.version?t\`<span class="text-xs text-[#928374] font-mono bg-[#1d2021] px-2 py-0.5 rounded">v\${e.version}</span>\`:""}
                                \${e.isConnected?t\`<span class="text-xs text-[#98971a] font-medium whitespace-nowrap">Connected</span>\`:""}
                            </div>
                            \${e.repository?.url?t\`<a href=\${e.repository.url} target="_blank" class="text-xs text-[#928374] hover:text-[#cc241d] truncate block flex items-center gap-1"><uix-icon name="github" class="w-3 h-3"></uix-icon>\${e.repository.url.replace("https://github.com/","")}</a>\`:""}
                        </div>
                        <uix-link
                            @click=\${this.onToggleFavorite.bind(this)}
                            icon="star"
                            class="w-6 h-6 \${o} pointer transition-colors hover:text-yellow-300 flex-shrink-0"
                            fill=\${a?"currentColor":"none"}
                        ></uix-link>
                    </div>

                    <p class="text-sm text-[#bdae93] font-medium leading-relaxed">
                        \${e.description}
                    </p>

                    \${r.length>0&&!s?t\`
                                <div class="flex flex-col gap-2">
                                    <h4 class="text-xs font-bold text-[#a89984] uppercase tracking-wide">
                                        Transports
                                    </h4>
                                    <div class="flex flex-wrap gap-2">
                                        \${r.map(n=>t\`
                                                <div class="flex items-center gap-1.5 px-3 py-1.5 rounded-md bg-[#3c3836] border border-[#83a598]">
                                                    <uix-icon name=\${n.icon} class="w-3.5 h-3.5 text-[#83a598]"></uix-icon>
                                                    <span class="text-xs font-semibold text-[#ebdbb2]">\${n.label}</span>
                                                </div>
                                            \`)}
                                    </div>
                                </div>\`:""}

                    \${e.capabilities?t\`
                                <mcp-capabilities-display
                                    .capabilities=\${e.capabilities}
                                    type="server"
                                ></mcp-capabilities-display>\`:""}
                    
                    \${s?t\`<mcp-connection-configurator .artifact=\${e}></mcp-connection-configurator>\`:""}
                    
                    <div class="flex flex-col gap-4 pt-4 border-t-2 border-dashed border-[#504945] w-full mt-auto">
                        <mcp-tags-grid .tags=\${e.tags||[]} type="server"></mcp-tags-grid>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-4">
                                <button
                                    @click=\${this.onToggleHot.bind(this)}
                                    class="flex items-center gap-1.5 px-2 py-1 rounded-md transition-colors font-bold text-sm \${e.hotted?"bg-[#fe8019] text-[#1d2021]":"bg-[#504945] text-[#ebdbb2] hover:bg-[#665c54]"}"
                                >
                                    <uix-icon name="flame" class="w-4 h-4"></uix-icon>
                                    <span>\${e.hots??0}</span>
                                </button>
                                <div class="flex items-center gap-1.5 text-[#a89984] font-bold text-sm" title="Comments">
                                    <uix-icon name="message-circle" class="w-4 h-4"></uix-icon>
                                    <span>\${e.commentsCount??0}</span>
                                </div>
                            </div>
                               \${s?"":e.isConnected?t\`<uix-button label="Disconnect" class="bg-[#cc241d] text-[#ebdbb2] font-bold" size="small"></uix-button>\`:t\`<uix-button label="Connect" class="bg-[#cc241d] text-[#ebdbb2] font-bold" size="small"></uix-button>\`}
                        </div>
                    </div>
                </div>
            \`}}),d.define("mcp-client-card",{properties:{artifact:i.object(),isDetailView:i.boolean(!1)},onToggleHot(e){e.stopPropagation(),e.preventDefault(),b.clients.edit({id:this.artifact.id,hots:(this.artifact.hots??0)+(this.artifact.hotted?-1:1),hotted:!this.artifact.hotted})},onToggleFavorite(e){e.stopPropagation(),e.preventDefault(),b.clients.edit({id:this.artifact.id,favorite:!this.artifact.favorite})},render(){const{artifact:e,isDetailView:s}=this;if(!e)return t\`\`;const a=e.favorite,o=a?"text-[#fabd2f]":"text-[#a89984]";return t\`
                <div class=\${\`\${s?"":"hover:border-[#98971a] hover:shadow-[6px_6px_0px_#98971a]"} bg-[#282828]
                    w-full h-full flex-1 border-2 border-[#3c3836] rounded-lg p-5 flex flex-col gap-5
                    font-semibold transition-all duration-200 shadow-[4px_4px_0px_#1d2021]\`}>
                    
                    <div class="flex items-center gap-4 w-full">
                        <div class="w-12 h-12 text-xl rounded-md flex-shrink-0 flex items-center justify-center bg-[#1d2021] text-[#98971a]">
                            \${e.icon?t\`<uix-icon name=\${e.icon} class="w-6 h-6"></uix-icon>\`:e.name[0].toUpperCase()}
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2">
                                <h3 class="font-bold text-lg truncate">
                                    <uix-link class="text-[#ebdbb2]" href=\${\`/client/\${encodeURIComponent(e.id)}\`} label=\${e.name}></uix-link>
                                </h3>
                            </div>
                            \${e.url?t\`<uix-link href=\${e.url} target="_blank" class="[&>a>uix-icon]:w-3 [&>a>uix-icon]:h-3 text-xs text-[#928374] hover:text-[#98971a] truncate block" label=\${e.url} icon="link"></uix-link>\`:""}
                        </div>
                        <uix-link
                            @click=\${this.onToggleFavorite.bind(this)}
                            icon="star"
                            class="[&>a>uix-icon]:w-6 [&>a>uix-icon]:h-6 \${o} pointer transition-colors hover:text-yellow-300 flex-shrink-0"
                            fill=\${a?"currentColor":"none"}
                        ></uix-link>
                    </div>

                    <!-- Description -->
                    <p class="text-sm text-[#bdae93] font-medium leading-relaxed">
                        \${e.description}
                    </p>

                    <!-- Capabilities (Client-specific) -->
                    \${e.capabilities?t\`
                                <mcp-capabilities-display
                                    .capabilities=\${e.capabilities}
                                    type="client"
                                ></mcp-capabilities-display>
                            \`:""}

                    <!-- Platform Tags (Client-specific feature) -->
                    \${e.tags?.some(r=>["web","desktop","mobile"].includes(r))?t\`
                                <div class="flex flex-col gap-2">
                                    <h4 class="text-xs font-bold text-[#a89984] uppercase tracking-wide">
                                        Platforms
                                    </h4>
                                    <div class="flex flex-wrap gap-2">
                                        \${e.tags.filter(r=>["web","desktop","mobile"].includes(r)).map(r=>t\`
                                                <div class="flex items-center gap-1.5 px-3 py-1.5 rounded-md bg-[#3c3836] border border-[#98971a]">
                                                    <uix-icon name=\${{web:"globe",desktop:"monitor",mobile:"smartphone"}[r]} class="w-3.5 h-3.5 text-[#98971a]"></uix-icon>
                                                    <span class="text-xs font-semibold text-[#ebdbb2] capitalize">\${r}</span>
                                                </div>
                                            \`)}
                                    </div>
                                </div>
                            \`:""}

                    <!-- Footer Section -->
                    <div class="flex flex-col gap-4 pt-4 border-t-2 border-dashed border-[#504945] w-full mt-auto">
                        <mcp-tags-grid .tags=\${(e.tags||[]).filter(r=>!["web","desktop","mobile"].includes(r))} type="client"></mcp-tags-grid>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-4">
                                <button
                                    @click=\${this.onToggleHot.bind(this)}
                                    class="flex items-center gap-1.5 px-2 py-1 rounded-md transition-colors font-bold text-sm \${e.hotted?"bg-[#fe8019] text-[#1d2021]":"bg-[#504945] text-[#ebdbb2] hover:bg-[#665c54]"}"
                                >
                                    <uix-icon name="flame" class="w-4 h-4"></uix-icon>
                                    <span>\${e.hots??0}</span>
                                </button>
                                <div class="flex items-center gap-1.5 text-[#a89984] font-bold text-sm" title="Comments">
                                    <uix-icon name="message-circle" class="w-4 h-4"></uix-icon>
                                    <span>\${e.commentsCount}</span>
                                </div>
                            </div>
                            <a href=\${e.url} target="_blank" class="no-underline">
                                <uix-button label="View Client" class="bg-[#98971a] text-[#ebdbb2] font-bold" size="small"></uix-button>
                            </a>
                        </div>
                    </div>
                </div>
            \`}}),d.define("mcp-discover-header",{properties:{type:i.string("server"),searchQuery:i.string(""),availableTags:i.array([]),onSearchChange:i.function(),currentRoute:i.object({sync:"ram"})},render(){const e=["Servers","Clients","Agents"];return t\`
                <div class="flex flex-col gap-6">
                    <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-4">
                        <div>
                            <h1 class="font-bold text-3xl text-[#ebdbb2]">Discover</h1>
                            <p class="text-[#bdae93]">
                                Browse, experiment, develop, and discuss all things MCP
                            </p>
                        </div>
                        <div class="relative">
                            <input
                                type="text"
                                value=\${this.searchQuery}
                                @input=\${s=>this.onSearchChange(s.target.value)}
                                placeholder="Search ..."
                                class="w-full md:w-72 bg-[#282828] border-2 border-[#3c3836] font-semibold text-[#ebdbb2] rounded-lg py-2 pl-10 pr-4 focus:outline-none focus:shadow-[2px_2px_0px_#1d2021] focus:border-[#83a598] transition"
                            />
                            <uix-icon
                                name="search"
                                class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#928374]"
                            ></uix-icon>
                        </div>
                    </div>

                    <div class="flex flex-col gap-4">
                        <div class="flex items-center border border-[#3c3836] rounded-lg bg-[#282828] w-full md:w-auto self-start">
                            \${e.map(s=>{const a=s.toLowerCase(),o=\`/\${a==="servers"?"":a}\`,r=a==="servers"?this.currentRoute.path==="/"||this.currentRoute.path.startsWith("/servers"):this.currentRoute.path.startsWith(o);return t\`
                                    <uix-link
                                        href=\${o}
                                        label=\${s}
                                        class="block [&>a]:px-5 [&>a]:py-2.5 [&>a]:block rounded-md text-sm font-semibold transition-colors \${r?"bg-[#458588] text-[#ebdbb2]":"text-[#bdae93] hover:bg-[#3c3836]"}"
                                    >
                                    </uix-link>
                                \`})}
                        </div>
                        <div>
                            <div class="flex flex-wrap gap-2">
                                <span class="text-[#a89984] font-bold text-xs self-center pr-2">TAGS:</span>
                                \${this.availableTags.map(s=>{const a=this.currentRoute.params.tagId&&this.currentRoute.params.tagId===s.id;return t\`
                                        <uix-link
                                            href=\${\`/\${this.type}s/tag/\${encodeURIComponent(s.id)}\`}
                                            label=\${s.name}
                                            class="text-xs font-bold px-2 py-1 rounded transition-colors \${a?"bg-[#83a598] text-[#1d2021]":"bg-[#504945] text-[#ebdbb2] hover:bg-[#665c54]"}"
                                        >
                                        </uix-link>
                                    \`})}
                            </div>
                        </div>
                    </div>
                </div>
            \`}}),d.define("mcp-artifact-grid",{class:"flex flex-col gap-6",properties:{artifacts:i.array(),type:i.string("server"),onClearFilters:i.function(),searchQuery:i.string(""),activeTags:i.array([]),availableTags:i.array([]),component:i.object(),page:i.string(),currentRoute:i.object({sync:"ram",attribute:!1,reflect:!1})},async connected(){this._currentArtifactType=void 0},async _fetchTagsForType(e){if(this._currentArtifactType===e)return;if(this._currentArtifactType=e,!e){this.availableTags=[];return}const s=await b.tags.getAll();this.availableTags=[...new Set(s)]},toggleTag(e){const s=this.activeTags.indexOf(e);s>-1?this.activeTags.splice(s,1):this.activeTags.push(e),this.update()},clearFilters(){this.activeTags=[],this.searchQuery="",this.update()},render(){const e=this.type;this._fetchTagsForType(e);const{artifacts:s=[]}=this,a=this.type==="client"?"mcp-client-card":"mcp-server-card",o=this["data-query"]?.count,r=this["data-query"]?.limit||6;let n=t\`\`;if(o&&o>r){const l=Math.ceil(o/r),u=this.page?Number.parseInt(this.page,10):1,v=\`/\${e}s\`,h=(p,x=null)=>{const g=p===u;return t\`
                        <uix-link
                            href=\${\`\${v}/page/\${p}\`}
                            label=\${x||String(p)}
                            class="block [&>a]:px-4 [&>a]:py-2 [&>a]:block rounded-md text-sm font-bold transition-colors \${g?"bg-[#83a598] text-[#1d2021]":"bg-[#3c3836] text-[#ebdbb2] hover:bg-[#504945]"}"
                        ></uix-link>
                    \`},y=t\`<span class="flex items-center justify-center px-2 py-2 text-sm font-bold text-[#928374]">...</span>\`,f=[],$=5;if(l<=$+2)for(let p=1;p<=l;p++)f.push(h(p));else{f.push(h(1));let p=Math.max(2,u-2),x=Math.min(l-1,u+2);u<=4&&(x=$),u>l-4&&(p=l-$+1),p>2&&f.push(y);for(let g=p;g<=x;g++)f.push(h(g));x<l-1&&f.push(y),f.push(h(l))}const w=u>1,k=u<l;n=t\`
                    <div class="flex items-center justify-center gap-2 mt-8">
                        <uix-link
                            href=\${w?\`\${v}/page/\${u-1}\`:null}
                            label="Previous"
                            class="block [&>a]:px-4 [&>a]:py-2 [&>a]:block rounded-md text-sm font-bold bg-[#3c3836] text-[#ebdbb2] hover:bg-[#504945] transition-colors \${w?"":"opacity-50 pointer-events-none"}"
                        ></uix-link>
                        \${f}
                        <uix-link
                            href=\${k?\`\${v}/page/\${u+1}\`:null}
                            label="Next"
                            class="block [&>a]:px-4 [&>a]:py-2 [&>a]:block rounded-md text-sm font-bold bg-[#3c3836] text-[#ebdbb2] hover:bg-[#504945] transition-colors \${k?"":"opacity-50 pointer-events-none"}"
                        ></uix-link>
                    </div>
                \`}const c=\`Discover \${this.type.charAt(0).toUpperCase()+this.type.slice(1)}s\`,m=\`Browse and find \${this.type}s on the MCP network.\`;return t\`
                <uix-seo
                    pageTitle=\${c}
                    description=\${m}
                ></uix-seo>

                <mcp-discover-header
                    type=\${this.type}
                    searchQuery=\${this.searchQuery}
                    .activeTags=\${this.activeTags}
                    .availableTags=\${this.availableTags}
                    .onSearchChange=\${l=>{this.searchQuery=l}}
                >
                </mcp-discover-header>
                <div class="flex-grow">
                    \${s.length===0?t\`
                                <div class="w-full text-center text-[#928374] p-8 bg-[#282828] border-2 border-dashed border-[#3c3836] rounded-lg">
                                    <h3 class="font-bold text-lg text-[#ebdbb2]">
                                        No Artifacts Found
                                    </h3>
                                    <p>
                                        Your search and filter combination did not match any artifacts.
                                    </p>
                                    <button
                                        @click=\${()=>this.onClearFilters()}
                                        class="mt-4 text-sm font-bold text-[#83a598] hover:underline"
                                    >
                                        Clear all filters
                                    </button>
                                </div>
                            \`:t\`
                                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                                    \${s.map(l=>t.staticHTML\`
                                            <\${t.unsafeStatic(a)}
                                                .artifact=\${l}
                                            ></\${t.unsafeStatic(a)}>
                                        \`)}
                                </div>
                                \${n}
                            \`}
                </div>
            \`}}),d.define("mcp-artifact-detail",{class:"flex-grow gap-8 flex flex-col",properties:{type:i.string("server"),artifact:i.object()},render(){const{artifact:e}=this;if(!e)return t\`\`;const s=this.type==="client"?"mcp-client-card":"mcp-server-card",a=this.type==="client"?"/clients":"/servers",o=\`\${d.settings.canonicalUrl}\${a}/\${e.id.replace("/","_")}\`;return t.staticHTML\`
                <uix-seo
                    pageTitle=\${e.name}
                    description=\${e.description}
                    canonicalUrl=\${o}
                ></uix-seo>

                <uix-link
                    class="flex items-center gap-2 text-[#bdae93] hover:text-[#ebdbb2] font-semibold self-start -mb-4"
                    label="Back to Discover"
                    icon="arrow-left"
                    href=\${a}
                >
                </uix-link>
                <\${t.unsafeStatic(s)}
                    .artifact=\${e}
                    isDetailView
                ></\${t.unsafeStatic(s)}>
                <div class="flex flex-col gap-y-10">
                    <view-github-comments
                        owner="mcpiquanthq"
                        repo="githubcomments"
                        title=\${e.name}
                    >
                    </view-github-comments>
                </div>
            \`}}),d.define("mcp-trending-discussions",{class:"w-80 bg-[#282828] p-6 flex-col space-y-6 flex-shrink-0 hidden lg:flex border-l border-[#3c3836]",properties:{discussions:i.object()},render(){return t\`
                <h2 class="font-semibold text-lg text-[#ebdbb2]">
                    Trending Discussions
                </h2>
                <div class="flex flex-col gap-y-10">
                    \${this.discussions?.map(e=>t\`
                            <div class="flex items-start gap-3 text-[#bdae93]">
                                <div class="w-8 h-8 flex-shrink-0 bg-[#3c3836] rounded-md flex items-center justify-center text-[#928374]">
                                    <uix-icon name=\${e.icon} class="w-5 h-5"></uix-icon>
                                </div>
                                <div>
                                    <p class="font-semibold text-[#ebdbb2] hover:text-[#83a598] cursor-pointer leading">
                                        \${e.title}
                                    </p>
                                    <div class="text-xs text-[#928374] flex items-center gap-4 mt-1.5">
                                        <span>\${e.category}</span>
                                        <div class="flex items-center gap-1.5" title="Upvotes">
                                            <uix-icon name="arrow-up" class="w-3.5 h-3.5"></uix-icon>
                                            <span>\${e.upvotes}</span>
                                        </div>
                                        <div class="flex items-center gap-1.5" title="Comments">
                                            <uix-icon name="message-circle" class="w-3.5 h-3.5"></uix-icon>
                                            <span>\${e.comments}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        \`)}
                </div>
                <uix-button
                    label="View all discussions"
                    class="w-full mt-auto bg-[#3c3836]"
                    size="small"
                ></uix-button>
            \`}}),{tag:"mcp-main",class:"w-full h-full bg-[#1d2021] text-[#ebdbb2] flex font-sans text-sm overflow-hidden",properties:{currentRoute:i.object({sync:"ram",attribute:!1,reflect:!1})},render(){return t\`
                <main class="flex-grow p-6 md:p-8 flex flex-col gap-8 overflow-y-auto">
                    \${this.currentRoute?.matched?.component}
                </main>
                <mcp-trending-discussions
                    .data-query=\${{model:"discussions",limit:5,key:"discussions"}}
                ></mcp-trending-discussions>
            \`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/apps/mcp/views/history.js":{content:`export default({html:t,AI:r,T:i})=>($APP.define("mcp-history-view",{properties:{item:i.object(null),onBack:i.function()},handleBack(){this.onBack&&this.onBack()},render(){if(!this.item)return t\`<div class="text-center text-gray-500 h-full flex items-center justify-center">Select a history item to view details.</div>\`;const{item:e}=this;return t\`
                <div class="text-sm">
                    <uix-link label="Back" icon="arrow-left" reverse @click=\${this.handleBack.bind(this)} class="text-xs text-blue-600 hover:underline mb-3 flex items-center"></uix-link>
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-mono text-xs font-bold text-gray-700 mb-1">REQUEST</h4>
                            <pre class="text-xs whitespace-pre-wrap bg-gray-800 text-gray-200 p-2 rounded-lg font-mono overflow-auto">\${JSON.stringify({tool:e.toolName,args:e.args||e.params},null,2)}</pre>
                        </div>
                        <div>
                            <h4 class="font-mono text-xs font-bold text-gray-700 mb-1">RESPONSE</h4>
                            \${e.status==="success"?t\`<pre class="text-xs whitespace-pre-wrap bg-gray-900 text-green-400 p-2 rounded-lg font-mono overflow-auto">\${JSON.stringify(e.result,null,2)}</pre>\`:e.status==="error"?t\`<pre class="text-xs whitespace-pre-wrap bg-red-100 text-red-700 p-2 rounded-lg font-mono overflow-auto">\${e.error}</pre>\`:t\`<p class="text-xs text-gray-500">Request is still pending...</p>\`}
                        </div>
                    </div>
                </div>
            \`}}),{properties:{history:i.array([]),selectedHistoryId:i.string(null),onSelect:i.function(),listOnly:i.boolean()},selectHistoryItem(e){this.selectedHistoryId=e?e.id:void 0,this.onHistorySelect&&this.onSelect(e)},connected(){this.historyUnsubscribe=r.onHistoryChange(e=>{this.history=e.history}),this.history=r.getHistory()},render(){if(this.history.length===0)return t\`<p class="text-center text-xs text-gray-400 p-4">No history yet</p>\`;const e=this.history.find(s=>s.id===this.selectedHistoryId);return t\`
                <ul class="text-xs space-y-1 font-mono">
                    \${this.history.map(s=>t\`
                            <li
                                class="flex flex-col \${this.selectedHistoryId===s.id?"font-semibold text-blue-100 p-2":s.status==="error"?"text-red-100":"text-white"}">
                                <div 
																 @click=\${()=>this.selectHistoryItem(s)}
																class="cursor-pointer flex items-center justify-between p-2 rounded hover:bg-gray-700">
																<span class="text-ellipsis">\${s.toolName}</span>
                                <div class="flex items-center">
                                    <span class="text-gray-500 mr-2">\${s.status}</span>
                                    <uix-icon name="chevron-right" class="h-4 w-4 text-gray-400"></uix-icon>
                                </div>
																</div>
																\${!this.listOnly||!e||e.id!==s.id?null:t\`<mcp-history-view .item=\${e} .onBack=\${()=>this.selectHistoryItem(null)}></mcp-history-view>\`}
                            </li>
                        \`)}
                </ul>
            \`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/uix/utility/seo.js":{content:'export default({T:a,html:p,$APP:u})=>({properties:{pageTitle:a.string(),description:a.string(),imageUrl:a.string("/assets/cover.png"),canonicalUrl:a.string(),structuredData:a.object()},connected(){this.updateSeoTags()},updated(){this.updateSeoTags()},updateSeoTags(){const{pageTitle:e,description:i,imageUrl:t,canonicalUrl:r,structuredData:c}=this,s="MCP Discover",n="Browse, experiment, develop, and discuss all things MCP.";document.title=e?`${e} | ${s}`:s,this._upsertMetaTag("name","description",i||n);const o=r||u.settings.url+window.location.pathname||window.location.href;this._upsertLinkTag("rel","canonical",o),this._upsertMetaTag("property","og:title",e||s),this._upsertMetaTag("property","og:description",i||n),this._upsertMetaTag("property","og:url",o),this._upsertMetaTag("property","og:type","website"),t&&this._upsertMetaTag("property","og:image",t),this._upsertMetaTag("name","twitter:card","summary_large_image"),this._upsertMetaTag("name","twitter:title",e||s),this._upsertMetaTag("name","twitter:description",i||n),t&&this._upsertMetaTag("name","twitter:image",t),this._upsertStructuredData(c)},_upsertMetaTag(e,i,t){if(!t)return;let r=document.head.querySelector(`meta[${e}="${i}"]`);r||(r=document.createElement("meta"),r.setAttribute(e,i),document.head.appendChild(r)),r.setAttribute("content",t)},_upsertLinkTag(e,i,t){if(!t)return;let r=document.head.querySelector(`link[${e}="${i}"]`);r||(r=document.createElement("link"),r.setAttribute(e,i),document.head.appendChild(r)),r.setAttribute("href",t)},_upsertStructuredData(e){let t=document.head.querySelector(\'script[type="application/ld+json"]\');if(!e||Object.keys(e).length===0){t&&t.remove();return}t||(t=document.createElement("script"),t.setAttribute("type","application/ld+json"),document.head.appendChild(t)),t.textContent=JSON.stringify(e,null,2)},render(){return p``}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/icon-lucide/lucide/code.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m16 18l6-6l-6-6M8 6l-6 6l6 6"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/telescope.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m10.065 12.493l-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44m-2.875 6.493l4.332-.924M16 21l-3.105-6.21"/><path d="M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455zM6.158 8.633l1.114 4.456M8 21l3.105-6.21"/><circle cx="12" cy="13" r="2"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/server.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="20" height="8" x="2" y="2" rx="2" ry="2"/><rect width="20" height="8" x="2" y="14" rx="2" ry="2"/><path d="M6 6h.01M6 18h.01"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/bot.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 8V4H8"/><rect width="16" height="12" x="4" y="8" rx="2"/><path d="M2 14h2m16 0h2m-7-1v2m-6-2v2"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/book.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/layout-grid.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="7" height="7" x="3" y="3" rx="1"/><rect width="7" height="7" x="14" y="3" rx="1"/><rect width="7" height="7" x="14" y="14" rx="1"/><rect width="7" height="7" x="3" y="14" rx="1"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/message-square-heart.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M14.8 7.5a1.84 1.84 0 0 0-2.6 0l-.2.3l-.3-.3a1.84 1.84 0 1 0-2.4 2.8L12 13l2.7-2.7c.9-.9.8-2.1.1-2.8"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/views/github-comments.js":{content:`export default({T:r,html:a})=>{const c=async(t,s,i)=>{const n={"Content-Type":"application/json",Accept:"application/json"};t&&(n.Authorization=\`bearer \${t}\`);const e=await fetch("https://api.github.com/graphql",{method:"POST",headers:n,body:JSON.stringify({query:s,variables:i})});if(!e.ok)throw new Error(\`Network response was not ok, status: \${e.status}\`);const o=await e.json();if(o.errors)throw new Error(\`GraphQL Error: \${o.errors.map(u=>u.message).join(", ")}\`);return o.data};return{properties:{title:r.string(""),comments:r.array([]),user:r.object(null),owner:r.string(),repo:r.string(),categoryId:r.string(""),newComment:r.string(""),isLoading:r.boolean(!1),discussionId:r.string(null),discussionNumber:r.number(null)},async connected(){const t=localStorage.getItem("github_token");t&&await this.fetchUser(t),await this.loadComments()},async loginWithGitHub(){const t="Iv23li5VLrzD90cqA7AX",s=encodeURIComponent(\`\${window.location.origin}/github\`),i="public_repo read:discussion write:discussion";sessionStorage.setItem("github_auth_return",window.location.href),window.location.href=\`https://github.com/login/oauth/authorize?client_id=\${t}&redirect_uri=\${s}&scope=\${i}\`},async fetchUser(t){try{const s=await fetch("https://api.github.com/user",{headers:{Authorization:\`token \${t}\`,Accept:"application/vnd.github.v3+json"}});s.ok?this.user=await s.json():(localStorage.removeItem("github_token"),this.user=null)}catch(s){console.error("Failed to fetch user:",s)}},async findDiscussionByTitle(t=null){const s=\`
                query FindDiscussion($searchQuery: String!) {
                    search(query: $searchQuery, type: DISCUSSION, first: 1) {
                        nodes {
                            ... on Discussion {
                                id
                                number
                                title
                            }
                        }
                    }
                }
            \`,i=\`repo:\${this.owner}/\${this.repo} in:title "\${this.title}" sort:created-asc\`;try{const e=(await c(t,s,{searchQuery:i}))?.search?.nodes?.[0];return e&&e.title.toLowerCase()===this.title.toLowerCase()?(this.discussionId=e.id,this.discussionNumber=e.number,e):null}catch(n){return console.error("Failed to search for discussion:",n),null}},async createDiscussion(t){const s=\`
                query GetRepo($owner: String!, $repo: String!) {
                    repository(owner: $owner, name: $repo) {
                        id
                        discussionCategories(first: 10) {
                            nodes {
                                id
                                name
                            }
                        }
                    }
                }
            \`;try{const i=await c(t,s,{owner:this.owner,repo:this.repo}),n=i?.repository?.id,e=i?.repository?.discussionCategories?.nodes||[];let o=this.categoryId;if(!o&&e.length>0){const l=e.find(h=>h.name.toLowerCase()==="general"||h.name.toLowerCase()==="announcements");o=l?l.id:e[0].id}if(!n||!o)throw new Error("Could not find repository or a suitable category ID");const d=(await c(t,\`
                    mutation CreateDiscussion($repositoryId: ID!, $categoryId: ID!, $title: String!, $body: String!) {
                        createDiscussion(input: {
                            repositoryId: $repositoryId,
                            categoryId: $categoryId,
                            title: $title,
                            body: $body
                        }) {
                            discussion {
                                id
                                number
                                title
                            }
                        }
                    }
                \`,{repositoryId:n,categoryId:o,title:this.title,body:"Discussion created automatically to host comments."}))?.createDiscussion?.discussion;return d?(this.discussionId=d.id,this.discussionNumber=d.number,d):null}catch(i){throw console.error("Failed to create discussion:",i),i}},async loadComments(){this.isLoading=!0;try{const t=localStorage.getItem("github_token"),s=await this.findDiscussionByTitle(t);if(!s){this.comments=[],this.isLoading=!1;return}const e=(await c(t,\`
                    query GetDiscussionComments($owner: String!, $repo: String!, $number: Int!) {
                        repository(owner: $owner, name: $repo) {
                            discussion(number: $number) {
                                comments(first: 100) {
                                    nodes {
                                        id
                                        body
                                        createdAt
                                        url
                                        author {
                                            login
                                            avatarUrl
                                            url
                                        }
                                    }
                                }
                            }
                        }
                    }
                \`,{owner:this.owner,repo:this.repo,number:s.number}))?.repository?.discussion?.comments?.nodes||[];this.comments=e.map(o=>({id:o.id,content:o.body,authorName:o.author.login,authorAvatar:o.author.avatarUrl,githubUrl:o.author.url,createdAt:o.createdAt,htmlUrl:o.url}))}catch(t){console.error("Failed to load comments:",t),this.comments=[]}finally{this.isLoading=!1}},async postComment(t){if(t.preventDefault(),!this.user){this.loginWithGitHub();return}if(!this.newComment.trim())return;const s=localStorage.getItem("github_token");if(!s){this.loginWithGitHub();return}try{if(!this.discussionId){let o=await this.findDiscussionByTitle(s);if(o||(o=await this.createDiscussion(s)),!o)throw new Error("Failed to find or create a discussion for this topic.")}const e=(await c(s,\`
                    mutation AddComment($discussionId: ID!, $body: String!) {
                        addDiscussionComment(input: {discussionId: $discussionId, body: $body}) {
                            comment {
                                id
                                body
                                createdAt
                                url
                                author {
                                    login
                                    avatarUrl
                                    url
                                }
                            }
                        }
                    }
                \`,{discussionId:this.discussionId,body:this.newComment})).addDiscussionComment.comment;this.comments.push({id:e.id,content:e.body,authorName:e.author.login,authorAvatar:e.author.avatarUrl,githubUrl:e.author.url,createdAt:e.createdAt,htmlUrl:e.url}),this.newComment="",this.update()}catch(i){console.error("Failed to post comment:",i),i.message.includes("status: 401")&&(localStorage.removeItem("github_token"),this.user=null,this.loginWithGitHub())}},logout(){localStorage.removeItem("github_token"),this.user=null,this.update()},formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},render(){return a\`
              <div class="flex flex-col gap-6 bg-[#282828] border-2 border-[#3c3836] rounded-lg p-6 font-sans">
                  <div class="flex items-center justify-between">
                      <h2 class="font-semibold text-2xl text-[#ebdbb2]">
                          Comments (\${this.comments.length})
                      </h2>
                      \${this.user?a\`
                                    <div class="flex items-center gap-3">
                                        <img
                                            src=\${this.user.avatar_url}
                                            alt=\${this.user.login}
                                            class="w-8 h-8 rounded-full"
                                        />
                                        <span class="text-sm text-[#bdae93]">\${this.user.login}</span>
                                        <button
                                            @click=\${()=>this.logout()}
                                            class="text-xs text-[#928374] hover:text-[#ebdbb2] font-semibold"
                                        >
                                            Logout
                                        </button>
                                    </div>
                                \`:""}
                  </div>
      
                  <!-- Comment Form -->
                  <form @submit=\${t=>this.postComment(t)} class="flex flex-col gap-3">
                      <textarea
                          .value=\${this.newComment}
                          @input=\${t=>{this.newComment=t.target.value,this.update()}}
                          rows="3"
                          placeholder=\${this.user?"Share your thoughts...":"Sign in with GitHub to comment..."}
                          ?disabled=\${!this.user}
                          class="w-full bg-[#1d2021] border-2 border-[#3c3836] font-semibold text-[#ebdbb2] rounded-lg py-2 px-4 focus:outline-none focus:shadow-[2px_2px_0px_#1d2021] focus:border-[#83a598] transition disabled:opacity-50"
                      ></textarea>
                      
                      \${this.user?a\`
                                    <button
                                        type="submit"
                                        ?disabled=\${!this.newComment.trim()}
                                        class="bg-[#458588] text-[#ebdbb2] font-bold px-4 py-2 rounded-lg self-end hover:bg-[#83a598] transition disabled:opacity-50 disabled:cursor-not-allowed"
                                    >
                                        Post Comment
                                    </button>
                                \`:a\`
                                    <button
                                        type="button"
                                        @click=\${()=>this.loginWithGitHub()}
                                        class="bg-[#458588] text-[#ebdbb2] font-bold px-4 py-2 rounded-lg self-end hover:bg-[#83a598] transition flex items-center gap-2"
                                    >
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                        </svg>
                                        Sign in with GitHub
                                    </button>
                                \`}
                  </form>
      
                  <!-- Comments List -->
                  <div class="flex flex-col gap-6">
                      \${this.isLoading?a\`
                                    <div class="text-center text-[#928374] py-8">
                                        Loading comments...
                                    </div>
                                \`:this.comments.length>0?this.comments.map(t=>a\`
                                        <div class="flex items-start gap-4">
                                            <a href=\${t.githubUrl} target="_blank" rel="noopener noreferrer">
                                                <img
                                                    src=\${t.authorAvatar}
                                                    alt=\${t.authorName}
                                                    class="w-10 h-10 rounded-full flex-shrink-0 hover:opacity-80 transition"
                                                />
                                            </a>
                                            <div class="flex-grow">
                                                <div class="flex items-baseline gap-3">
                                                    <a
                                                        href=\${t.githubUrl}
                                                        target="_blank"
                                                        rel="noopener noreferrer"
                                                        class="font-bold text-md text-[#ebdbb2] hover:text-[#83a598]"
                                                    >
                                                        \${t.authorName}
                                                    </a>
                                                    <span class="text-xs text-[#928374]">
                                                        \${this.formatDate(t.createdAt)}
                                                    </span>
                                                </div>
                                                <div class="mt-2 bg-[#1d2021] border-2 border-[#3c3836] rounded-lg p-3 text-[#d5c4a1]">
                                                    \${t.content}
                                                </div>
                                            </div>
                                        </div>
                                    \`):a\`
                                    <div class="text-center text-[#928374] p-8 bg-[#1d2021] border-2 border-dashed border-[#3c3836] rounded-lg">
                                        <h3 class="font-bold text-lg text-[#ebdbb2]">No Comments Yet</h3>
                                        <p>Be the first one to share your thoughts!</p>
                                    </div>
                                \`}
                  </div>
              </div>
            \`}}};
`,mimeType:"application/javascript",skipSW:!1},"/modules/icon-lucide/lucide/zap.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/link.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/message-square.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/wrench.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/activity.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/folder-tree.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Zm0 11a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1ZM3 5a2 2 0 0 0 2 2h3"/><path d="M3 3v13a2 2 0 0 0 2 2h3"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/info.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4m0-4h.01"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/apps/mcp/views/servers.js":{content:`export default({html:s,AI:r,T:a})=>{const d=(e=!1)=>s\`
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="\${e?"#fabd2f":"none"}" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="\${e?"text-[#fabd2f]":"text-[#a89984]"}">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
        </svg>
    \`;return{tag:"mcp-servers",class:"w-full h-full bg-[#282828] text-[#ebdbb2] flex flex-col p-6 md:p-8 font-sans text-sm overflow-y-auto",properties:{searchQuery:a.string("")},availableServers:[],favoriteServerIds:[],connectedServerId:null,connected(){this.availableServers=r.listServers(),this.availableServers.map(e=>$APP.SW.request("SW:CACHE_FILE",{path:e.path,skipSW:!0})),this.favoriteServerIds=r.getFavorites(),this.updateConnectionStatus(),this._updateFavorites=this.updateFavorites.bind(this),this._updateConnectionStatus=this.updateConnectionStatus.bind(this),r.events.on("servers:favoritesChanged",this._updateFavorites),r.events.on("connect",this._updateConnectionStatus),r.events.on("disconnect",this._updateConnectionStatus),this.update()},disconnected(){r.events.off("servers:favoritesChanged",this._updateFavorites),r.events.off("connect",this._updateConnectionStatus),r.events.off("disconnect",this._updateConnectionStatus)},updateFavorites(e){this.favoriteServerIds=e,this.update()},updateConnectionStatus(){const i=r.listClients().find(n=>n.alias==="dev_server");let o=null;if(i&&this.availableServers){const n=this.availableServers.find(t=>t.path===i.command);n&&(o=n.id)}this.connectedServerId!==o&&(this.connectedServerId=o,this.update())},async connectToServer(e){try{this.connectedServerId&&await this.disconnectFromServer();const i={type:"JavaScript",command:e.path,args:[]};await r.connect(i,{alias:"dev_server"})}catch(i){console.error(\`Failed to connect to \${e.name}:\`,i)}},async disconnectFromServer(){try{await r.disconnect("dev_server")}catch(e){console.error("Failed to disconnect from server:",e)}},toggleFavorite(e){r.toggleFavorite(e.id)},renderServerCard(e){const i=this.connectedServerId===e.id,o=this.favoriteServerIds.includes(e.id);return s\`
                <div class="bg-[#3c3836] border-2 border-[#504945] rounded-lg p-4 flex flex-col gap-4 font-semibold transition-all duration-200 shadow-[4px_4px_0px_#1d2021] hover:shadow-[6px_6px_0px_#83a598] hover:border-[#83a598]">
                    <div class="flex justify-between items-start">
                         <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-md flex-shrink-0 flex items-center justify-center bg-[#282828] text-[#83a598]">
                               \${s.unsafeHTML(e.icon)}
                            </div>
                            <div>
                                <h3 class="font-bold text-md text-[#ebdbb2]">\${e.name}</h3>
                                \${i?s\`<span class="text-xs text-[#b8bb26] font-medium">Currently connected</span>\`:""}
                            </div>
                        </div>
                        <button @click=\${()=>this.toggleFavorite(e)} class="p-1 rounded-full hover:bg-[#504945] transition-colors">
                            \${d(o)}
                        </button>
                    </div>

                    <!-- Middle Section: Description -->
                    <p class="text-sm text-[#bdae93] font-medium min-h-[2.5rem]">\${e.description}</p>
                    
                    <!-- Bottom Section: Tags and Connect Button -->
                     <div class="flex flex-wrap items-center justify-between gap-2 pt-4 border-t-2 border-dashed border-[#504945]">
                        <div class="flex flex-wrap gap-2">
                            \${e.tags.map(n=>s\`<span class="text-xs font-bold px-2 py-1 rounded bg-[#504945] text-[#ebdbb2]">\${n.toUpperCase()}</span>\`)}
                        </div>
                        \${i?s\`<uix-button label="Disconnect" @click=\${()=>this.disconnectFromServer()} class="bg-[#cc241d] text-[#ebdbb2] font-bold" size="small"></uix-button>\`:s\`<uix-button label="Connect" @click=\${()=>this.connectToServer(e)} class="bg-[#458588] text-[#ebdbb2] font-bold" size="small"></uix-button>\`}
                    </div>
                </div>
            \`},render(){const e=this.searchQuery.toLowerCase(),i=this.searchQuery?this.availableServers.filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.tags.some(c=>c.toLowerCase().includes(e))):this.availableServers,o=i.filter(t=>this.favoriteServerIds.includes(t.id)),n=i.filter(t=>!this.favoriteServerIds.includes(t.id));return s\`
                <div class="w-full h-full flex flex-col space-y-6">
                    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                        <div>
                            <h1 class="font-bold text-3xl text-[#ebdbb2]">Servers</h1>
                            <p class="text-[#bdae93]">Browse and connect to your available MCP test servers.</p>
                        </div>
                        <div class="relative">
                            <input
                                type="text"
                                .value=\${this.searchQuery}
                                @input=\${t=>this.searchQuery=t.target.value}
                                placeholder="Search servers..."
                                class="w-full md:w-64 bg-[#504945] border-2 border-[#665c54] font-semibold text-[#ebdbb2] rounded-lg py-2 px-4 focus:outline-none focus:shadow-[2px_2px_0px_#1d2021] focus:border-[#83a598] transition"
                            />
                        </div>
                    </div>
                    \${o.length>0?s\`
                        <div>
                            <h2 class="font-semibold text-xl text-[#ebdbb2] mb-4 flex items-center gap-2">
                                <uix-icon name="star" class="w-5 h-5 text-[#fabd2f]"></uix-icon>
                                Favorites
                            </h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                                \${o.map(t=>this.renderServerCard(t))}
                            </div>
                        </div>
                    \`:""}
                    <div>
                         <h2 class="font-semibold text-xl text-[#ebdbb2] mb-4">\${o.length>0?"Available Servers":""}</h2>
                         \${n.length>0?s\`
                                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                                    \${n.map(t=>this.renderServerCard(t))}
                                </div>\`:s\`
                                <div class="text-center text-[#928374] p-8 bg-[#3c3836] border-2 border-[#504945] rounded-lg shadow-[4px_4px_0px_#1d2021]">
                                    <h3 class="font-bold text-lg text-[#ebdbb2]">No Servers Found</h3>
                                    \${this.searchQuery?s\`<p>Your search for "\${this.searchQuery}" did not match any servers.</p>\`:""}
                                </div>
                            \`}
                    </div>
                </div>
            \`}}};
`,mimeType:"application/javascript",skipSW:!1},"/templates/servers/react-agent.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/cot-reasoner.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/tot-explorer.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/eval.js":{content:`import{McpServer as n}from"@modelcontextprotocol/sdk/server/mcp.js";import a from"zod";const t=new n({name:"javascript-executor",version:"0.1.0"},{capabilities:{tools:{},resources:{},logging:{}}}),r=[];t.registerTool("execute_js",{title:"Execute JavaScript",description:"Execute JavaScript code in a sandboxed iframe and return the result",inputSchema:{code:a.string().describe("JavaScript code to execute")}},async({code:e})=>{const o=Date.now();try{await t.sendLoggingMessage({level:"info",data:"Executing JavaScript code"});const s=\`
					<iframe 
						sandbox="allow-scripts" 
						style="display: none;"
						srcdoc="
							<script>
								try {
									const result = eval(\\\`\${e.replace(/\`/g,"\\\\\`")}\\\`);
									window.parent.postMessage({ success: true, result: String(result) }, '*');
								} catch (error) {
									window.parent.postMessage({ success: false, error: error.message }, '*');
								}
							<\\/script>
						">
					</iframe>
				\`,i=Date.now()-o;return r.push({timestamp:new Date().toISOString(),code:e,executionTime:i}),r.length>100&&r.shift(),{content:[{type:"text",text:\`Code will be executed in sandboxed iframe:

\\\`\\\`\\\`javascript
\${e}
\\\`\\\`\\\`

Execution queued (\${i}ms)\`}]}}catch(s){return await t.sendLoggingMessage({level:"error",data:\`Execution failed: \${s.message}\`}),{content:[{type:"text",text:\`Error: \${s.message}\`}],isError:!0}}}),t.registerResource("exec_history","exec://history",{title:"Execution History",description:"History of JavaScript executions",mimeType:"application/json"},async e=>({contents:[{uri:e.href,mimeType:"application/json",text:JSON.stringify(r,null,2)}]}));export default t;
`,mimeType:"application/javascript",skipSW:!0},"/templates/servers/reflexion-agent.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/plan-solve-agent.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/self-consistency.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/metacognitive-controller.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/frontend-agent.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/ui-generator.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/viz-generator.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/game-generator.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/code-transformer.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/data-processor.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/virtual-fs.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/landing-generator.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/http-client.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/github-api.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/games.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/templates/servers/canvas-studio.js":{content:"404 Not Found",mimeType:"application/javascript",skipSW:!0},"/modules/apps/mcp/views/inspector.js":{content:`export default({$APP:n,html:s,AI:i,T:t})=>(n.define("mcp-inspector-sidebar",{class:"w-80 bg-[#3c3836] border-r border-[#504945] flex flex-col shrink-0",properties:{servers:t.array([]),onConnect:t.function(),onDisconnect:t.function(),transportType:t.string(),command:t.string(),args:t.string(),onInput:t.function()},render(){return s\`
                <div class="p-4 border-b border-[#504945]">
                    <h1 class="font-bold text-lg text-[#ebdbb2]">Inspector</h1>
                </div>
                <div class="flex-grow flex flex-col overflow-y-auto p-4 space-y-6">
                    <div>
                        <h2 class="font-semibold text-sm mb-3 text-[#ebdbb2]">Add Connection</h2>
                        \${this._renderConnectionForm()}
                    </div>

                    \${this.servers.length>0?s\`
                              <div class="border-t border-[#504945] pt-4">
                                  <h2 class="font-semibold text-sm mb-3 text-[#ebdbb2]">Active Connections</h2>
                                  \${this._renderConnectedServersList()}
                              </div>
                          \`:""}
                </div>
            \`},_renderConnectionForm(){return s\`
                <div class="dark space-y-4">
                    <uix-input type="select" .options=\${["JavaScript","StreamableHTTP"]} label="Transport" value=\${this.transportType} @change=\${e=>this.onInput("transportType",e.target.value)}></uix-input>
                    <uix-input label="Command / URL" value=\${this.command} @input=\${e=>this.onInput("command",e.target.value)}></uix-input>
                    <uix-input label="Arguments" value=\${this.args} @input=\${e=>this.onInput("args",e.target.value)}></uix-input>
                </div>
                <div class="mt-4">
                    <uix-button @click=\${this.onConnect} label="Connect" class="bg-[#83a598] text-[#1d2021] w-full"></uix-button>
                </div>
            \`},_renderConnectedServersList(){return s\`
                <div class="space-y-4">
                    \${this.servers.map(e=>s\`
                            <div class="text-xs space-y-2 text-[#ebdbb2] bg-[#282828] p-3 rounded-lg border border-[#504945]">
                                <div class="flex justify-between items-center">
                                    <span class="font-semibold text-[#bdae93]">Status:</span>
                                    <span class="px-2 py-1 bg-[#b8bb26] text-[#282828] rounded-full font-medium text-xs">Connected</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="font-semibold text-[#bdae93]">Transport:</span>
                                    <span>\${e.type}</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="font-semibold text-[#bdae93] mr-2">Endpoint:</span>
                                    <span class="truncate font-mono text-right" title=\${e.command}>\${e.command}</span>
                                </div>
                                <div class="mt-2 pt-2 border-t border-[#504945]">
                                    <uix-button @click=\${()=>this.onDisconnect(e.alias)} label="Disconnect" class="bg-[#cc241d] text-[#ebdbb2] w-full h-8 text-xs"></uix-button>
                                </div>
                            </div>
                        \`)}
                </div>
            \`}}),n.define("mcp-tabs",{class:"flex flex-col flex-grow",properties:{tabs:t.array([]),activeTab:t.number(0),selectedHistoryItem:t.object(null),onDeselectHistoryItem:t.function()},connected(){this.tabs=[{key:"dashboard",label:"Dashboard",icon:"layout-dashboard"},{key:"resources",label:"Resources",icon:"database"},{key:"tools",label:"Tools",icon:"wrench"},{key:"prompts",label:"Prompts",icon:"terminal"},{key:"roots",label:"Roots",icon:"git-branch-plus"},{key:"auth",label:"Auth",icon:"key"}]},selectTab(e){this.activeTab=e},_renderTabView(e){switch(e.key){case"dashboard":return s\`<mcp-dashboard .selectedHistoryItem=\${this.selectedHistoryItem} .onDeselectHistoryItem=\${this.onDeselectHistoryItem}></mcp-dashboard>\`;case"resources":return s\`<mcp-resources></mcp-resources>\`;case"tools":return s\`<mcp-tools></mcp-tools>\`;case"prompts":return s\`<mcp-prompts></mcp-prompts>\`;case"roots":return s\`<mcp-roots></mcp-roots>\`;default:return s\`<div class="text-center p-8 text-[#928374]">View not implemented: \${e.key}</div>\`}},render(){return s\`
                <uix-tabs
                    class="flex flex-col flex-grow flex-1"
                    style="--uix-tabs-font-size: 1rem; --uix-tabs-active-background-color: var(--colors-red-700); --uix-tabs-border-color: var(--colors-red-800); --uix-tabs-text: #ebdbb2; --uix-tabs-active-text: #ebdbb2;"
                    .activeTab=\${this.activeTab}
                    .selectTab=\${this.selectTab.bind(this)}
                    .tabs=\${this.tabs.map(e=>[s\`<uix-icon name=\${e.icon} class="mr-2"></uix-icon> \${e.label}\`,s\`<div class="p-6 bg-[#282828] flex-grow">\${this._renderTabView(e)}</div>\`])}
                >
                </uix-tabs>
            \`}}),{tag:"mcp-inspector",class:"w-full bg-[#282828] text-[#ebdbb2] flex font-sans text-sm",properties:{servers:t.array([]),transportType:t.string({sync:"local",defaultValue:"JavaScript"}),command:t.string({sync:"local",defaultValue:"/templates/servers/basic.js"}),args:t.string({sync:"local"}),history:t.array([]),historyUnsubscribe:t.any(null),selectedHistoryId:t.any(null)},connected(){this.initializeAI()},disconnected(){this.historyUnsubscribe&&this.historyUnsubscribe()},handleHistorySelect(e){this.selectedHistoryId=e?e.id:null},getSelectedHistoryItem(){return this.selectedHistoryId&&this.history.find(e=>e.id===this.selectedHistoryId)||null},handleSidebarInput(e,r){this[e]=r},async initializeAI(){try{i.isInitialized||await i.init({geminiApiKey:"",defaultRoots:[{uri:"file:///",name:"Root Filesystem",description:"Full filesystem access"},{uri:"file:///home/user/",name:"User Home",description:"User home directory"},{uri:"config://",name:"Configuration",description:"Application configuration"}]})}catch(e){console.error("Error initializing AI service:",e)}},async connectToServer(){if(!this.command){console.error("Connection command/URL cannot be empty.");return}try{const e={type:this.transportType,command:this.command,args:this.args?this.args.split(" "):[]},r=\`inspector_server_\${Date.now()}\`;await i.connect(e,{alias:r}),this.servers=[...this.servers,{alias:r,...e}],this.command="",this.args=""}catch(e){console.error("Failed to connect:",e)}},async disconnectFromServer(e){try{await i.disconnect(e),this.servers=this.servers.filter(r=>r.alias!==e)}catch(r){console.error(\`Failed to disconnect \${e}:\`,r)}},render(){const e=this.getSelectedHistoryItem();return s\`
                <mcp-inspector-sidebar
                    .servers=\${this.servers}
                    .onConnect=\${this.connectToServer.bind(this)}
                    .onDisconnect=\${this.disconnectFromServer.bind(this)}
                    .transportType=\${this.transportType}
                    .command=\${this.command}
                    .args=\${this.args}
                    .onInput=\${this.handleSidebarInput.bind(this)}
                ></mcp-inspector-sidebar>
                <main class="flex-1 flex flex-col">
                    \${this.servers.length>0?s\`<mcp-tabs
                              .selectedHistoryItem=\${e}
                              .onDeselectHistoryItem=\${()=>this.handleHistorySelect(null)}
                          ></mcp-tabs>\`:s\`
                              <div
                                  class="flex-grow flex items-center justify-center bg-[#282828]"
                              >
                                  <div class="text-center">
                                      <h3
                                          class="text-lg font-semibold text-[#ebdbb2]"
                                      >
                                          Not Connected
                                      </h3>
                                      <p class="text-[#bdae93] mt-1">
                                          Please connect to a server using the
                                          sidebar to begin.
                                      </p>
                                  </div>
                              </div>
                          \`}
                </main>
            \`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/apps/mcp/views/chat.js":{content:`export default({$APP:u,html:n,AI:g,T:s,Model:c})=>{let h=null;return u.define("mcp-context-bar",{properties:{tokenCount:s.number(0),selectedTools:s.array([]),messageCount:s.number(0),totalMessages:s.number(0),onSelectAll:s.function(),onDeselectAll:s.function()},render(){return n\`
                <div class="px-6 py-2 border-b border-[#504945] bg-[#282828] flex items-center justify-between text-sm text-[#bdae93] shadow-md">
                    <div class="flex items-center gap-x-6">
                        <div class="flex items-center gap-2" title="Messages in context / Total messages">
                            <uix-icon name="list-checks" class="w-4 h-4 text-[#928374]"></uix-icon>
                            <span>\${this.messageCount} / \${this.totalMessages} Messages</span>
                        </div>
                        <div class="flex items-center gap-2" title="Estimated token count for the context">
                            <uix-icon name="database" class="w-4 h-4 text-[#928374]"></uix-icon>
                            <span>~\${this.tokenCount.toLocaleString()} Tokens</span>
                        </div>
                        <div class="flex items-center gap-2" title="Enabled tools for the next message">
                            <uix-icon name="pickaxe" class="w-4 h-4 text-[#928374]"></uix-icon>
                            <span>\${this.selectedTools.length} Tools Enabled</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <button @click=\${this.onSelectAll} class="px-2 py-1 rounded-md hover:bg-[#504945] transition-colors flex items-center gap-1.5 text-sm font-medium">
                            <uix-icon name="square-check" class="w-3.5 h-3.5"></uix-icon> Select All
                        </button>
                        <button @click=\${this.onDeselectAll} class="px-2 py-1 rounded-md hover:bg-[#504945] transition-colors flex items-center gap-1.5 text-sm font-medium">
                           <uix-icon name="square" class="w-3.5 h-3.5"></uix-icon> Deselect All
                        </button>
                    </div>
                </div>
            \`}}),u.define("mcp-chat-message",{properties:{message:s.object({}),isUser:s.boolean(!1),isStreaming:s.boolean(!1),inContext:s.boolean(!1),onContextToggle:s.function()},_formatTimestamp(e){return e?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""},_renderToolCall(e){return n\`
                <div class="bg-[#1d2021] border-l-4 border-[#504945] p-3 mt-2 rounded-md">
                    <div class="font-mono text-[#83a598] font-semibold flex items-center gap-2">
                        <uix-icon name="pickaxe" class="w-3.5 h-3.5"></uix-icon>
                        \${e.name}
                    </div>
                    \${e.arguments?n\`<pre class="text-sm text-[#bdae93] mt-2 whitespace-pre-wrap bg-[#282828] p-2 rounded">\${JSON.stringify(e.arguments,null,2)}</pre>\`:""}
                    \${e.result?n\`
                                <div class="mt-2 text-[#ebdbb2]">
                                    <div class="font-semibold text-sm text-[#928374]">Result:</div>
                                    <pre class="text-sm bg-[#282828] p-2 rounded mt-1 whitespace-pre-wrap">\${typeof e.result=="string"?e.result:JSON.stringify(e.result,null,2)}</pre>
                                </div>
                              \`:""}
                </div>
            \`},render(){const{message:e,isUser:t}=this,i=t?n\`<div class="w-8 h-8 rounded-full bg-[#458588] flex-shrink-0 flex items-center justify-center font-bold text-[#ebdbb2]">Y</div>\`:n\`<div class="w-8 h-8 rounded-full bg-[#3c3836] border border-[#504945] flex-shrink-0 flex items-center justify-center text-[#83a598]">
                            <uix-icon name="bot" class="w-5 h-5"></uix-icon>
                        </div>\`;return n\`<div class="flex w-full items-start gap-3 my-4 group \${t?"flex-row-reverse":""}">
                     <div class="flex-shrink-0 pt-1.5">
                         <button 
                            @click=\${()=>this.onContextToggle(this.message.id)}
                            class="transition-all \${this.inContext?"text-[#83a598]":"text-[#665c54]"} hover:text-[#ebdbb2]"
                            title="Include this message in the next turn's context"
                         >
                            <uix-icon name=\${this.inContext?"circle-check":"circle"} class="w-4 h-4"></uix-icon>
                         </button>
                    </div>

                    \${i}
                    
                    <div class="max-w-[75%]">
                        <div class="flex items-baseline gap-2 mb-1 \${t?"justify-end":""}">
                            <span class="font-bold \${t?"text-[#d5c4a1]":"text-[#bdae93]"}">\${t?"You":"Assistant"}</span>
                            \${e.timestamp?n\`<span class="text-sm text-[#928374]">\${this._formatTimestamp(e.timestamp)}</span>\`:""}
                        </div>
                        <div class="bg-[#3c3836] border border-[#504945] rounded-lg p-3 shadow-sm ">
                            \${e.content?n\`<uix-markdown style="--border-color: #ebdbb2" class="prose prose-sm p-2 max-w-none whitespace-pre-wrap" content=\${e.content}></uix-markdown>\`:""}
                            \${e.toolCalls?.length>0?e.toolCalls.map(o=>this._renderToolCall(o)):""}
                            \${this.isStreaming?n\`<div class="inline-block w-2 h-4 bg-[#ebdbb2] animate-pulse ml-1"></div>\`:""}
                        </div>
                    </div>
                </div>
            \`}}),u.define("mcp-chat-input",{properties:{value:s.string(""),isLoading:s.boolean(!1),onSend:s.function(),groupedTools:s.object({}),expandedServers:s.array([]),selectedTools:s.array([]),onToolToggle:s.function(),onServerToggle:s.function(),onServerExpandToggle:s.function(),selectedModel:s.string(),onModelChange:s.function(),availableProviders:s.array([]),selectedProvider:s.object(),onProviderChange:s.function(),onSettingsClick:s.function()},handleInput(e){this.value=e.target.value,this.autoResize(e.target)},autoResize(e){e.style.height="auto",e.style.height=\`\${e.scrollHeight}px\`},handleKeyPress(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),this.sendMessage())},sendMessage(){if(!this.value.trim()||this.isLoading)return;const e=this.value.trim();this.onSend&&this.onSend(e),this.value="",setTimeout(()=>{const t=this.querySelector("textarea");t&&this.autoResize(t)},0)},render(){return n\`
                <div class="px-6 pb-4">
                    <div class="bg-[#3c3836] border border-[#504945] rounded-xl shadow-lg p-2">
                        <div class="px-2 pb-2 flex justify-between items-center flex-wrap gap-2">
                            <div class="flex items-center gap-2 flex-wrap">
                                \${Object.keys(this.groupedTools||{}).map(e=>{const t=this.groupedTools[e],i=t.every(d=>this.selectedTools.includes(d.name)),o=!i&&t.some(d=>this.selectedTools.includes(d.name)),r=this.expandedServers.includes(e);let l="bg-[#504945]",a="text-[#ebdbb2]";return i?(l="bg-[#83a598]",a="text-[#1d2021]"):o&&(l="bg-[#d65d0e]",a="text-[#1d2021]"),n\`
                                            <div class="relative inline-block text-left">
                                                <div class="flex items-center rounded-md \${l} \${a} text-sm font-medium transition-colors">
                                                    <button
                                                        @click=\${()=>this.onServerToggle(e)}
                                                        class="px-2 py-1 hover:bg-black/10 transition-all flex items-center gap-1.5 rounded-l-md"
                                                        title=\${\`Toggle all tools for \${e}\`}
                                                    >
                                                        <span class="capitalize">\${e}</span>
                                                    </button>
                                                    <button @click=\${()=>this.onServerExpandToggle(e)} class="px-1.5 py-1 hover:bg-black/10 rounded-r-md border-l border-black/20">
                                                        <span class="\${r?"rotate-180":""} inline-block transition-transform">
                                                            <uix-icon name="chevron-down"></uix-icon>
                                                        </span>
                                                    </button>
                                                </div>
                                                \${r?n\`
                                                            <div class="absolute bottom-full mb-2 z-10 w-64 bg-[#3c3836] border border-[#504945] rounded-md shadow-lg p-2 flex flex-col gap-1 max-h-60 overflow-y-auto">
                                                                \${t.map(d=>n\`
                                                                        <button
                                                                            @click=\${()=>this.onToolToggle(d.name)}
                                                                            class="w-full text-left p-1.5 rounded text-sm truncate transition-colors \${this.selectedTools.includes(d.name)?"bg-[#83a598] text-[#1d2021]":"text-[#ebdbb2] hover:bg-[#504945]"}"
                                                                            title=\${d.description}
                                                                        >
                                                                            \${d.name}
                                                                        </button>
                                                                    \`)}
                                                            </div>
                                                          \`:""}
                                            </div>
                                        \`})}
                            </div>
                            <div class="flex items-center gap-2">
                                <select @change=\${e=>this.onProviderChange(e.target.value)} .value=\${this.selectedProvider?.type} class="bg-[#504945] border border-[#665c54] rounded-md px-2 text-sm focus:ring-[#83a598] focus:outline-none h-7 capitalize">
                                    \${this.availableProviders.map(e=>n\`<option value=\${e.type}>\${e.type}</option>\`)}
                                </select>
                                \${this.selectedProvider?n\`<select @change=\${e=>this.onModelChange(e.target.value)} value=\${this.selectedModel} class="bg-[#504945] border border-[#665c54] rounded-md px-2 text-sm focus:ring-[#83a598] focus:outline-none h-7">
                                                    \${this.selectedProvider.models.map(e=>n\`<option value=\${e.id} ?selected=\${e.id===this.selectedModel}>\${e.name}</option>\`)}
                                                </select>
                                              \`:null}
                                <button @click=\${this.onSettingsClick} class="p-1.5 text-[#bdae93] hover:text-[#ebdbb2] hover:bg-[#504945] rounded-md">
                                    <uix-icon name="settings" class="w-5 h-5"></uix-icon>
                                </button>
                            </div>
                        </div>
                        <div class="relative">
                            <textarea
                                .value=\${this.value}
                                @input=\${this.handleInput.bind(this)}
                                @keydown=\${this.handleKeyPress.bind(this)}
                                ?disabled=\${this.isLoading||this.availableProviders.length===0}
                                placeholder=\${this.availableProviders.length===0?"Please add a provider in settings first.":"Type your message..."}
                                rows="1"
                                class="w-full bg-[#282828] p-4 pr-16 text-[#ebdbb2] placeholder-[#928374] resize-none focus:outline-none focus:ring-2 focus:ring-[#83a598] rounded-lg transition-all"
                                style="max-height: 200px; overflow-y: auto;"
                            ></textarea>
                            <button
                                @click=\${this.sendMessage.bind(this)}
                                ?disabled=\${!this.value.trim()||this.isLoading||this.availableProviders.length===0}
                                class="absolute right-3 bottom-2.5 p-2 rounded-full text-[#ebdbb2] transition-colors
                                \${!this.value.trim()||this.isLoading||this.availableProviders.length===0?"bg-[#504945] cursor-not-allowed":"bg-[#458588] hover:bg-[#83a598]"}"
                            >
                                \${this.isLoading?n\`<div class="w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"></div>\`:n\`<uix-icon name="send" class="w-5 h-5"></uix-icon>\`}
                            </button>
                        </div>
                    </div>
                </div>
            \`}}),u.define("mcp-conversation-list",{properties:{conversations:s.array([]),currentId:s.any(null),onSelect:s.function(),onNew:s.function(),onDelete:s.function()},_getPreview(e){if(!e.messages||e.messages.length===0)return"New conversation";const t=e.messages[e.messages.length-1];if(!t)return"New conversation";const i=t.content||"Tool Call";return i.length>35?\`\${i.substring(0,35)}...\`:i},_formatDate(e){const t=new Date(e),i=new Date;return t.toDateString()===i.toDateString()?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString([],{month:"short",day:"numeric"})},render(){const e=[...this.conversations].sort((t,i)=>new Date(i.updatedAt||i.createdAt)-new Date(t.updatedAt||t.createdAt));return n\`
                <div class="h-full flex flex-col bg-[#3c3836]">
                    <div class="p-3 border-b border-[#504945]">
                        <button @click=\${this.onNew} class="w-full flex items-center justify-center gap-2 p-2 rounded-lg bg-[#458588] text-[#ebdbb2] hover:bg-[#83a598] transition-colors font-semibold">
                            <uix-icon name="plus" class="w-4 h-4"></uix-icon> New Chat
                        </button>
                    </div>
                    <div class="flex-1 overflow-y-auto p-2">
                        \${!e||e.length===0?n\`<div class="p-4 text-center text-[#928374]">No conversations yet</div>\`:e.map(t=>n\`
                                        <div
                                            @click=\${()=>this.onSelect(t.id)}
                                            class="p-3 rounded-lg cursor-pointer transition-colors group relative \${this.currentId===t.id?"bg-[#504945]":"hover:bg-[#504945]"}"
                                        >
                                            <div class="text-sm font-semibold text-[#ebdbb2] truncate">\${t.title||"Untitled Chat"}</div>
                                            <div class="flex justify-between items-center mt-1">
                                                <div class="text-sm text-[#bdae93] truncate pr-10">\${this._getPreview(t)}</div>
                                                <span class="text-sm text-[#928374] flex-shrink-0">\${this._formatDate(t.updatedAt||t.createdAt)}</span>
                                            </div>
                                            <button
                                                @click=\${i=>{i.stopPropagation(),this.onDelete(t.id)}}
                                                class="absolute top-2 right-2 p-1 text-[#928374] hover:text-[#cc241d] rounded-full hover:bg-[#1d2021] opacity-0 group-hover:opacity-100 transition-opacity"
                                                title="Delete conversation"
                                            >
                                                <uix-icon name="trash-2" class="w-4 h-4"></uix-icon>
                                            </button>
                                        </div>
                                    \`)}
                    </div>
                </div>
            \`}}),{class:"w-full h-full bg-[#282828] text-[#ebdbb2] flex font-sans","data-query":{model:"conversations",includes:"messages",orderBy:"-updatedAt",key:"rows"},properties:{rows:s.array(),currentConversation:s.object(null),providers:s.array([]),isLoading:s.boolean(!1),error:s.string(""),availableTools:s.array([]),groupedTools:s.object({}),expandedServers:s.array([]),selectedTools:s.array([]),availableModels:s.array([]),selectedModel:s.string({sync:"local"}),selectedProvider:s.object({sync:"local"}),showSettings:s.boolean(!1),contextMessageIds:s.array([]),contextTokenCount:s.number(0)},async initializeAI(){try{await g.init({providers:this.providers})}catch(e){console.error("Error initializing AI service:",e),this.error="Failed to initialize AI Service."}},async connected(){await this.loadState();const e=this.providers.filter(t=>t.active);e.length>0&&(await this.initializeAI(),this.loadTools(),(!this.selectedProvider||!e.some(t=>t.id===this.selectedProvider.id))&&(this.selectedProvider=e[0],this.selectedModel=this.selectedProvider.models[0].id)),!h&&this.rows&&this.rows.length>0?this.selectConversation(this.rows[0].id):this.rows&&this.rows.length===0&&await this.createNewConversation()},async loadState(){this.providers=await c.providers.getAll({includes:["models"]})},async addProvider(e){if(this.providers.some(o=>o.active&&o.type===e.type)){this.error=\`A provider of type "\${e.type}" already exists. Please delete it first.\`;return}const t=await c.providers.edit({id:e.id,apiKey:e.apiKey,endpoint:e.endpoint,active:!0});await this.loadState(),await this.initializeAI();const i=this.providers.find(o=>o.id===t.id);i&&(this.selectedProvider=i,this.selectedModel=this.selectedProvider.models[0].id),this.error=""},async deleteProvider(e){const t=this.providers.find(i=>i.type===e);if(t&&await c.providers.remove(t.id),await this.loadState(),await this.initializeAI(),this.selectedProvider?.type===e){const i=this.providers.filter(o=>o.active);this.selectedProvider=i.length>0?i[0]:null}},toggleSettings(){this.showSettings=!this.showSettings},async loadTools(){try{const{tools:e}=await g.listTools();this.availableTools=e||[];const t={};for(const i of this.availableTools){const o=i.server||"local";t[o]||(t[o]=[]),t[o].push(i)}this.groupedTools=t}catch(e){console.error("Couldn't load tools",e),this.availableTools=[],this.groupedTools={}}},toggleTool(e){this.selectedTools.includes(e)?this.selectedTools=this.selectedTools.filter(t=>t!==e):this.selectedTools=[...this.selectedTools,e],this.updateTokenCount()},toggleServerTools(e){const t=this.groupedTools[e].map(o=>o.name);if(t.every(o=>this.selectedTools.includes(o)))this.selectedTools=this.selectedTools.filter(o=>!t.includes(o));else{const o=new Set(this.selectedTools);t.forEach(r=>o.add(r)),this.selectedTools=Array.from(o)}this.updateTokenCount()},toggleServerExpansion(e){this.expandedServers.includes(e)?this.expandedServers=this.expandedServers.filter(t=>t!==e):this.expandedServers=[...this.expandedServers,e]},handleModelChange(e){this.selectedModel=e},handleProviderChange(e){const t=this.providers.find(i=>i.type===e);t&&(this.selectedProvider=t),t.models.length>0&&(this.selectedModel=t.models[0].id)},async createNewConversation(){const e={title:"New Chat",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},t=await c.conversations.add(e);h=t.id,this.currentConversation=t,t.messages=[],this.showSettings=!1,this.contextMessageIds=[],this.updateTokenCount()},selectConversation(e){const t=this.rows.find(i=>i.id===e);t&&(h=e,this.currentConversation=t,this.contextMessageIds=t.messages.map(i=>i.id),this.updateTokenCount()),this.showSettings=!1},async deleteConversation(e){await c.conversations.remove(e),h===e&&(h=null,this.currentConversation=null,this.rows.length>0?this.selectConversation(this.rows[0].id):await this.createNewConversation())},toggleMessageInContext(e){const t=new Set(this.contextMessageIds);t.has(e)?t.delete(e):t.add(e),this.contextMessageIds=Array.from(t),this.updateTokenCount()},selectAllMessages(){this.currentConversation?.messages&&(this.contextMessageIds=this.currentConversation.messages.map(e=>e.id),this.updateTokenCount())},deselectAllMessages(){this.contextMessageIds=[],this.updateTokenCount()},updateTokenCount(){if(!this.currentConversation&&this.selectedTools.length===0){this.contextTokenCount=0;return}let e=0;if(this.currentConversation){const o=this.currentConversation.messages.filter(r=>this.contextMessageIds.includes(r.id));e+=o.reduce((r,l)=>{let a=l.content?.length||0;return l.toolCalls&&(a+=JSON.stringify(l.toolCalls).length),r+a},0)}const i=this.availableTools.filter(o=>this.selectedTools.includes(o.name)).reduce((o,r)=>{const l=r.arguments?JSON.stringify(r.arguments):"";return o+(r.name?.length||0)+(r.description?.length||0)+l.length+100},0);e+=i,this.contextTokenCount=Math.ceil(e/4)},updateConversationTitle(e){if((!e.title||e.title==="New Chat")&&e.messages.length>0){const t=e.messages.find(i=>i.role==="user");t?.content&&(e.title=t.content.length>50?\`\${t.content.substring(0,50)}...\`:t.content)}},async sendMessage(e){if(this.providers.filter(r=>r.active).length===0){this.error="Cannot send message. Please add a provider in the settings.";return}if(!this.selectedModel){this.error="Cannot send message. No model selected.";return}this.currentConversation||await this.createNewConversation();const t={role:"user",content:e,timestamp:new Date().toISOString()},i=await c.messages.add({...t,chat:this.currentConversation.id});this.currentConversation.messages.push(i),this.contextMessageIds=[...this.contextMessageIds,i.id],this.updateConversationTitle(this.currentConversation),this.updateTokenCount(),this.isLoading=!0,this.error="";const o={role:"assistant",content:"",timestamp:null,toolCalls:[]};this.currentConversation.messages.push(o);try{const r=this.currentConversation.messages.filter(a=>!a.id||this.contextMessageIds.includes(a.id)).map(a=>({role:a.role,content:a.content,toolCalls:a.toolCalls})),l=g.chat(r,{stream:!0,enabledTools:this.selectedTools,model:this.selectedModel,provider:this.selectedProvider});for await(const a of l){if(a.type==="content")o.content=a.content;else if(a.type==="tool_calls_start")o.toolCalls=a.toolCalls;else if(a.type==="tool_result"||a.type==="tool_error"){const d=o.toolCalls.find(v=>v.id===a.id);d&&(d.result=a.result||{error:a.error})}this.currentConversation={...this.currentConversation},this.scrollToBottom()}}catch(r){console.error("Error sending message:",r),this.error=r.message||"Failed to send message",o.content=\`Error: \${this.error}\`}finally{this.isLoading=!1,o.timestamp=new Date().toISOString();const r=await c.messages.add({...o,chat:this.currentConversation.id}),l=this.currentConversation.messages.length-1;this.currentConversation.messages[l]=r,this.contextMessageIds=[...this.contextMessageIds,r.id],this.updateTokenCount()}},scrollToBottom(){setTimeout(()=>{const e=this.querySelector(".chat-messages");e&&(e.scrollTop=e.scrollHeight)},0)},render(){this.scrollToBottom();const e=this.providers.filter(t=>t.active);return n\`
                <div class="w-80 border-r border-[#504945] flex-shrink-0">
                    <mcp-conversation-list
                        .conversations=\${this.rows}
                        .currentId=\${this.currentConversation?.id}
                        .onSelect=\${this.selectConversation.bind(this)}
                        .onNew=\${this.createNewConversation.bind(this)}
                        .onDelete=\${this.deleteConversation.bind(this)}
                    ></mcp-conversation-list>
                </div>
                <div class="flex-1 flex flex-col bg-[#282828] h-full relative">
                    \${e.length===0?n\`
                                <div class="flex-1 overflow-y-auto">
                                    <mcp-provider-settings
                                        .providers=\${this.providers}
                                        .onAddProvider=\${this.addProvider.bind(this)}
                                        .onDeleteProvider=\${this.deleteProvider.bind(this)}
                                    ></mcp-provider-settings>
                                </div>
                              \`:n\`
                                <mcp-context-bar
                                    .tokenCount=\${this.contextTokenCount}
                                    .selectedTools=\${this.selectedTools}
                                    .messageCount=\${this.contextMessageIds.length}
                                    .totalMessages=\${this.currentConversation?.messages.length||0}
                                    .onSelectAll=\${this.selectAllMessages.bind(this)}
                                    .onDeselectAll=\${this.deselectAllMessages.bind(this)}
                                ></mcp-context-bar>

                                <div class="flex-1 overflow-y-auto chat-messages px-6">
                                    \${this.error?n\`<div class="bg-red-900/50 border border-[#cc241d] rounded-lg p-3 my-4 text-[#fabd2f]">\${this.error}</div>\`:""}
                                    \${this.currentConversation?.messages.map((t,i)=>n\`
                                            <mcp-chat-message
                                                .message=\${{...t}}
                                                .isUser=\${t.role==="user"}
                                                .isStreaming=\${this.isLoading&&this.currentConversation&&i===this.currentConversation.messages.length-1}
                                                .inContext=\${this.contextMessageIds.includes(t.id)}
                                                .onContextToggle=\${this.toggleMessageInContext.bind(this)}
                                            ></mcp-chat-message>
                                        \`)}
                                </div>
                              \`}
                    \${this.showSettings&&e.length>0?n\`
                                <div class="absolute inset-0 bg-black/60 z-10 flex items-center justify-center p-4">
                                    <div class="w-full max-w-2xl h-[80vh] max-h-[700px] bg-[#282828] rounded-lg shadow-2xl border border-[#504945] overflow-hidden">
                                        <mcp-provider-settings
                                            .providers=\${this.providers}
                                            .onAddProvider=\${this.addProvider.bind(this)}
                                            .onDeleteProvider=\${this.deleteProvider.bind(this)}
                                            .isModal=\${!0}
                                            .onClose=\${this.toggleSettings.bind(this)}
                                        ></mcp-provider-settings>
                                    </div>
                                </div>
                              \`:""}
                    <mcp-chat-input
                        .isLoading=\${this.isLoading}
                        .onSend=\${this.sendMessage.bind(this)}
                        .groupedTools=\${this.groupedTools}
                        .expandedServers=\${this.expandedServers}
                        .selectedTools=\${this.selectedTools}
                        .onToolToggle=\${this.toggleTool.bind(this)}
                        .onServerToggle=\${this.toggleServerTools.bind(this)}
                        .onServerExpandToggle=\${this.toggleServerExpansion.bind(this)}
                        selectedModel=\${this.selectedModel}
                        .onModelChange=\${this.handleModelChange.bind(this)}
                        .availableProviders=\${e}
                        .selectedProvider=\${this.selectedProvider}
                        .onProviderChange=\${this.handleProviderChange.bind(this)}
                        .onSettingsClick=\${this.toggleSettings.bind(this)}
                    ></mcp-chat-input>
                </div>
            \`}}};
`,mimeType:"application/javascript",skipSW:!1},"/modules/apps/mcp/views/provider-settings.js":{content:`export default({html:t,T:i})=>({properties:{providers:i.array([]),onAddProvider:i.function(),onDeleteProvider:i.function(),isModal:i.boolean(!1),onClose:i.function(),newProviderType:i.string("local")},async addProvider(o){if(providerConfigs.has(o.type)){this.error=\`A provider of type "\${o.type}" already exists. Please delete it first.\`;return}providerConfigs.set(o.type,o),this.providers=Array.from(providerConfigs.values()),this.saveState(),await this.initializeAI(),await this.loadModels(),this.error=""},async deleteProvider(o){providerConfigs.delete(o),this.providers=Array.from(providerConfigs.values()),this.saveState(),await this.initializeAI(),await this.loadModels()},render(){const o=this.providers.filter(e=>e.active);return t\`
            <div class="h-full flex flex-col p-6 bg-[#282828] text-[#ebdbb2]">
                <div class="flex items-center justify-between mb-6">
                    <h1 class="text-2xl font-bold">AI Providers</h1>
                    \${this.isModal?t\`<button @click=\${this.onClose} class="p-2 rounded-full hover:bg-[#504945] text-[#bdae93] hover:text-[#ebdbb2] text-2xl leading-none">&times;</button>\`:""}
                </div>

                \${!this.isModal&&this.providers.length===0?t\`
                <div class="bg-[#3c3836] border border-[#504945] rounded-lg p-4 mb-6 text-center">
                    <p class="font-semibold text-lg">Welcome!</p>
                    <p class="text-[#bdae93]">To start chatting, please add at least one AI provider below.</p>
                </div>
                \`:""}

                <!-- Add Provider Form -->
                <div class="bg-[#3c3836] border border-[#504945] rounded-lg p-4 mb-6">
                    <h2 class="text-lg font-semibold mb-3">Add New Provider</h2>
                    <form @submit=\${e=>{e.preventDefault();const r=new FormData(e.target),s=Object.fromEntries(r.entries());this.onAddProvider(s),e.target.reset(),this.newProviderType="local"}}>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                             <div>
                                <label for="provider-type" class="block text-sm font-medium text-[#bdae93] mb-1">Provider Type</label>
                                <select name="id" id="provider-type" @change=\${e=>this.newProviderType=e.target.value} class="w-full bg-[#504945] border border-[#665c54] rounded-md px-3 py-1.5 text-sm focus:ring-[#83a598] focus:outline-none h-[34px]">
                                	\${this.providers.map(e=>t\`<option value=\${e.id} ?selected=\${e.id===this.newProviderType}>\${e.name}</option>\`)}  																
                                </select>
                            </div>
                            \${this.newProviderType==="local"?t\`
                                <div>
                                    <label for="api-endpoint" class="block text-sm font-medium text-[#bdae93] mb-1">API Endpoint</label>
                                    <input type="url" name="endpoint" id="api-endpoint" required value="http://localhost:1234/v1/chat/completions" placeholder="http://localhost:1234/v1/chat/completions" class="w-full bg-[#504945] border border-[#665c54] rounded-md px-3 py-1.5 text-sm focus:ring-[#83a598] focus:outline-none">
                                </div>
                            \`:""}
                            <div class="col-span-1 md:col-span-2">
                                <label for="api-key" class="block text-sm font-medium text-[#bdae93] mb-1">API Key</label>
                                <input type="password" name="apiKey" id="api-key" placeholder="Optional for some local providers" class="w-full bg-[#504945] border border-[#665c54] rounded-md px-3 py-1.5 text-sm focus:ring-[#83a598] focus:outline-none">
                            </div>
                        </div>
                        <button type="submit" class="mt-4 w-full md:w-auto flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-[#458588] text-[#ebdbb2] hover:bg-[#83a598] transition-colors font-semibold">
                            Add Provider
                        </button>
                    </form>
                </div>

                <!-- Existing Providers List -->
                <div class="flex-1 overflow-y-auto">
                     <h2 class="text-lg font-semibold mb-3">Configured Providers</h2>
                     \${o.length===0?t\`
                        <div class="text-center py-8 px-4 border-2 border-dashed border-[#504945] rounded-lg">
                            <p class="text-[#928374]">No providers configured yet.</p>
                        </div>
                     \`:t\`
                     <div class="space-y-3">
                        \${o.map(e=>t\`
                            <div class="bg-[#3c3836] border border-[#504945] rounded-lg p-3 flex justify-between items-center">
                                <div>
                                    <p class="font-semibold text-[#ebdbb2] capitalize">\${e.type}</p>
                                    \${e.endpoint?t\`<p class="text-xs text-[#928374]">\${e.endpoint}</p>\`:""}
                                </div>
                                <uix-button ghost icon="trash" @click=\${()=>this.onDeleteProvider(e.type)} 
																	class="p-1.5 text-[#928374] hover:text-[#cc241d] rounded-full hover:bg-[#1d2021]">
                              </uix-button>
                            </div>
                        \`)}
                     </div>
                     \`}
                </div>
            </div>
            \`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/icon-lucide/lucide/plus.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7v14"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/send.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m22 2l-7 20l-4-9l-9-4Zm0 0L11 13"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/chevron-right.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 18l6-6l-6-6"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/list-checks.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 17l2 2l4-4M3 7l2 2l4-4m4 1h8m-8 6h8m-8 6h8"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/database.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5v14a9 3 0 0 0 18 0V5"/><path d="M3 12a9 3 0 0 0 18 0"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/pickaxe.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M14.531 12.469L6.619 20.38a1 1 0 1 1-3-3l7.912-7.912m4.155-5.154A12.5 12.5 0 0 0 5.461 2.958A1 1 0 0 0 5.58 4.71a22 22 0 0 1 6.318 3.393"/><path d="M17.7 3.7a1 1 0 0 0-1.4 0l-4.6 4.6a1 1 0 0 0 0 1.4l2.6 2.6a1 1 0 0 0 1.4 0l4.6-4.6a1 1 0 0 0 0-1.4z"/><path d="M19.686 8.314a12.5 12.5 0 0 1 1.356 10.225a1 1 0 0 1-1.751-.119a22 22 0 0 0-3.393-6.319"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/square-check.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="m9 12l2 2l4-4"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/square.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" rx="2"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/trash-2.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2m-6 5v6m4-6v6"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/apps/mcp/views/dev.js":{content:`export default({$APP:n,html:r,AI:o,T:s})=>({tag:"mcp-dev",class:"w-full bg-[#282828] text-[#ebdbb2] flex font-sans text-sm",properties:{content:s.string(""),language:s.string({sync:"local",defaultValue:"javascript"}),filePath:s.string({sync:"local"}),isDirty:s.boolean(!1),isSaving:s.boolean(!1),lastSaved:s.object(null),compilerErrors:s.array({defaultValue:[],sync:"local"}),availableServers:s.array([]),selectedServer:s.string({sync:"local",defaultValue:"default"}),isServerConnected:s.boolean({sync:"local",defaultValue:!1}),transportType:s.string({sync:"local",defaultValue:"JavaScript"}),command:s.string({sync:"local"}),args:s.string({sync:"local"}),activeTab:s.string(),history:s.array([]),selectedHistoryItem:s.object(null),validationTimeout:s.object(null),worker:s.object(null),transpilePromises:s.object({defaultValue:{}})},async connected(){this.initializeWorker(),await this.initializeAI();const e=this.availableServers.find(t=>t.id===this.selectedServer)||this.availableServers[0];e?(e.id!==this.selectedServer&&(this.selectedServer=e.id),await this.loadServerContent(e.path)):console.warn("No available servers found to load.")},disconnected(){this.validationTimeout&&clearTimeout(this.validationTimeout),this.worker&&this.worker.terminate()},async initializeAI(){try{o.isInitialized||await o.init({}),this.isServerConnected=o.listClients().some(e=>e.alias==="dev_server"),this.availableServers=o.listServers()}catch(e){console.error("Error initializing AI service:",e),this.isServerConnected=!1,this.availableServers=[]}},async onServerChange(e){this.isDirty&&console.warn("Switching server templates with unsaved changes. The changes will be lost."),this.selectedServer=e;const t=this.availableServers.find(i=>i.id===e);t?(await this.loadServerContent(t.path),this.isServerConnected&&await this.disconnectFromServer()):console.error(\`Server with key \${e} not found.\`)},async loadServerContent(e){this.filePath=e,this.command=e.replace(/\\.ts$/,".js");try{const t=await fetch(e);if(!t.ok)throw new Error(\`HTTP error! status: \${t.status}\`);const i=await t.text();this.content=i,this.isDirty=!1,this.validateCode()}catch(t){this.isDirty=!0,this.content=\`// Failed to load file: \${e}
// You can start editing here to create it.\`,console.log(\`File \${e} couldn't be loaded, starting with placeholder content.\`,t),this.validateCode()}},initializeWorker(){this.worker=new Worker("/modules/apps/mcp/worker.js",{type:"module"}),this.worker.onmessage=e=>{const{type:t,payload:i}=e.data;switch(t){case"validationComplete":this.compilerErrors=i.errors;break;case"transpileComplete":{const a=this.transpilePromises[i.requestId];a&&(a.resolve(i.transpiledCode),delete this.transpilePromises[i.requestId]);break}}},this.worker.onerror=e=>console.error("Error in worker:",e),this.worker.postMessage({type:"init"})},validateCode(){if(!this.worker){this.compilerErrors=[];return}this.worker.postMessage({type:"validate",payload:{code:this.content,filePath:this.filePath}})},getTranspiledContent(){return this.language!=="typescript"?Promise.resolve(this.content):new Promise((e,t)=>{const i=\`req_\${Date.now()}_\${Math.random()}\`;this.transpilePromises[i]={resolve:e,reject:t},this.worker.postMessage({type:"transpile",payload:{code:this.content,requestId:i}}),setTimeout(()=>{this.transpilePromises[i]&&(t(new Error("Transpilation timed out.")),delete this.transpilePromises[i])},1e4)})},async applyCodeChanges(){if(!n.fs||!n.fs.writeFile){console.warn("File system not available");return}this.isSaving=!0;try{if(await this.validateCode(),this.compilerErrors.length>0&&console.warn("Applying changes with errors. The resulting code may not run correctly."),await n.fs.writeFile(this.filePath,this.content),this.language==="typescript"){const e=await this.getTranspiledContent(),t=this.filePath.replace(/\\.ts$/,".js");await n.fs.writeFile(t,e),this.command=t}else this.command=this.filePath;this.lastSaved=new Date,this.isDirty=!1}catch(e){console.error("Failed to apply code changes:",e)}finally{this.isSaving=!1}},onEditorUpdate(e){this.content=e,this.isDirty=!0,this.validationTimeout&&clearTimeout(this.validationTimeout),this.validationTimeout=setTimeout(()=>this.validateCode(),500)},async connectToServer(){if(await this.applyCodeChanges(),!this.command){console.error("Connection command/URL cannot be empty.");return}try{const e={type:this.transportType,command:this.command,args:this.args?this.args.split(" ").filter(Boolean):[]};await o.connect(e,{alias:"dev_server"}),this.isServerConnected=!0}catch(e){console.error("Failed to connect:",e),this.isServerConnected=!1}},async disconnectFromServer(){try{await o.disconnect("dev_server"),this.isServerConnected=!1}catch(e){console.error("Failed to disconnect:",e)}},async reconnectToServer(){this.isServerConnected&&(await this.disconnectFromServer(),setTimeout(()=>{this.connectToServer()},200))},async handleConnectionToggle(){this.isServerConnected?await this.disconnectFromServer():await this.connectToServer()},async handleReload(){this.isDirty&&await this.applyCodeChanges(),this.isServerConnected&&await this.reconnectToServer()},selectTab(e){this.activeTab=e},renderErrorPanel(){return r\`<div class="flex flex-col h-full bg-[#1d2021]">
                <div class="p-2 border-b border-[#504945] flex items-center">
                    <uix-icon name="triangle-alert" class="w-4 h-4 mr-2 text-red-400"></uix-icon>
                    <h3 class="text-md font-semibold text-[#ebdbb2]">Problems (\${this.compilerErrors.length})</h3>
                </div>
                <div class="flex-1 overflow-auto font-mono text-xs">
                    \${this.compilerErrors.map(e=>r\`
                            <div class="p-2 border-b border-[#3c3836] hover:bg-[#3c3836]">
                                <span class="text-red-400">Error:</span>
                                <span class="text-[#bdae93]">(\${e.line}:\${e.character})</span>
                                <span class="text-white ml-2">\${e.message}</span>
                            </div>
                        \`)}
                </div>
            </div>\`},render(){const e=[{key:"dashboard",label:"Dashboard",icon:"layout-dashboard"},{key:"tools",label:"Tools",icon:"wrench"},{key:"resources",label:"Resources",icon:"database"},{key:"prompts",label:"Prompts",icon:"terminal"}],t=a=>{switch(a.key){case"dashboard":return r\`<mcp-dashboard></mcp-dashboard>\`;case"tools":return r\`<mcp-tools></mcp-tools>\`;case"resources":return r\`<mcp-resources></mcp-resources>\`;case"prompts":return r\`<mcp-prompts></mcp-prompts>\`;default:return r\`<div class="text-center p-8 text-gray-500">View not implemented: \${a.key}</div>\`}},i=this.availableServers.map(a=>({value:a.id,label:a.name}));return r\`
                <!-- Left Panel: Editor -->
                <div class="flex-1 h-full flex flex-col min-w-0">
                     <div class="h-15 bg-[#3c3836] border-b border-[#504945] p-2 flex items-center justify-between">
                         <div class="flex items-center space-x-2">
                             <uix-input
                                 ghost
                                 class="dark w-3xs"
                                 type="select"
                                 .options=\${i}
                                 .value=\${this.selectedServer}
                                 @change=\${a=>this.onServerChange(a.target.value)}
                             ></uix-input>
                         </div>
                         <div class="flex items-center space-x-2 gap-2">
                             \${this.isServerConnected&&this.isDirty?r\`<uix-link
                                     @click=\${this.handleReload.bind(this)}
                                     class="dark"
                                     size="small"
                                     label="Refresh"
                                     icon="refresh-cw"
                                 ></uix-link>\`:""}
                             <uix-button
                                 .label=\${this.isServerConnected?"Disconnect":"Connect"}
                                 class=\${this.isServerConnected?"bg-red-700":"bg-green-700"}
                                 @click=\${this.handleConnectionToggle.bind(this)}
                                 size="small"
                             ></uix-button>
                         </div>
                    </div>
                    <uix-code
                        .content=\${this.content}
                        .language=\${this.language}
                        .onUpdate=\${this.onEditorUpdate.bind(this)}
                        class="flex-1 overflow-y-auto"
                    ></uix-code>
                </div>

                <uix-divider vertical resizable style="--uix-divider-color: #3c3836;"></uix-divider>

                <!-- Right Panel: Dashboard/Tools -->
                <div class="flex-1 h-full flex flex-col min-w-0">
                    \${this.isServerConnected?r\`<div class="flex-1 flex flex-col min-h-0">
                            <uix-tabs
                                style="--uix-tabs-font-size: 1rem; --uix-tabs-active-background-color: var(--colors-red-700); --uix-tabs-border-color: var(--colors-red-800); --uix-tabs-text: #ebdbb2; --uix-tabs-active-text: #ebdbb2;"
                                class="flex flex-col flex-grow"
                                activeTab=\${this.activeTab}
                                .selectTab=\${this.selectTab.bind(this)}
                                .tabs=\${e.map(a=>[r\`<uix-icon name=\${a.icon} class="mr-2 w-5"></uix-icon> \${a.label}\`,r\`<div class="p-4 flex-grow overflow-auto">\${t(a)}</div>\`])}
                            ></uix-tabs>
                          </div>\`:r\`
                          <div class="flex-1 flex items-center justify-center bg-[#282828]">
                              <div class="text-center max-w-md p-4">
                                  <uix-icon name="server-off" class="w-16 h-16 text-[#928374] mx-auto mb-4"></uix-icon>
                                  <h3 class="text-lg font-semibold text-[#ebdbb2] mb-2">Server Not Connected</h3>
                                  <p class="text-[#bdae93] mb-6">Edit your server code, then click Connect to run it.</p>
                                  <uix-button
                                      label="Connect"
                                      @click=\${this.connectToServer.bind(this)}
                                      size="small"
                                  ></uix-button>
                              </div>
                          </div>
                        \`}
                    <mcp-requests></mcp-requests>
                    \${this.compilerErrors.length>0?r\`
                            <uix-divider resizable></uix-divider>
                            <div class="flex-shrink-0 h-50 overflow-auto">
                                \${this.renderErrorPanel()}
                            </div>
                          \`:""}
                </div>
            \`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/uix/form/code.js":{content:'const t={core:()=>import("https://esm.sh/@codemirror/state"),view:()=>import("https://esm.sh/@codemirror/view"),commands:()=>import("https://esm.sh/@codemirror/commands"),language:()=>import("https://esm.sh/@codemirror/language"),theme:()=>import("https://esm.sh/@fsegurai/codemirror-theme-gruvbox-dark"),lang:{typescript:()=>import("https://esm.sh/@codemirror/lang-javascript"),javascript:()=>import("https://esm.sh/@codemirror/lang-javascript"),css:()=>import("https://esm.sh/@codemirror/lang-css"),html:()=>import("https://esm.sh/@codemirror/lang-html")}};export default({T:a})=>({tag:"textarea",class:"flex flex-grow",style:!0,properties:{content:a.string(),language:a.string(),onUpdate:a.function()},view:null,isUpdatingFromOutside:!1,async connected(){const o=this;if(!o||this.view)return;const[{EditorState:e},{EditorView:s,keymap:c,lineNumbers:g,highlightSpecialChars:l},{defaultKeymap:h,history:d,historyKeymap:u,indentWithTab:p},{indentUnit:m},{gruvboxDark:f}]=await Promise.all([t.core(),t.view(),t.commands(),t.language(),t.theme()]),r=[];if(this.language&&t.lang[this.language]){const i=await t.lang[this.language](),n=i[this.language];console.log({langFunc:n,langModule:i}),typeof n=="function"?r.push(n()):console.warn(`CodeMirror language function for "${this.language}" not found.`)}const w=s.updateListener.of(i=>{if(i.docChanged&&this.onUpdate){const n=i.state.doc.toString();this.isUpdatingFromOutside=!0,this.onUpdate(n),queueMicrotask(()=>{this.isUpdatingFromOutside=!1})}}),v=s.theme({".cm-editor":{fontSize:"12px"}}),y=e.create({doc:this.content||"",extensions:[g(),l(),d(),c.of([...h,...u,p]),f,v,s.lineWrapping,...r,w,m.of("  "),e.tabSize.of(2)]});this.view=new s({state:y,parent:o})},updated(o){if(this.view&&Object.hasOwn(o,"content")&&!this.isUpdatingFromOutside){const e=this.view.state.doc.toString();e!==this.content&&this.view.dispatch({changes:{from:0,to:e.length,insert:this.content||""}})}},disconnected(){this.view&&(this.view.destroy(),this.view=null)},render(){return null}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/uix/layout/divider.js":{content:'let l=null,r=null;export default({html:h,T:n})=>({tag:"uix-divider",style:!0,properties:{label:n.string(),vertical:n.boolean(),resizable:n.boolean({defaultValue:!1})},firstUpdated(){this.resizable&&window.addEventListener("pointerdown",this.pointerDown.bind(this))},pointerDown(t){t.target===this&&(t.preventDefault(),this.setPointerCapture(t.pointerId),this._startX=t.clientX,this._startY=t.clientY,this._prevElem=this.previousElementSibling,this._nextElem=this.nextElementSibling,this._prevElemStartWidth=this._prevElem?this._prevElem.offsetWidth:0,this._nextElemStartWidth=this._nextElem?this._nextElem.offsetWidth:0,this._prevElemStartHeight=this._prevElem?this._prevElem.offsetHeight:0,this._nextElemStartHeight=this._nextElem?this._nextElem.offsetHeight:0,window.addEventListener("pointermove",this.pointerMove.bind(this)),window.addEventListener("pointerup",this.pointerUp.bind(this)))},pointerMove(t){r=t,!l&&(l=setTimeout(()=>{l=null,this.handleMouseMove(r)},15))},handleMouseMove(t){if(!(!this._prevElem||!this._nextElem))if(this.vertical){let e=t.clientX-this._startX;e>0&&(e+=20);const i=this._prevElemStartWidth+e,s=this._nextElemStartWidth-e;i>0&&s>0&&(this._prevElem.style.flexBasis=`${i}px`,this._nextElem.style.flexBasis=`${s}px`)}else{const e=t.clientY-this._startY,i=this._prevElemStartHeight+e,s=this._nextElemStartHeight-e;i>0&&s>0&&(this._prevElem.style.flexBasis=`${i}px`,this._nextElem.style.flexBasis=`${s}px`)}},pointerUp(t){this.releasePointerCapture(t.pointerId),this._startX=null,this._startY=null,this._prevElem=null,this._nextElem=null,this._prevElemStartWidth=null,this._nextElemStartWidth=null,this._prevElemStartHeight=null,this._nextElemStartHeight=null,window.removeEventListener("pointermove",this.pointerMove.bind(this)),window.removeEventListener("pointerup",this.pointerUp.bind(this))},render(){return this.label?h`<span>${this.label}</span>`:null}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/apps/mcp/views/requests.js":{content:`export default({html:n,AI:t,T:a})=>({properties:{pendingRequests:a.array([]),isLoading:a.boolean(!0),isExpanded:a.boolean(!1),formValues:a.object({}),requestUnsubscribe:a.object(null)},async connected(){this.requestUnsubscribe=t.onRequestChange(this.loadAllPendingRequests.bind(this)),await this.loadAllPendingRequests()},disconnected(){this.requestUnsubscribe&&this.requestUnsubscribe()},async loadAllPendingRequests(){const e=this.pendingRequests.length;if(!t.isInitialized||t.listClients().length===0){this.pendingRequests=[],this.isLoading=!1;return}this.isLoading=!0;try{const[s,i]=await Promise.all([t.listSamplingRequests(),t.listElicitationRequests()]),r=(i.elicitationRequests||[]).map(o=>({...o,type:"elicitation"})),l=(s.samplingRequests||[]).map(o=>({...o,type:"sampling"}));this.pendingRequests=[...r,...l],this.pendingRequests.length>e&&(this.isExpanded=!0)}catch(s){console.error("Error loading pending requests:",s),this.pendingRequests=[]}finally{this.isLoading=!1}},toggleExpanded(){this.isExpanded=!this.isExpanded},async handleSamplingResponse(e,s){try{s==="approve"?await t.approveSamplingRequest({id:e.id,server:e.server}):await t.rejectSamplingRequest({id:e.id,server:e.server})}catch(i){console.error(\`Failed to \${s} sampling request:\`,i)}},handleInput(e,s,i,r){const l={...this.formValues?.[e]||{},[s]:r.type==="boolean"?!!i.target.checked:i.target.value};this.formValues={...this.formValues,[e]:l}},async handleElicitationSubmit(e){const s=this.formValues[e.id]||{};try{await t.respondToElicitation({id:e.id,response:s,server:e.server});const i={...this.formValues};delete i[e.id],this.formValues=i}catch(i){console.error("Failed to respond to elicitation:",i)}},async handleElicitationDecline(e){try{await t.respondToElicitation({id:e.id,response:{},server:e.server,action:"decline"});const s={...this.formValues};delete s[e.id],this.formValues=s}catch(s){console.error("Failed to decline elicitation:",s)}},renderFormField(e,s,i){const r=this.formValues?.[e.id]?.[s]||"";return n\`
                 <uix-input
                     label=\${s}
                     value=\${r}
                     type=\${i.enum?"select":{boolean:"checkbox",enum:"select"}[i.type]||"text"}
                     .options=\${i.enum}
                     placeholder=\${i.description}
                     @input=\${l=>this.handleInput(e.id,s,l,i)}
                     class="font-mono text-sm w-full"
                 ></uix-input>
             \`},renderSamplingRequest(e){return n\`
                 <div class="bg-white border border-gray-200 rounded-lg shadow-sm mb-4">
                     <div class="p-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                         <div>
                             <h5 class="font-semibold text-sm mb-2 text-gray-700">Request</h5>
                             <pre class="text-xs whitespace-pre-wrap bg-gray-800 text-gray-200 p-3 rounded-lg font-mono overflow-auto max-h-48">\${JSON.stringify(e.request,null,2)}</pre>
                         </div>
                         <div>
                             <h5 class="font-semibold text-sm mb-2 text-gray-700">Response Preview</h5>
                             <pre class="text-xs whitespace-pre-wrap bg-gray-100 text-gray-800 p-3 rounded-lg font-mono overflow-auto max-h-48">\${JSON.stringify(e.responseStub,null,2)}</pre>
                         </div>
                     </div>
                     <div class="flex justify-end gap-3 p-3 bg-gray-50 border-t border-gray-200 rounded-b-lg">
                         <uix-button @click=\${()=>this.handleSamplingResponse(e,"reject")} label="Reject" size="small" class="is-danger"></uix-button>
                         <uix-button @click=\${()=>this.handleSamplingResponse(e,"approve")} label="Approve" size="small" class="is-primary"></uix-button>
                     </div>
                 </div>
             \`},renderElicitationRequest(e){return n\`
                 <div class="bg-white border border-gray-200 rounded-lg shadow-sm mb-4">
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-4 p-4">
                         <div class="pr-4 border-r border-gray-200">
                             <h5 class="font-semibold text-sm mb-2 text-gray-700">Information Request</h5>
                             <p class="text-sm text-gray-800 mb-4">\${e.requestText}</p>
                             <h6 class="font-mono text-xs font-bold text-gray-600 mb-2">Schema</h6>
                             <pre class="text-xs whitespace-pre-wrap bg-gray-800 text-gray-200 p-3 rounded-lg font-mono overflow-auto max-h-32">\${JSON.stringify(e.schema,null,2)}</pre>
                         </div>
                         <div>
                             <h5 class="font-semibold text-sm mb-3 text-gray-700">Response Form</h5>
                             <div class="space-y-3">
                                 \${Object.entries(e.schema.properties).map(([s,i])=>this.renderFormField(e,s,i))}
                             </div>
                         </div>
                     </div>
                     <div class="flex justify-end gap-3 p-3 bg-gray-50 border-t border-gray-200 rounded-b-lg">
                         <uix-button @click=\${()=>this.formValues[e.id]={}} label="Reset" size="small"></uix-button>
                         <uix-button @click=\${()=>this.handleElicitationDecline(e)} label="Decline" size="small" class="is-danger"></uix-button>
                         <uix-button @click=\${()=>this.handleElicitationSubmit(e)} label="Submit" size="small" class="is-primary"></uix-button>
                     </div>
                 </div>
             \`},renderCollapsedBanner(){return n\`
                <div class="bg-amber-50 border-b-2 border-amber-400 px-4 py-2 flex items-center justify-between cursor-pointer hover:bg-amber-100 transition-colors" @click=\${this.toggleExpanded.bind(this)}>
                    <div class="flex items-center space-x-3">
                        <uix-icon name="bell" class="w-5 h-5 text-amber-600 animate-pulse"></uix-icon>
                        <div>
                            <!-- SIMPLIFIED: Display total count directly. -->
                            <span class="font-semibold text-amber-900">
                                \${this.pendingRequests.length} Pending Request\${this.pendingRequests.length!==1?"s":""}
                            </span>
                        </div>
                    </div>
                    <uix-icon name="chevron-down" class="w-5 h-5 text-amber-600"></uix-icon>
                </div>
            \`},renderExpandedPanel(){return n\`
                <div class="flex flex-col bg-white border-b-2 border-amber-400">
                    <!-- Header -->
                    <div class="bg-amber-50 px-4 py-2 flex items-center justify-between border-b border-amber-200">
                        <div class="flex items-center space-x-3">
                            <uix-icon name="bell" class="w-5 h-5 text-amber-600"></uix-icon>
                            <span class="font-semibold text-amber-900">Pending Requests</span>
                        </div>
                        <uix-button @click=\${this.toggleExpanded} size="small" ghost>
                            <uix-icon name="chevron-up" class="w-4 h-4"></uix-icon>
                        </uix-button>
                    </div>

                    <!-- Content -->
                    <div class="flex-1 overflow-auto p-4">
                        \${this.pendingRequests.length>0?this.pendingRequests.map(e=>e.type==="sampling"?this.renderSamplingRequest(e):this.renderElicitationRequest(e)):n\`<div class="text-center text-gray-500 py-8">No pending requests</div>\`}
                    </div>
                </div>
            \`},render(){return this.isLoading||this.pendingRequests.length===0?n\`\`:this.isExpanded?this.renderExpandedPanel():this.renderCollapsedBanner()}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/uix/form/code.css":{content:`.cm-scroller{overflow:auto!important}.cm-editor{width:100%}
`,mimeType:"text/css",skipSW:!1},"/modules/uix/layout/divider.css":{content:`.uix-divider{--uix-divider-color: rgba(0, 0, 0, .05);--uix-divider-size: 2px;display:flex;align-items:center;justify-content:center;position:relative;padding:0;width:100%;height:var(--uix-divider-size);span{padding:0 .75rem;font-weight:700;font-size:var(--uix-divider-font-size, 1.5rem)}&[resizable]{cursor:row-resize;&[vertical]{cursor:col-resize}}&:before,&:after{content:"";flex-grow:1;height:var(--uix-divider-size);background-color:var(--uix-divider-color)}&[label]{padding:var(--uix-divider-padding, 1rem) 0}&[label]:before,&[label]:after{flex-grow:1}&[vertical]{flex-direction:column;width:1px;height:100%;background-color:transparent;&:before,&:after{width:1px;height:auto}&[label]{padding:0 var(--uix-divider-padding, 1rem)}}}
`,mimeType:"text/css",skipSW:!1},"/templates/servers/basic.js":{content:'import{McpServer as h,ResourceTemplate as p}from"@modelcontextprotocol/sdk/server/mcp.js";import c from"zod";const l=new h({name:"example-server",version:"0.1.0"},{capabilities:{tools:{},resources:{subscribe:!0},logging:{},prompts:{},sampling:{},elicitation:{}}}),n={users:[{id:1,name:"Alice",email:"alice@example.com",role:"admin"},{id:2,name:"Bob",email:"bob@example.com",role:"user"},{id:3,name:"Charlie",email:"charlie@example.com",role:"user"}],posts:[{id:1,title:"Welcome Post",content:"Welcome to our platform!",authorId:1},{id:2,title:"Getting Started",content:"Here\'s how to get started...",authorId:1}],settings:{theme:"dark",language:"en",notifications:!0,maxUsers:100}},d=new Set;l.registerTool("echo",{title:"Echo Tool",description:"Echo back the input text with optional formatting",inputSchema:{text:c.string().describe("Text to echo back"),uppercase:c.boolean().optional().describe("Convert to uppercase"),repeat:c.number().min(1).max(5).optional().default(1).describe("Number of times to repeat")}},async({text:s,uppercase:r=!1,repeat:i=1})=>{let e=r?s.toUpperCase():s;return e=Array(i).fill(e).join(" | "),{content:[{type:"text",text:`Echo: ${e}`}]}}),l.registerTool("calculate",{title:"Calculator",description:"Perform basic mathematical operations",inputSchema:{operation:c.enum(["add","subtract","multiply","divide","power"]).describe("Mathematical operation to perform"),a:c.number().describe("First number"),b:c.number().describe("Second number")}},async({operation:s,a:r,b:i})=>{let e;switch(s){case"add":e=r+i;break;case"subtract":e=r-i;break;case"multiply":e=r*i;break;case"divide":if(i===0)throw new Error("Division by zero is not allowed");e=r/i;break;case"power":e=r**i;break}return{content:[{type:"text",text:`${r} ${s} ${i} = ${e}`}]}}),l.registerTool("manage_user",{title:"User Management",description:"Create, update, or delete users",inputSchema:{action:c.enum(["create","update","delete","list"]).describe("Action to perform"),userId:c.number().optional().describe("User ID (required for update/delete)"),name:c.string().optional().describe("User name (required for create)"),email:c.string().email().optional().describe("User email (required for create)"),role:c.enum(["admin","user"]).optional().describe("User role")}},async({action:s,userId:r,name:i,email:e,role:a})=>{switch(s){case"list":return{content:[{type:"text",text:`Users:\n${n.users.map(o=>`${o.id}: ${o.name} (${o.email}) - ${o.role}`).join(`\n`)}`}]};case"create":{if(!i||!e)throw new Error("Name and email are required for creating a user");const o={id:Math.max(...n.users.map(t=>t.id))+1,name:i,email:e,role:a||"user"};return n.users.push(o),d.has("data://users")&&l.notifyResourceUpdated("data://users"),{content:[{type:"text",text:`Created user: ${o.name} (ID: ${o.id})`}]}}case"update":{if(!r)throw new Error("User ID is required for updating");const o=n.users.findIndex(t=>t.id===r);if(o===-1)throw new Error(`User with ID ${r} not found`);return i&&(n.users[o].name=i),e&&(n.users[o].email=e),a&&(n.users[o].role=a),d.has("data://users")&&l.notifyResourceUpdated("data://users"),d.has(`data://users/${r}`)&&l.notifyResourceUpdated(`data://users/${r}`),{content:[{type:"text",text:`Updated user: ${n.users[o].name}`}]}}case"delete":{if(!r)throw new Error("User ID is required for deletion");const o=n.users.findIndex(u=>u.id===r);if(o===-1)throw new Error(`User with ID ${r} not found`);const t=n.users.splice(o,1)[0];return d.has("data://users")&&l.notifyResourceUpdated("data://users"),{content:[{type:"text",text:`Deleted user: ${t.name}`}]}}}}),l.registerTool("delete_user_with_confirmation",{title:"Delete User with Confirmation",description:"Deletes a user after confirming with the user",inputSchema:{userId:c.number().describe("ID of the user to delete"),force:c.boolean().optional().describe("Skip confirmation if true (default: false)")}},async({userId:s,force:r=!1})=>{const i=n.users.findIndex(a=>a.id===s);if(i===-1)throw new Error(`User with ID ${s} not found`);const e=n.users[i];if(!r){const a=await l.server.elicitInput({message:`Are you sure you want to delete user "${e.name}" (${e.email})?`,requestedSchema:{type:"object",properties:{confirm:{type:"boolean",title:"Confirm deletion",description:`Confirm deletion of user "${e.name}"`},transferPosts:{type:"boolean",title:"Transfer posts",description:"Transfer user\'s posts to another user",default:!1},newAuthorId:{type:"number",title:"New author ID",description:"ID of user to transfer posts to (if transferring)"}},required:["confirm"]}});if(a.action!=="accept"||!a.content?.confirm)return{content:[{type:"text",text:`Deletion cancelled by user for ${e.name}`}]};if(a.content?.transferPosts&&a.content?.newAuthorId){const o=n.users.find(t=>t.id===a.content.newAuthorId);o&&(n.posts.forEach(t=>{t.authorId===s&&(t.authorId=a.content.newAuthorId)}),await l.sendLoggingMessage({level:"info",data:`Transferred posts from ${e.name} to ${o.name}`}))}}return n.users.splice(i,1),d.has("data://users")&&l.notifyResourceUpdated("data://users"),{content:[{type:"text",text:`Successfully deleted user: ${e.name}`}]}}),l.registerTool("generate_post",{title:"Generate Post Content",description:"Uses AI to generate a blog post with the specified parameters",inputSchema:{title:c.string().describe("Title of the post"),authorId:c.number().describe("ID of the author"),topic:c.string().optional().describe("Topic or theme for the post"),style:c.enum(["professional","casual","technical","creative"]).optional().default("professional").describe("Writing style for the post")}},async({title:s,authorId:r,topic:i,style:e="professional"})=>{const a=n.users.find(t=>t.id===r);if(!a)throw new Error(`Author with ID ${r} not found`);let o=`Write a blog post with the title "${s}"`;i&&(o+=` about ${i}`),o+=`. Use a ${e} writing style. Keep it concise (2-3 paragraphs).`;try{const t=await l.server.createMessage({messages:[{role:"user",content:{type:"text",text:o}}],maxTokens:500,temperature:e==="creative"?.8:.3});let u="";if(t.content.type==="text")u=t.content.text;else throw new Error("Failed to generate text content");const m={id:Math.max(...n.posts.map(f=>f.id))+1,title:s,content:u,authorId:r};return n.posts.push(m),d.has("data://posts")&&l.notifyResourceUpdated("data://posts"),await l.sendLoggingMessage({level:"info",data:`Generated post "${s}" for author ${a.name} in ${e} style`}),{content:[{type:"text",text:`Successfully generated post "${s}" (ID: ${m.id})\n\nContent preview:\n${u.substring(0,200)}${u.length>200?"...":""}`}]}}catch(t){throw await l.sendLoggingMessage({level:"error",data:`Failed to generate post: ${t.message}`}),new Error(`Post generation failed: ${t.message}`)}}),l.registerTool("slow_task",{title:"Slow Task Simulator",description:"Simulates a long-running task with progress updates",inputSchema:{taskName:c.string().describe("Name of the task to simulate"),duration:c.number().min(1).max(10).describe("Duration in seconds")}},async({taskName:s,duration:r},{progress:i})=>{await l.sendLoggingMessage({level:"info",data:`Starting task: ${s} (${r}s)`});const e=r*2;for(let a=1;a<=e;a++)await new Promise(o=>setTimeout(o,500)),i({progress:a,total:e});return await l.sendLoggingMessage({level:"info",data:`Completed task: ${s}`}),{content:[{type:"text",text:`Task "${s}" completed successfully after ${r} seconds!`}]}}),l.registerResource("config","config://app",{title:"App Configuration",description:"Application configuration settings",mimeType:"application/json"},async s=>({contents:[{uri:s.href,mimeType:"application/json",text:JSON.stringify({name:"MCP Dev Server",version:"1.0.0",features:["tools","resources","templates"],status:"active",...n.settings},null,2)}]})),l.registerResource("data_users","data://users",{title:"Users List",description:"List of all users in the system",mimeType:"application/json"},async s=>({contents:[{uri:s.href,mimeType:"application/json",text:JSON.stringify(n.users,null,2)}]})),l.registerResource("data_posts","data://posts",{title:"Posts List",description:"List of all posts in the system",mimeType:"application/json"},async s=>({contents:[{uri:s.href,mimeType:"application/json",text:JSON.stringify(n.posts,null,2)}]})),l.registerResource("data_users_template",new p("data://users/{id}",{list:void 0}),{title:"User Resource",description:"Individual user data by ID"},async(s,{id:r})=>{const i=Number.parseInt(r),e=n.users.find(t=>t.id===i);if(!e)throw new Error(`User with ID ${i} not found`);const a=n.posts.filter(t=>t.authorId===i),o={...e,posts:a};return{contents:[{uri:s.href,mimeType:"application/json",text:JSON.stringify(o,null,2)}]}}),l.registerResource("data_posts_template",new p("data://posts/{id}",{list:void 0}),{title:"Post Resource",description:"Individual post data by ID"},async(s,{id:r})=>{const i=Number.parseInt(r),e=n.posts.find(t=>t.id===i);if(!e)throw new Error(`Post with ID ${i} not found`);const a=n.users.find(t=>t.id===e.authorId),o={...e,author:a?{name:a.name,email:a.email}:null};return{contents:[{uri:s.href,mimeType:"application/json",text:JSON.stringify(o,null,2)}]}}),l.registerResource("reports",new p("reports://{type}/{format}",{list:void 0}),{title:"Dynamic Reports",description:"Generate various reports in different formats"},async(s,{type:r,format:i})=>{let e,a;switch(r){case"users":e={title:"User Report",generated:new Date().toISOString(),summary:{total:n.users.length,admins:n.users.filter(t=>t.role==="admin").length,users:n.users.filter(t=>t.role==="user").length},users:n.users};break;case"posts":e={title:"Posts Report",generated:new Date().toISOString(),summary:{total:n.posts.length,byAuthor:n.users.map(t=>({author:t.name,count:n.posts.filter(u=>u.authorId===t.id).length}))},posts:n.posts};break;default:throw new Error(`Unknown report type: ${r}`)}let o;switch(i){case"json":a="application/json",o=JSON.stringify(e,null,2);break;case"csv":a="text/csv",r==="users"?o=`ID,Name,Email,Role\n`+n.users.map(t=>`${t.id},${t.name},${t.email},${t.role}`).join(`\n`):o=`ID,Title,Author ID\n`+n.posts.map(t=>`${t.id},${t.title},${t.authorId}`).join(`\n`);break;case"txt":a="text/plain",o=`${e.title}\nGenerated: ${e.generated}\n\n${JSON.stringify(e.summary,null,2)}`;break;default:throw new Error(`Unknown format: ${i}`)}return{contents:[{uri:s.href,mimeType:a,text:o}]}}),l.registerPrompt("simple_greeting",{title:"Simple Greeting",description:"A basic greeting prompt"},()=>({messages:[{role:"user",content:{type:"text",text:"Please greet the user in a friendly and professional manner."}}]})),l.registerPrompt("analyze_user_data",{title:"Analyze User Data",description:"Analyze user data with specific parameters",argsSchema:{userId:c.number().describe("ID of the user to analyze"),includeStats:c.boolean().default(!0).describe("Include statistical analysis")}},({userId:s,includeStats:r})=>({messages:[{role:"user",content:{type:"text",text:`Please analyze the user data for user ID ${s}.${r?" Include detailed statistics and insights.":" Provide a basic summary only."}`}},{role:"user",content:{type:"resource",uri:`data://users/${s}`}}]})),l.registerPrompt("summarize_post",{title:"Summarize Post",description:"Generate a summary of a specific post",argsSchema:{postId:c.number().describe("ID of the post to summarize")}},({postId:s})=>({messages:[{role:"user",content:{type:"text",text:"Please provide a concise summary of the following post:"}},{role:"user",content:{type:"resource",uri:`data://posts/${s}`}}]}));export default l;\n',mimeType:"application/javascript",skipSW:!1},"/modules/apps/mcp/worker.js":{content:'let ts,tsLibCache={};async function loadCjsModule(s){try{const e=await fetch(s);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.text(),o={exports:{}},i=o.exports;new Function("module","exports",r)(o,i);const c=o.exports;return Object.keys(c).length===0?i:c}catch(e){throw console.error(`Failed to load module from ${s}:`,e),e}}const loadTypeScript=async()=>{if(!ts)try{ts=await loadCjsModule("https://unpkg.com/typescript@latest/lib/typescript.js"),self.ts=ts,console.log({ts},self.ts)}catch(s){console.error("Failed to load TypeScript:",s)}},loadTypeScriptLibs=async()=>{if(Object.keys(tsLibCache).length>0)return;const s=["lib.es2020.d.ts","lib.es2018.d.ts","lib.es2019.d.ts","lib.es2019.string.d.ts","lib.es2019.array.d.ts","lib.es2019.object.d.ts","lib.es2020.bigint.d.ts","lib.es2020.date.d.ts","lib.es2020.number.d.ts","lib.es2020.promise.d.ts","lib.es2020.sharedmemory.d.ts","lib.es2020.string.d.ts","lib.es2020.symbol.wellknown.d.ts","lib.es2015.symbol.d.ts","lib.es2019.symbol.d.ts","lib.es2019.intl.d.ts","lib.es2015.iterable.d.ts","lib.es2018.intl.d.ts","lib.es2020.intl.d.ts","lib.es5.d.ts","lib.dom.d.ts","lib.es2017.d.ts","lib.es2018.asynciterable.d.ts","lib.es2018.asyncgenerator.d.ts","lib.es2018.promise.d.ts","lib.es2018.regexp.d.ts","lib.es2016.d.ts","lib.es2017.arraybuffer.d.ts","lib.es2017.date.d.ts","lib.es2017.intl.d.ts","lib.es2017.object.d.ts","lib.es2017.sharedmemory.d.ts","lib.es2017.string.d.ts","lib.es2017.typedarrays.d.ts","lib.es2015.d.ts","lib.es2016.array.include.d.ts","lib.es2016.intl.d.ts","lib.es2015.symbol.wellknown.d.ts","lib.es2015.core.d.ts","lib.es2015.collection.d.ts","lib.es2015.generator.d.ts","lib.es2015.promise.d.ts","lib.es2015.proxy.d.ts","lib.es2015.reflect.d.ts","lib.decorators.d.ts","lib.decorators.legacy.d.ts"];try{const e=s.map(i=>fetch(`https://unpkg.com/typescript@latest/lib/${i}`).then(l=>{if(!l.ok)throw new Error(`Failed to fetch ${i}`);return l.text()})),r=await Promise.all(e),o={};return s.forEach((i,l)=>{o[i]=r[l]}),o}catch(e){console.error("Could not fetch TypeScript library definitions. Type checking will be less accurate.",e)}};self.onmessage=async s=>{const{type:e,payload:r}=s.data;switch(e){case"init":await loadTypeScript(),tsLibCache=await loadTypeScriptLibs();break;case"validate":{if(!ts)return;const o=validate(r.code,r.filePath);self.postMessage({type:"validationComplete",payload:{errors:o}});break}case"transpile":{if(!ts){self.postMessage({type:"transpileComplete",payload:{transpiledCode:r.code,requestId:r.requestId}});return}const o=transpile(r.code);self.postMessage({type:"transpileComplete",payload:{transpiledCode:o,requestId:r.requestId}});break}}};const validate=(s,e)=>{try{const r="lib.es2020.d.ts",o={target:ts.ScriptTarget.ES2020,module:ts.ModuleKind.CommonJS,allowJs:!0,esModuleInterop:!0,noEmit:!0},i={getSourceFile:(t,n)=>{const a=tsLibCache[t]||(t===e?s:void 0);return a!==void 0?ts.createSourceFile(t,a,n):void 0},writeFile:()=>{},getDefaultLibFileName:()=>r,useCaseSensitiveFileNames:()=>!1,getCanonicalFileName:t=>t,getCurrentDirectory:()=>"/",getNewLine:()=>`\n`,fileExists:t=>t===e||!!tsLibCache[t],readFile:t=>t===e?s:tsLibCache[t]},l=ts.createProgram([e],o,i);return ts.getPreEmitDiagnostics(l).map(t=>{const n=ts.flattenDiagnosticMessageText(t.messageText,`\n`);if(t.file&&t.start){const{line:a,character:d}=ts.getLineAndCharacterOfPosition(t.file,t.start);return{line:a+1,character:d+1,message:n}}return{line:0,character:0,message:n}})}catch(r){return console.error("Error during code validation in worker:",r),[{line:0,character:0,message:"An unexpected error occurred during validation."}]}},transpile=s=>{try{return ts.transpileModule(s,{compilerOptions:{module:ts.ModuleKind.CommonJS,target:ts.ScriptTarget.ES2020}}).outputText}catch(e){return console.error("TypeScript compilation failed in worker:",e),s}};\n',mimeType:"application/javascript",skipSW:!1},"/modules/icon-lucide/lucide/triangle-alert.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21.73 18l-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3M12 9v4m0 4h.01"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/server-off.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 2h13a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-5m-5 0L2.5 2.5C2 2 2 2.5 2 5v3a2 2 0 0 0 2 2zm12 7v-1a2 2 0 0 0-2-2h-1M4 14a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16.5l1-.5l.5.5l-8-8zm2 4h.01M2 2l20 20"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/atom.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="1"/><path d="M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9c-4.54-4.52-9.87-6.54-11.9-4.5c-2.04 2.03-.02 7.36 4.5 11.9c4.54 4.52 9.87 6.54 11.9 4.5"/><path d="M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9c-2.03-2.04-7.36-.02-11.9 4.5c-4.52 4.54-6.54 9.87-4.5 11.9c2.03 2.04 7.36.02 11.9-4.5"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/users.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87m-3-12a4 4 0 0 1 0 7.75"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/workflow.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="8" height="8" x="3" y="3" rx="2"/><path d="M7 11v4a2 2 0 0 0 2 2h4"/><rect width="8" height="8" x="13" y="13" rx="2"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/gem.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M6 3h12l4 6l-10 13L2 9Z"/><path d="M11 3L8 9l4 13l4-13l-3-6M2 9h20"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/search.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21l-4.3-4.3"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/arrow-up.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m5 12l7-7l7 7m-7 7V5"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/terminal.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4 17l6-6l-6-6m8 14h8"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/arrow-left.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m12 19l-7-7l7-7m7 7H5"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/github.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5c.08-1.25-.27-2.48-1-3.5c.28-1.15.28-2.35 0-3.5c0 0-1 0-3 1.5c-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.4 5.4 0 0 0 4 9c0 3.5 3 5.5 6 5.5c-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/flame.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3c-1.072-2.143-.224-4.054 2-6c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/message-circle.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/star.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m12 2l3.09 6.26L22 9.27l-5 4.87l1.18 6.88L12 17.77l-6.18 3.25L7 14.14L2 9.27l6.91-1.01z"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/copy.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/package.json":{content:`{
	"name": "mcpiquant",
	"version": "1",
	"dependencies": {
		"MVC": "/modules/mvc/index.js",
		"p2p": "/modules/p2p/index.js",
		"AI": "/modules/ai/index.js",
		"admin": "/modules/apps/admin/index.js",
		"uix": "/modules/uix/index.js",
		"icon-lucide": "/modules/icon-lucide/index.js"
	},
	"settings": {
		"name": "MCPiquant.com",
		"url": "https://www.mcpiquant.com",
		"emojiIcon": "\u{1F336}\uFE0F",
		"importmap": {
			"@modelcontextprotocol/sdk/": "https://cdn.jsdelivr.net/npm/@modelcontextprotocol/sdk@1.18.1/dist/esm/",
			"zod": "https://esm.sh/zod@3.23.8",
			"eventsource-parser/stream": "https://esm.sh/eventsource-parser/stream",
			"pkce-challenge": "https://esm.sh/pkce-challenge",
			"zod-to-json-schema": "https://esm.sh/zod-to-json-schema@3.24.5",
			"ajv": "https://esm.sh/ajv@6.12.6"
		}
	},
	"theme": {
		"font": {
			"family": "'Manrope'"
		}
	}
}
`,mimeType:"application/json",skipSW:!1},"/modules/mvc/index.js":{content:`export const dependencies={T:"/modules/types/index.js",html:"/modules/mvc/view/html/index.js",fs:"/modules/mvc/helpers/filesystem.js",View:"/modules/mvc/view/index.js",ThemeManager:"/modules/theme/index.js",Loader:"/modules/mvc/view/loader.js",SW:"/modules/sw/index.js",Backend:"/modules/mvc/controller/backend/index.js",Model:"/modules/mvc/model/frontend.js",Controller:"/modules/mvc/controller/index.js",Router:"/modules/router/index.js","user-frontend":"/index.js"};export default({$APP:e})=>{e.addModule({name:"template",path:"views/templates",root:!0}),e.addModule({name:"view",path:"views",root:!0})};
`,mimeType:"application/javascript",skipSW:!1},"/modules/mvc/view/html/index.js":{content:'const He=!1,ze=!1,ve=!1,Be=!1,P=globalThis;let Ue;const h=void 0;let We=0,Ye;const _=s=>s,R=P.trustedTypes,Q=R?R.createPolicy("lit-html",{createHTML:s=>s}):void 0,$e=s=>s,H=(s,e,t)=>$e,Fe=s=>{},Xe=()=>{k=H},Ke=(s,e,t)=>k(s,e,t),z="$lit$",g=`lit$${Math.random().toFixed(9).slice(2)}$`,v="?"+g,Te=`<${v}>`,E=document,x=()=>E.createComment(""),S=s=>s===null||typeof s!="object"&&typeof s!="function",B=Array.isArray,G=s=>B(s)||typeof s?.[Symbol.iterator]=="function",U=`[ 	\n\\f\\r]`,ye=`[^ 	\n\\f\\r"\'\\`<>=]`,Ne=`[^\\\\s"\'>=/]`,b=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,Z=1,W=2,xe=3,q=/-->/g,J=/>/g,$=new RegExp(`>|${U}(?:(${Ne}+)(${U}*=${U}*(?:${ye}|("|\')|))|$)`,"g"),Se=0,ee=1,be=2,te=3,ne=/\'/g,ie=/"/g,se=/^(?:script|style|textarea|title)$/i,oe=1,M=2,I=3,Y=1,L=2,Ae=3,we=4,Ve=5,F=6,Oe=7,X=s=>(e,...t)=>({_$litType$:s,strings:e,values:t}),A=X(oe),ae=X(M),je=X(I),w=Symbol.for("lit-noChange"),c=Symbol.for("lit-nothing"),re=new WeakMap,T=E.createTreeWalker(E,129);let k=H;function le(s,e){if(!B(s)||!Object.hasOwn(s,"raw")){let t="invalid template strings array";throw new Error(t)}return Q!==void 0?Q.createHTML(e):e}const de=(s,e)=>{const t=s.length-1,n=[];let i=e===M?"<svg>":e===I?"<math>":"",o,a=b;for(let r=0;r<t;r++){const l=s[r];let u=-1,d,p=0,m;for(;p<l.length&&(a.lastIndex=p,m=a.exec(l),m!==null);)p=a.lastIndex,a===b?m[Z]==="!--"?a=q:m[Z]!==void 0?a=J:m[W]!==void 0?(se.test(m[W])&&(o=new RegExp(`</${m[W]}`,"g")),a=$):m[xe]!==void 0&&(a=$):a===$?m[Se]===">"?(a=o??b,u=-1):m[ee]===void 0?u=-2:(u=a.lastIndex-m[be].length,d=m[ee],a=m[te]===void 0?$:m[te]===\'"\'?ie:ne):a===ie||a===ne?a=$:a===q||a===J?a=b:(a=$,o=void 0);const D=a===$&&s[r+1].startsWith("/>")?" ":"";i+=a===b?l+Te:u>=0?(n.push(d),l.slice(0,u)+z+l.slice(u)+g+D):l+g+(u===-2?r:D)}const f=i+(s[t]||"<?>")+(e===M?"</svg>":e===I?"</math>":"");return[le(s,f),n]};class O{parts=[];constructor({strings:e,["_$litType$"]:t},n){let i,o=0,a=0;const f=e.length-1,r=this.parts,[l,u]=de(e,t);if(this.el=O.createElement(l,n),T.currentNode=this.el.content,t===M||t===I){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=T.nextNode())!==null&&r.length<f;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(z)){const p=u[a++],D=i.getAttribute(d).split(g),C=/([.?@])?(.*)/.exec(p);r.push({type:Y,index:o,name:C[2],strings:D,ctor:C[1]==="."?me:C[1]==="?"?he:C[1]==="@"?pe:V}),i.removeAttribute(d)}else d.startsWith(g)&&(r.push({type:F,index:o}),i.removeAttribute(d));if(se.test(i.tagName)){const d=i.textContent.split(g),p=d.length-1;if(p>0){i.textContent=R?R.emptyScript:"";for(let m=0;m<p;m++)i.append(d[m],x()),T.nextNode(),r.push({type:L,index:++o});i.append(d[p],x())}}}else if(i.nodeType===8)if(i.data===v)r.push({type:L,index:o});else{let p=-1;for(;(p=i.data.indexOf(g,p+1))!==-1;)r.push({type:Oe,index:o}),p+=g.length-1}o++}h?.({kind:"template prep",template:this,clonableTemplate:this.el,parts:this.parts,strings:e})}static createElement(e,t){const n=E.createElement("template");return n.innerHTML=e,n}}function y(s,e,t=s,n){if(e===w||e===c)return e;let i=n!==void 0?t.__directives?.[n]:t.__directive;const o=S(e)?void 0:e._$litDirective$;return i?.constructor!==o&&(i?._$notifyDirectiveConnectionChanged?.(!1),o===void 0?i=void 0:(i=new o(s),i?._$initialize(s,t,n)),n!==void 0?(t.__directives??=[])[n]=i:t.__directive=i),i!==void 0&&(e=y(s,i._$resolve(s,e.values),i,n)),e}class ce{_$parts=[];_$disconnectableChildren=void 0;constructor(e,t){this._$template=e,this._$parent=t}get parentNode(){return this._$parent.parentNode}get _$isConnected(){return this._$parent._$isConnected}_clone(e){const{el:{content:t},parts:n}=this._$template,i=(e?.creationScope??E).importNode(t,!0);T.currentNode=i;let o=T.nextNode(),a=0,f=0,r=n[0];for(;r!==void 0;){if(a===r.index){let l;r.type===L?l=new N(o,o.nextSibling,this,e):r.type===Y?l=new r.ctor(o,r.name,r.strings,this,e):r.type===F&&(l=new ue(o,this,e)),this._$parts.push(l),r=n[++f]}a!==r?.index&&(o=T.nextNode(),a++)}return T.currentNode=E,i}_update(e){let t=0;for(const n of this._$parts)n!==void 0&&(h?.({kind:"set part",part:n,value:e[t],valueIndex:t,values:e,templateInstance:this}),n.strings!==void 0?(n._$setValue(e,n,t),t+=n.strings.length-2):n._$setValue(e[t])),t++}}class N{type=L;_$committedValue=c;get _$isConnected(){return this._$parent?._$isConnected??this.__isConnected}_$disconnectableChildren=void 0;constructor(e,t,n,i){this._$startNode=e,this._$endNode=t,this._$parent=n,this.options=i,this.__isConnected=i?.isConnected??!0}get parentNode(){let e=_(this._$startNode).parentNode;const t=this._$parent;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$startNode}get endNode(){return this._$endNode}_$setValue(e,t=this){e=y(this,e,t),S(e)?e===c||e==null||e===""?(this._$committedValue!==c&&(h?.({kind:"commit nothing to child",start:this._$startNode,end:this._$endNode,parent:this._$parent,options:this.options}),this._$clear()),this._$committedValue=c):e!==this._$committedValue&&e!==w&&this._commitText(e):e._$litType$!==void 0?this._commitTemplateResult(e):e.nodeType!==void 0?this._commitNode(e):G(e)?this._commitIterable(e):this._commitText(e)}_insert(e){return _(_(this._$startNode).parentNode).insertBefore(e,this._$endNode)}_commitNode(e){this._$committedValue!==e&&(this._$clear(),h?.({kind:"commit node",start:this._$startNode,parent:this._$parent,value:e,options:this.options}),this._$committedValue=this._insert(e))}_commitText(e){if(this._$committedValue!==c&&S(this._$committedValue)){const t=_(this._$startNode).nextSibling;h?.({kind:"commit text",node:t,value:e,options:this.options}),t.data=e}else this._commitNode(E.createTextNode(e)),h?.({kind:"commit text",node:_(this._$startNode).nextSibling,value:e,options:this.options});this._$committedValue=e}_commitTemplateResult(e){const{values:t,["_$litType$"]:n}=e,i=typeof n=="number"?this._$getTemplate(e):(n.el===void 0&&(n.el=O.createElement(le(n.h,n.h[0]),this.options)),n);if(this._$committedValue?._$template===i)h?.({kind:"template updating",template:i,instance:this._$committedValue,parts:this._$committedValue._$parts,options:this.options,values:t}),this._$committedValue._update(t);else{const o=new ce(i,this),a=o._clone(this.options);h?.({kind:"template instantiated",template:i,instance:o,parts:o._$parts,options:this.options,fragment:a,values:t}),o._update(t),h?.({kind:"template instantiated and updated",template:i,instance:o,parts:o._$parts,options:this.options,fragment:a,values:t}),this._commitNode(a),this._$committedValue=o}}_$getTemplate(e){let t=re.get(e.strings);return t===void 0&&re.set(e.strings,t=new O(e)),t}_commitIterable(e){B(this._$committedValue)||(this._$committedValue=[],this._$clear());const t=this._$committedValue;let n=0,i;for(const o of e)n===t.length?t.push(i=new N(this._insert(x()),this._insert(x()),this,this.options)):i=t[n],i._$setValue(o),n++;n<t.length&&(this._$clear(i&&_(i._$endNode).nextSibling,n),t.length=n)}_$clear(e=_(this._$startNode).nextSibling,t){for(this._$notifyConnectionChanged?.(!1,!0,t);e&&e!==this._$endNode;){const n=_(e).nextSibling;_(e).remove(),e=n}}setConnected(e){this._$parent===void 0&&(this.__isConnected=e,this._$notifyConnectionChanged?.(e))}}class V{type=Y;_$committedValue=c;_$disconnectableChildren=void 0;get tagName(){return this.element.tagName}get _$isConnected(){return this._$parent._$isConnected}constructor(e,t,n,i,o){this.element=e,this.name=t,this._$parent=i,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$committedValue=new Array(n.length-1).fill(new String),this.strings=n):this._$committedValue=c}_$setValue(e,t=this,n,i){const o=this.strings;let a=!1;if(o===void 0)e=y(this,e,t,0),a=!S(e)||e!==this._$committedValue&&e!==w,a&&(this._$committedValue=e);else{const f=e;e=o[0];let r,l;for(r=0;r<o.length-1;r++)l=y(this,f[n+r],t,r),l===w&&(l=this._$committedValue[r]),a||=!S(l)||l!==this._$committedValue[r],l===c?e=c:e!==c&&(e+=(l??"")+o[r+1]),this._$committedValue[r]=l}a&&!i&&this._commitValue(e)}_commitValue(e){e===c?_(this.element).removeAttribute(this.name):(h?.({kind:"commit attribute",element:this.element,name:this.name,value:e,options:this.options}),_(this.element).setAttribute(this.name,e??""))}}class me extends V{type=Ae;_commitValue(e){h&&h({kind:"commit property",element:this.element,name:this.name,value:e,options:this.options}),this.element[this.name]=e===c?void 0:e}}class he extends V{type=we;_commitValue(e){h?.({kind:"commit boolean attribute",element:this.element,name:this.name,value:!!(e&&e!==c),options:this.options}),_(this.element).toggleAttribute(this.name,!!e&&e!==c)}}class pe extends V{type=Ve;constructor(e,t,n,i,o){super(e,t,n,i,o)}_$setValue(e,t=this){if(e=y(this,e,t,0)??c,e===w)return;const n=this._$committedValue,i=e===c&&n!==c||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==c&&(n===c||i);h?.({kind:"commit event listener",element:this.element,name:this.name,value:e,options:this.options,removeListener:i,addListener:o,oldListener:n}),i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$committedValue=e}handleEvent(e){typeof this._$committedValue=="function"?this._$committedValue.call(this.options?.host??this.element,e):this._$committedValue.handleEvent(e)}}class ue{type=F;_$disconnectableChildren=void 0;constructor(e,t,n){this.element=e,this._$parent=t,this.options=n}get _$isConnected(){return this._$parent._$isConnected}_$setValue(e){h?.({kind:"commit to element binding",element:this.element,value:e,options:this.options}),y(this,e)}}const Qe={_boundAttributeSuffix:z,_marker:g,_markerMatch:v,_HTML_RESULT:oe,_getTemplateHtml:de,_TemplateInstance:ce,_isIterable:G,_resolveDirective:y,_ChildPart:N,_AttributePart:V,_BooleanAttributePart:he,_EventPart:pe,_PropertyPart:me,_ElementPart:ue},De=P.litHtmlPolyfillSupport;De?.(O,N),(P.litHtmlVersions??=[]).push("3.2.0");const Ce=(s,e,t)=>{const n=0,i=t?.renderBefore??e;let o=i._$litPart$;if(h?.({kind:"begin render",id:n,value:s,container:e,options:t,part:o}),o===void 0){const a=t?.renderBefore??null;i._$litPart$=o=new N(e.insertBefore(x(),a),a,void 0,t??{})}return o._$setValue(s),h?.({kind:"end render",id:n,value:s,container:e,options:t,part:o}),o},K=Symbol.for(""),Re=s=>{if(s?.r===K)return s?._$litStatic$},j=s=>({_$litStatic$:s,r:K}),Me=s=>{if(s._$litStatic$!==void 0)return s._$litStatic$;throw new Error(`Value passed to \'literal\' function must be a \'literal\' result: ${s}. Use \'unsafeStatic\' to pass non-literal values, but\n            take care to ensure page security.`)},Ie=(s,...e)=>({_$litStatic$:e.reduce((t,n,i)=>t+Me(n)+s[i+1],s[0]),r:K}),_e=new Map,fe=s=>(e,...t)=>{const n=t.length;let i,o;const a=[],f=[];let r=0,l=!1,u;for(;r<n;){for(u=e[r];r<n&&(o=t[r],(i=Re(o))!==void 0);)u+=i+e[++r],l=!0;r!==n&&f.push(o),a.push(u),r++}if(r===n&&a.push(e[n]),l){const d=a.join("$$lit$$");e=_e.get(d),e===void 0&&(a.raw=a,_e.set(d,e=a)),t=f}return s(e,...t)},ge=fe(A),Le=s=>ge`${j(s)}`,Ee=fe(ae),ke=s=>Ee`${j(s)}`,Pe={unsafeHTML:Le,unsafeStatic:j,staticHTML:ge,staticSVG:Ee,unsafeSVG:ke,render:Ce,html:A,literal:Ie,svg:ae,css};export function css(s,...e){return s.reduce((t,n,i)=>t+n+(e[i]??""),"")}Object.assign(A,Pe);export const component=A;export default A;\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/helpers/filesystem.js":{content:'export default({$APP:o})=>{o.addModule({name:"fs"});const r=o.fs,c={async import(e,{tag:t,module:s}={}){try{const n=await import(e);return r[e]={tag:t,path:e,module:s,extension:t?"component":"js"},n}catch(n){return console.error(`Failed to import ${e}:`,n),{error:!0}}},async fetchResource(e,t,s){try{const n=await fetch(e);if(r[e]={path:e,extension:s},n.ok)return await t(n)}catch(n){console.warn(`Resource not found at: ${e}`,n)}return null},list(){const e={};return Object.values(r).forEach(t=>{const{extension:s}=t;e[t.extension]||(e[s]=[]),e[s].push(t)}),e},assets(){return Object.values(r).filter(({extension:e})=>!["js","component"].includes(e))},components(){return Object.values(r).filter(({tag:e,extension:t})=>t==="js"&&!!e)},json(e){return c.fetchResource(e,t=>t.json(),"json")},css:async(e,t=!1)=>{const s=await c.fetchResource(e,async u=>await u.text(),"css");if(!t)return s;const n=document.createElement("style");return n.textContent=s,document.head.appendChild(n),s},getFilePath(e){return o.settings.mv3Injected?chrome.runtime.getURL(e):`${o.settings.basePath}${e.startsWith("/")?e:`/${e}`}`},getRequestPath(e){const t=new URL(e);return t.pathname+t.search}};return c};\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/view/index.js":{content:'export default({T:c,html:f})=>{function u(o,t){t?.constructor&&(u(o,Object.getPrototypeOf(t)),t.constructor.tag&&o.classList.add(t.constructor.tag))}class b extends HTMLElement{static get observedAttributes(){return Object.keys(this.properties).filter(t=>this.properties[t].attribute!==!1)}static properties={};static _attrs={};static plugins=[];state={};_hasUpdated=!1;_ignoreAttributeChange=!1;_changedProps={};on(t,e){if(typeof e!="function"){console.error(`Error adding listener to ${t}: callback is not a function.`);return}e.bind(this);const s=({detail:i})=>e(i);return this.addEventListener(t,s),s}off(t,e){this.removeEventListener(t,e)}emit(t,e){const s=new CustomEvent(t,{detail:e});this.dispatchEvent(s)}connectedCallback(){this.constructor.properties&&this.initProps(),u(this,Object.getPrototypeOf(this));for(const t of this.constructor.plugins){const{events:e}=t;Object.entries(e).map(([s,i])=>i&&this.on(s,i.bind(this)))}this.emit("connected",{instance:this,component:this.constructor}),this.requestUpdate()}disconnectedCallback(){this.emit("disconnected",{instance:this,component:this.constructor})}defer(t){requestAnimationFrame(t.bind(this))}q(t){return this.querySelector(t)}qa(t){return this.querySelectorAll(t)}prop(t){return{value:this[t],setValue:(e=>this[t]=e).bind(this),instance:this,prop:t}}initProps(){for(const t of this.attributes){const e=this.constructor._attrs[t.name],s=this.constructor.properties[e];if(s&&s.type!=="boolean"&&t.value===""){this.removeAttribute(t.name);continue}this.state[e]=s?c.stringToType(t.value,{...s,attribute:!0}):t.value}for(const[t,e]of Object.entries(this.constructor.properties)){const{type:s,sync:i,defaultValue:r,attribute:n=!0,setter:a,getter:d}=e;if(i)continue;this.state[t]??=this[t]??r,Object.defineProperty(this,t,{get:d?d.bind(this):()=>this.state[t],set:a?a.bind(this):h=>{const l=this.state[t];l!==h&&(this.state[t]=h,n&&this.updateAttribute({key:t,value:h,skipPropUpdate:!0,type:s}),this.requestUpdate(t,l))}});const p=this.state[t];!n||this.hasAttribute(t)||p===void 0||(this.updateAttribute({key:t,value:p,skipPropUpdate:!0,type:s}),this._changedProps[t]=void 0)}}requestUpdate(t,e){return t&&(this._changedProps[t]=e),this.updateComplete&&clearTimeout(this.updateComplete),this.updateComplete=setTimeout(()=>{this.performUpdate(t===void 0)},0),this.updateComplete}performUpdate(t){const e=this._changedProps;this.updateComplete=null,!(this._hasUpdated&&!t&&!this.shouldUpdate(e))&&(this.emit("willUpdate",e),this.update(e),this._hasUpdated||(this._hasUpdated=!0,this.emit("firstUpdated",e)),this.emit("updated",e),this._changedProps={})}shouldUpdate(t){const e={...t};if(!this._hasUpdated)return!0;for(const[s,i]of Object.entries(e)){const r=this[s],n=this.constructor.properties[s];(n?.hasChanged?n.hasChanged(r,i):i!==r)?this.emit(`${s}Changed`,{oldValue:i,value:r,instance:this,component:this.constructor}):delete e[s]}return this._changedProps={},Object.keys(e).length>0}update(){f.render(this.render(),this)}render(){return null}attributeChangedCallback(t,e,s){e!==s&&(this.emit("attributeChangedCallback",{instance:this,component:this.constructor,key:t,value:s,oldValue:e}),!this._ignoreAttributeChange&&(this.state[t]=c.stringToType(s,this.constructor.properties[t]),this._hasUpdated&&this.requestUpdate(t,e)))}updateAttribute({key:t,value:e,type:s,skipPropUpdate:i=!1}){this._ignoreAttributeChange=i,s&&!["array","object"].includes(s)&&typeof e!="function"&&(s==="boolean"?e?this.setAttribute(t,""):this.removeAttribute(t):e==null?this.removeAttribute(t):this.setAttribute(t,String(e))),i?this._ignoreAttributeChange=!1:this[t]=e}}return b};\n',mimeType:"application/javascript",skipSW:!1},"/modules/theme/index.js":{content:'import b from"https://cdn.jsdelivr.net/npm/@unocss/preset-web-fonts/+esm";import S from"https://cdn.jsdelivr.net/npm/@unocss/preset-wind4@66.3.3/+esm";export default async({$APP:s})=>{const e=(t,n)=>{const r={},y=[97,92,84,75,66,55,45,35,24,15],p=[50,100,200,300,400,500,600,700,800,900];for(let a=0;a<p.length;a++)r[p[a]]=`hsl(${t}, ${n}, ${y[a]}%)`;return r.DEFAULT=r[500],r},i=e(198,"100%"),m=e(120,"100%"),d=e(175,"100%"),g=e(149,"87%"),f=e(32,"100%"),u=e(345,"100%"),o=e(0,"0%");o.DEFAULT=o[700];const l="Manrope";window.__unocss={theme:{text:{color:"var(--color-surface-100)"},font:{family:`\'${l}\', -apple-system, BlinkMacSystemFont, \'Segoe UI\', \'Helvetica Neue\', Arial, sans-serif`,icon:{family:"lucide"}},background:{color:"var(--colors-primary-100)"},colors:{primary:i,secondary:m,tertiary:d,success:g,warning:f,danger:u,default:o,surface:o},boxShadow:{md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)"}},extendTheme:t=>s.theme.set(t),presets:[b({provider:"google",fonts:{sans:l}}),S({preflights:{theme:!0}})]},await import("https://cdn.jsdelivr.net/npm/@unocss/runtime/core.global.js");const c=document.createElement("style");c.id="compstyles",document.head.appendChild(c);async function x(t){const n=await s.fs.css(t,!0);n&&(c.textContent+=n)}const h={loadComponentCSS:x};return s.events.on("INIT_APP",()=>{s.fs.css("theme.css",!0)}),h};\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/view/loader.js":{content:'export default async({View:w,ThemeManager:O,$APP:n})=>{const S="ce-",E=(e=!1)=>`${n.settings.basePath}${e?"":"/modules"}`,m=new Map,l=new Map,u=new Map,M=e=>{if(n.components?.[e]?.path)return n.components[e].path;const t=e.split("-"),o=t[0],s=n.modules[o],r=t.slice(1).join("-");return s?[E(s.root),s.path??o,r].join("/"):[n.settings.basePath,e].join("/")};async function T(e){if(m.has(e))return m.get(e);const t=M(e),o=await n.loadDep({tag:e,path:`${t}.js`});return o?(n.components[e]||(n.components[e]={}),n.components[e].path=t,n.components[e].definition=o,m.set(e,o),o):(console.warn(`[Loader] No default export found for component ${e} at ${t}.js`),null)}async function k(e,t){const{properties:o={},icons:s,formAssociated:r=!1,css:y,style:j=!1,extends:p,types:v,connected:_,disconnected:I,willUpdate:U,firstUpdated:z,updated:B,class:N,...F}=t,b=p?await h(p):w;p&&(b.plugins=[...w.plugins,...b.plugins]);const c=class extends b{static icons=s;static css=y;static formAssociated=r;constructor(){super(),N&&this.classList.add(...N.split(" "))}static properties=(()=>{const i=super.properties||{},C=super.theme||{},d={...i};for(const a of Object.keys(o)){const f=o[a];f.type==="object"&&f.properties&&(f.properties=d[a]?.properties?{...d[a]?.properties,...f.properties}:f.properties),d[a]=d[a]?{...d[a],...f}:{...f},f.theme&&(C[a]=d[a].theme)}return v&&(C.types=v),super.theme=C,d})()};return Object.assign(c.prototype,F),c.tag=e,c._attrs=Object.fromEntries(Object.keys(c.properties).map(i=>[i.toLowerCase(),i])),c.plugins=[...c.plugins.filter(i=>!i.test||i.test({component:c}))],c.plugins.push({events:{connected:_,disconnected:I,willUpdate:U,firstUpdated:z,updated:B},name:"base"}),(!customElements.get(e)||n.settings.preview)&&customElements.define(e,c),j&&O.loadComponentCSS(`${n.components[e].path}.css`),l.set(e,c),b.plugins.filter(({init:i})=>i&&typeof i=="function").map(({init:i})=>{i({View:w,component:c,definition:t,tag:e})}),c}async function h(e){if(e=e.toLowerCase(),customElements.get(e))return l.has(e)||l.set(e,customElements.get(e)),l.get(e);if(l.has(e))return l.get(e);if(u.has(e))return u.get(e);const t=(async()=>{try{const o=await T(e);return o?await k(e,o):(console.warn(`[Loader] Definition for ${e} not found after loading.`),null)}catch(o){return console.error(`[Loader] Failed to define component ${e}:`,o),u.delete(e),null}})();return u.set(e,t),t}const L=(...e)=>{if(typeof e[0]=="string"){const t=e[0].toLowerCase(),o=e[1];n.hooks.emit("componentAdded",{tag:t,component:o}),n.settings.dev||h(t).catch(s=>console.error(`[Loader] Error during preview definition for ${t}:`,s))}else typeof e[0]=="object"&&e[0]!==null&&Object.entries(e[0]).forEach(([t,o])=>{L(t,o)})},D=async(e=document.body)=>{if(!e||typeof e.querySelectorAll!="function")return;const t=e.querySelectorAll(":not(:defined)"),o=new Set;t.forEach(s=>{const r=s.tagName.toLowerCase();r.includes("-")&&!r.startsWith(S)&&o.add(r)}),await Promise.allSettled(Array.from(o).map(s=>h(s)))},x=()=>{new MutationObserver(async t=>{const o=new Set;for(const s of t)s.type!=="childList"||s.addedNodes.length===0||s.addedNodes.forEach(r=>{if(r.nodeType!==Node.ELEMENT_NODE)return;const y=j=>{const p=j.tagName.toLowerCase();p.includes("-")&&!customElements.get(p)&&!u.has(p)&&o.add(p)};y(r),typeof r.querySelectorAll=="function"&&r.querySelectorAll(":not(:defined)").forEach(y)});o.size>0&&await Promise.allSettled(Array.from(o).map(s=>h(s)))}).observe(document.body,{childList:!0,subtree:!0})},q=()=>{n.events.on("INIT_APP",()=>{D(document.body),x()})};return n.settings.dev&&n.hooks.on("init",q),n.hooks.set({componentAdded({tag:e,component:t}){m.has(e)||m.set(e,t),n.components[e]||(n.components[e]={}),n.components[e].definition=t},moduleAdded({module:e}){e.components&&Object.entries(e.components).forEach(([t,o])=>{if(Array.isArray(o))o.forEach(s=>{const r=`${e.name}-${s}`;n.components[r]||(n.components[r]={}),n.components[r].path=`${E(e.root)}/${e.name}/${t}/${s}`});else{const s=`${e.name}-${t}`;n.components[s]||(n.components[s]={}),n.components[s].path=`${E(e.root)}/${e.name}/${t}`}})}}),n.define=L,{define:L}};\n',mimeType:"application/javascript",skipSW:!1},"/modules/sw/index.js":{content:`export default({$APP:o})=>{o.addModule({name:"sw"}),o.addModule({name:"swEvents"});const r={},i=async(t={})=>{const{data:n}=t,{eventId:e,type:a,payload:s}=n;if(e&&r[e]){try{r[e].resolve(s)}catch(g){r[e].reject(new Error(g))}finally{delete r[e]}return}const c=o.swEvents[a];c&&await c({payload:s})};navigator.serviceWorker.onmessage=i,navigator.serviceWorker.onmessageerror=t=>{console.error(t)};const d=t=>navigator.serviceWorker.controller.postMessage(t),l=(t,n={})=>{const e=Date.now().toString()+Math.random().toString(36).substr(2,9);return new Promise((a,s)=>{r[e]={resolve:a,reject:s},d({type:t,payload:n,eventId:e})})};return o.swEvents.set({"SW:REQUEST_DATA_SYNC":({payload:t})=>{const{model:n,key:e,data:a}=t,s=o.Model[n];s&&s.emit(e,a)}}),{postMessage:d,request:l}};
`,mimeType:"application/javascript",skipSW:!1},"/modules/mvc/controller/backend/index.js":{content:'export default({View:q,T:i,$APP:r})=>{let M,u;const c={},S=async(e={})=>{const{data:t}=e,{eventId:o,type:s,payload:d,connection:l}=t,n=r.events[s];let a=d;const f=o&&(p=>u.postMessage({eventId:o,payload:p,connection:l}));if(n&&(a=await n({respond:f,payload:d,eventId:o})),o&&c[o]){try{c[t.eventId].resolve(a)}catch(p){c[t.eventId].reject(new Error(p))}finally{delete c[o]}return}if(f)return f(a)},b=async()=>{M=new Worker(`/worker.js?project=${encodeURIComponent(JSON.stringify(r.settings))}`,{type:"module"});const e=new MessageChannel;u=e.port1,u.onmessage=S,u.onmessageerror=l=>{console.error(l)},M.postMessage({type:"INIT_PORT"},[e.port2]);const{user:t,device:o,app:s,models:d}=await h("INIT_APP");r.models.set(d),r.events.emit("INIT_APP",{user:t,device:o,app:s}),r.about={user:t,device:o,app:s},await navigator.storage.persist()},D=(e,t,o)=>{if(!e){setTimeout(()=>o(t),100);return}e.postMessage(t)},_=e=>D(u,e,_),h=(e,t={},o=null)=>{const s=Date.now().toString()+Math.random().toString(36).substr(2,9),d={type:e,payload:t,eventId:s};return new Promise((l,n)=>{o&&(d.connection=o),c[s]={resolve:l,reject:n},_(d)})};r.hooks.on("init",b);const v=({instance:e})=>{const t=e["data-query"];if(!t)return;const{id:o,model:s,limit:d,offset:l=0,includes:n,recursive:a,order:f,where:p,key:m}=t,g=t.many??!o,w={limit:d,offset:l,order:f,recursive:a};w.where??=p,n&&(w.includes=Array.isArray(n)?n:n.split(","));const I=y=>{g?(e.state[m]=y.items??y,y.count&&(t.count=y.count)):e.state[m]=y,e.requestUpdate(),e.emit("dataLoaded",{instance:e,rows:g?e[m]:void 0,row:g?void 0:e[m],component:e.constructor})};g?r.Model[s].getAll(w).then(I):r.Model[s].get(o,w).then(I)};return q.plugins.push({name:"dataQuery",init:({View:e})=>{e.properties["data-query"]=i.object({properties:{model:i.string(),id:i.string(),method:i.string(),where:i.object(),includes:i.string(),order:i.string(),limit:i.number(),offset:i.number(),count:i.number()}})},events:{connected:({instance:e})=>{const t=e["data-query"];if(!t)return;e._listeners={};const{model:o,id:s,key:d}=t,l=e[d],n=r.Model[o]?.rows;if(n){if(s){const a=`get:${s}`;l!==void 0&&n[s]===void 0&&(n[s]=l),e._listeners[a]=()=>{e[d]=n[s],e.requestUpdate()},r.Model[o].on(a,e._listeners[a])}else e._listeners.any=()=>v({instance:e}),r.Model[o].onAny(e._listeners.any);l||v({instance:e}),e.syncable=!0}},disconnected:({instance:e})=>{if(!e._listeners)return;const t=e["data-query"];t&&Object.entries(e._listeners).forEach(([o,s])=>{!t.model||!r.Model[t.model]||(o==="any"?r.Model[t.model].offAny(s):r.Model[t.model].off(o,s))})}}}),r.events.on("INIT_APP",async()=>{r.events.set({UPDATE_MODELS:({payload:{models:e}})=>r.models.set(e),REQUEST_DATA_SYNC:({payload:{model:e,key:t,data:o}})=>{r.Model[e].emit(t,o),r.SW.request("SW:BROADCAST_DATA_SYNC",{key:t,model:e,data:o})}})}),h};\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/model/frontend.js":{content:`import e from"/modules/mvc/model/index.js";export default({Backend:r})=>{const t=(o,u,d={})=>r(o,{model:u,...d});return e.request=t,e};
`,mimeType:"application/javascript",skipSW:!1},"/modules/mvc/controller/index.js":{content:'import _ from"/modules/mvc/controller/adapter-storage.js";import m from"/modules/mvc/controller/adapter-url.js";export default({View:g,$APP:f,Backend:p})=>{const y={..._,...m,backend:p},b=e=>{if(typeof e=="string"&&e.includes(".")){const[n,t]=e.split(".",2);return{storeKey:n,path:t}}return{storeKey:e,path:null}},h=(e,n)=>{const t=typeof e=="function"?e:(r,s)=>s!==void 0?t.set(r,s):t.get(r);f.events.install(t);const c=(r,s)=>{a[n]?.emit(r,s)};return t.get=r=>{const{storeKey:s,path:i}=b(r),o=e.get(s);return i&&typeof o=="object"&&o!==null?o[i]:o},t.set=(r,s)=>{const{storeKey:i,path:o}=b(r);if(o){const u={...e.get(i)||{},[o]:s};return e.set(i,u),c(i,u),u}return e.set(i,s),c(i,s),s},t.remove=r=>{const{storeKey:s,path:i}=b(r);if(i){const o=e.get(s);return typeof o=="object"&&o!==null&&(delete o[i],e.set(s,o),c(s,o)),{key:s}}return e.remove(s),c(s,void 0),{key:s}},t.has=e.has,t.keys=e.keys,t.entries=e.entries,l.set(n,t),t},l=new Map,a=new Proxy({},{get(e,n){if(n in e)return e[n];if(l.has(n))return l.get(n);if(n in y)return h(y[n],n);if(f.mv3Connections?.includes(n))return(t,c={})=>(l.get("backend")||h(y.backend,"backend"))(t,c,n)}}),j=()=>{f.swEvents.set({"SW:PROP_SYNC_UPDATE":({payload:n})=>{const{sync:t,key:c,value:r}=n,s=a[t];s&&(console.log(`SYNC: Received update for ${t}.${c}`,r),s.emit(c,r,{skipBroadcast:!0}))}});const e=n=>{const t=a[n],c=new Map(t.entries()),r=new Set(t.listeners.keys());c.forEach((s,i)=>{t.emit(i,s),r.delete(i)}),r.forEach(s=>t.emit(s,void 0))};window.addEventListener("popstate",()=>{e("querystring"),e("hash")})};f.hooks.on("init",j);const O=(e,n,t)=>{if(n.scope){if(n.scope.includes(".")){const[c,r]=n.scope.split(".");if(t[c]?.[r])return`${t[c]?.[r]}:${e}`}if(t[n.scope])return`${t[n.scope]}:${e}`}return e},S=["local","session"];return g.plugins.push({name:"syncProps",test:({component:e})=>Object.entries(e.properties||{}).some(([,n])=>n.sync),events:{disconnected:({instance:e})=>{e._listeners&&Object.entries(e._listeners).forEach(([n,t])=>{const c=a[n];c&&Object.entries(t).forEach(([r,s])=>c.off(r,s))})},connected:({instance:e,component:n})=>{Object.entries(n.properties).filter(([,t])=>t.sync).forEach(([t,c])=>{const r=a[c.sync];if(!r)return;const s=O(t,c,e),i=r.get(s);S.includes(c.sync)&&!r.hasListeners(s)&&r.on(s,(d,u={})=>{u.skipBroadcast||f.SW.request("SW:BROADCAST_SYNCED_PROP",{value:d,sync:c.sync,key:s})});const o=d=>{e.state[t]=d,e.requestUpdate(t,"$$")};e._listeners||(e._listeners={}),e._listeners[c.sync]||(e._listeners[c.sync]={}),e._listeners[c.sync][s]=o,Object.getOwnPropertyDescriptor(e,t)||Object.defineProperty(e,t,{get:()=>e.state[t],set:d=>{e.state[t]!==d&&(e.state[t]=d,d!==r.get(s)&&r.set(s,d))}}),r.on(s,o),o(i??c.defaultValue)})}}}),f.Controller=a,a};\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/controller/adapter-url.js":{content:'const r=()=>{const a=window.location.hash.substring(1);return new URLSearchParams(a)},n=a=>{const s=a.toString();window.location.hash=s},e={get:a=>r().get(a),has:a=>r().has(a),set:(a,s)=>{const t=r();return t.set(a,s),n(t),window.dispatchEvent(new Event("popstate")),console.error({key:a,value:s}),{key:a}},remove:a=>{const s=r();return s.delete(a),n(s),{key:a}},keys:()=>[...r().keys()],entries:()=>[...r().entries()]},o={get(a){return new URLSearchParams(window.location.search).get(a)},set(a,s){const t=new URLSearchParams(window.location.search);return t.set(a,s),window.history?.pushState?.({},"",`${window.location.pathname}?${t}`),window.dispatchEvent(new Event("popstate")),{key:a}},remove(a){const s=new URLSearchParams(window.location.search);return s.delete(a),window.history.pushState?.({},"",`${window.location.pathname}?${s}`),{key:a}},keys(){return[...new URLSearchParams(window.location.search).keys()]},has(a){return new URLSearchParams(window.location.search).has(a)},entries:()=>[...new URLSearchParams(window.location.search).entries()]};export default{querystring:o,hash:e};\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/controller/adapter-storage.js":{content:`const o=e=>typeof e=="object"&&e!==null||Array.isArray(e)?JSON.stringify(e):e,c=e=>{try{return JSON.parse(e)}catch{return e}},u=e=>t=>{const n=e.getItem(t);return n!==null?c(n):null},i=e=>(t,n)=>(e.setItem(t,o(n)),{key:t}),a=e=>t=>(e.removeItem(t),{key:t}),l=e=>()=>Object.keys(e),m=e=>t=>e.getItem(t)!==null&&e.getItem(t)!==void 0,s=e=>({has:m(e),set:i(e),remove:a(e),get:u(e),keys:l(e)}),r=new Map,d={has:e=>r.has(e),get:e=>r.get(e),set:(e,t)=>(r.set(e,t),{key:e}),remove:e=>(r.delete(e),{key:e}),keys:()=>r.keys()},g=s(window.localStorage),S=s(window.sessionStorage);export default{local:g,ram:d,session:S};
`,mimeType:"application/javascript",skipSW:!1},"/modules/router/index.js":{content:'export default({html:k,Controller:y,$APP:l})=>{class f{static stack=[];static routes={};static namedRoutes={};static currentRoute={};static defaultTitle="";static _pathToRegex(t){const e=[],n=t.replace(/:(\\w+)/g,(s,r)=>(e.push(r),"([^/]+)"));return{regex:new RegExp(`^${n}$`),paramNames:e}}static flattenRoutes(t,e="",n=null){const i={},s={};for(const r in t){const a={...t[r]},o=(e+r).replace(/\\/+/g,"/");if(a.path=o||"/",a.parent=n,i[a.path]=a,a.name&&(s[a.name]&&console.warn(`Router Warning: Duplicate route name "${a.name}". Overwriting.`),s[a.name]=a.path),a.routes){const{flatRoutes:c,namedRoutes:u}=this.flattenRoutes(a.routes,o,a);Object.assign(i,c),Object.assign(s,u)}}return{flatRoutes:i,namedRoutes:s}}static init(t,e=""){if(!Object.keys(t).length)return console.error("Error: no routes loaded");const{flatRoutes:n,namedRoutes:i}=this.flattenRoutes(t);this.routes=n,this.namedRoutes=i,this.defaultTitle=e,window.addEventListener("popstate",()=>this.handleHistoryNavigation()),this.setCurrentRoute(window.location.href,!1)}static handleHistoryNavigation(){const t=window.location.href,e=this.stack.findIndex(n=>this.normalizePath(n.path)===this.normalizePath(t));e!==-1&&this.truncateStack(e),this.setCurrentRoute(t,!1)}static create(t,e={}){const n=this.namedRoutes[t];if(!n)return console.error(`Router Error: Route with name "${t}" not found.`),null;const s=this.routes[n].namedParams||[];let r=n;const a={},o={};for(const c in e)n.includes(`:${c}`)?a[c]=e[c]:s.includes(c)&&(o[c]=e[c]);r=r.replace(/:(\\w+)/g,(c,u)=>a[u]!==void 0&&a[u]!==null?String(a[u]):(console.warn(`Router Warning: Parameter "${u}" was not provided for named route "${t}".`),c));for(const c in o)r+=`/${c}/${o[c]}`;return r.includes(":")?(console.error(`Router Error: Could not create path for "${t}". Final path still contains unresolved parameters: ${r}`),null):r}static go(t,e){const n=e?this.create(t,e):t;n!==null&&this.setCurrentRoute(n,!0)}static home=()=>{this.stack=[],this.go("/")};static back=()=>{if(this.stack.length<=1)return this.home();this.stack.pop(),window.history.back()};static _pushState(t,e={}){t!==window.location.href&&window.history.pushState(e,"",t),this.updateCurrentRouteInRam(this.currentRoute)}static setCurrentRoute(t,e=!0){if(!this.routes)return;const n=new URL(t,window.location.origin),i=this.normalizePath(n.pathname),s=this.matchRoute(i);if(!s)return console.warn(`Router Warning: No route found for path "${i}".`),e?this.go("/"):null;if(s.route.ssg&&l.settings.production&&window.location.href!==t){window.location.href=t;return}if(s.path=n.pathname,s.querystring=n.search,s.hash=n.hash,s.queryParams=Object.fromEntries(n.searchParams.entries()),s.params={...s.queryParams,...s.params},s.route.action)return s.route.action(s.params);if(s.route.redirect)return this.go(s.route.redirect);this.currentRoute=s;const r=s.route.title||this.defaultTitle;this.setTitle(r),e?(this.pushToStack(t,s.params,r),this._pushState(t,{path:t})):this.updateCurrentRouteInRam(this.currentRoute)}static matchRoute(t){const e=t.split("/").filter(Boolean),n={};for(;;){const i=e.length>0?"/"+e.join("/"):"/";for(const a in this.routes){const o=this.routes[a],{regex:c,paramNames:u}=this._pathToRegex(o.path),d=i.match(c);if(d){const x=o.namedParams||[];if(!Object.keys(n).every(p=>x.includes(p)))break;const R={};u.forEach((p,w)=>{d[w+1]!==void 0&&(R[p]=decodeURIComponent(d[w+1]))});const m={...R,...n},g=typeof o.component=="function"?o.component(m):o.component,h={route:o,params:m,path:t,name:o.name,component:g,template:o.template};return o.parent&&(h.route=o.parent,h.template=o.parent.template,h.component=o.parent.component(m),h.matched={route:o,params:m,path:o.path,name:o.name,component:g,template:o.template}),h}}if(e.length<2)break;const s=e.pop(),r=e.pop();n[r]=s}return null}static pushToStack(t,e={},n=this.defaultTitle){const i={path:t,params:e,title:n};this.normalizePath(t)==="/"?this.stack=[i]:this.stack.push(i)}static setTitle(t){const e=t?`${t} | ${l.settings.name}`:l.settings.name;document.title=e,this.stack.length>0&&(this.stack.at(-1).title=t),this.currentRoute?.route&&(this.currentRoute.route.title=t)}static updateCurrentRouteInRam(t){this.currentRoute={...t,root:this.isRoot()},y.ram.set("currentRoute",this.currentRoute)}static isRoot=()=>this.stack.length<=1;static truncateStack=(t=0)=>{this.stack=this.stack.slice(0,t+1)};static normalizePath=(t="/")=>(t.split("?")[0].split("#")[0]||"/").replace(/\\/+$/,"")||"/"}const T=()=>f.init(l.routes,"My App");return l.hooks.on("init",T),l.routes.set({"/":{name:"home",component:()=>k`<app-index></app-index>`}}),l.addModule({name:"router"}),f};\n',mimeType:"application/javascript",skipSW:!1},"/index.js":{content:'import{keyed as s}from"/modules/mvc/view/html/directive.js";export default({$APP:r,html:e})=>{const p={"/servers":{name:"discover-servers",redirect:"/"},"/discover":{name:"discover-servers",redirect:"/"},"/":{name:"discover",ssg:!0,component:()=>e`<template-discover></template-discover>`,title:"Discover: Servers",template:"template-app",routes:{"":{name:"discover-index",ssg:!0,component:({page:t})=>e`<mcp-discover-list-view type="server" .page=${t}></mcp-discover-list-view>`,title:"Discover: Servers"},"/servers/tag/:tagId":{ssg:!0,name:"discover-servers-by-tag",component:({tagId:t,page:c=1})=>{const i=decodeURIComponent(t);return s(t,e`<mcp-discover-list-view\n\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 type="server"\n\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 .tagId=${i}\n                                .page=${c}\n\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 ></mcp-discover-list-view>`)},title:"Discover: Servers by Tag"},"/servers":{namedParams:["page"],name:"discover",ssg:!0,component:({page:t})=>e`<mcp-discover-list-view type="server" .page=${t}></mcp-discover-list-view>`,title:"Discover: Servers"},"/server/:id":{name:"discover-server",ssg:!0,component:({id:t})=>s(t,e`<mcp-artifact-detail .data-query=${{model:"servers",id:t.replace("_","/"),key:"artifact"}} type="server"></mcp-artifact-detail>`),title:"Discover: Server"},"/clients/tag/:tagId":{namedParams:["page"],ssg:!0,name:"discover-clients-by-tag",component:({tagId:t,page:c})=>{const i=decodeURIComponent(t);return s(t,e`<mcp-discover-list-view\n\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 type="client"\n\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 .tagId=${i}\n                                .page=${c}\n\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 ></mcp-discover-list-view>`)},title:"Discover: Clients by Tag"},"/clients":{namedParams:["page"],ssg:!0,name:"discover-clients",component:({page:t})=>e`<mcp-discover-list-view type="client" .page=${t}></mcp-discover-list-view>`,title:"Discover: Clients"},"/client/:id":{ssg:!0,name:"discover-client",component:({id:t})=>s(t,e`<mcp-artifact-detail .data-query=${{model:"clients",id:decodeURIComponent(t),key:"artifact"}} type="client"></mcp-artifact-detail>`),title:"Discover: Client"},"/discussions":{name:"discover-discussions",component:()=>e`<discover-discussions></discover-discussions>`,title:"Discover: Discussions"}}},"/dev":{name:"dev",component:()=>e`<mcp-dev></mcp-dev>`,title:"Develop",template:"template-app"},"/chat":{name:"chat",component:()=>e`<mcp-chat></mcp-chat>`,title:"Chat",template:"template-app"},"/inspector":{name:"inspector",component:()=>e`<mcp-inspector></mcp-inspector>`,title:"Inspector",template:"template-app"},"/local-servers":{name:"servers",component:()=>e`<mcp-servers></mcp-servers>`,title:"Servers",template:"template-app"},"/apps":{name:"apps",component:()=>e`<mcp-apps></mcp-apps>`,title:"Apps",template:"template-app"},"/learn":{name:"learn",component:()=>e`<mcp-learn></mcp-learn>`,title:"Learn",template:"template-app"},"/vibecoding":{name:"vibecoding",component:()=>e`<mcp-vibecoding></mcp-vibecoding>`,title:"Vibecoding",template:"template-app"},"/github":{name:"github-callback",component:()=>e`<view-github-callback></view-github-callback>`,title:"GitHub Authentication",template:"template-app"}};r.routes.set(p)};\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/view/html/directive.js":{content:'export const directive=r=>(...e)=>({_$litDirective$:r,values:e});export class Directive{__part;__attributeIndex;__directive;_$parent;_$disconnectableChildren;_$notifyDirectiveConnectionChanged;constructor(e){}get _$isConnected(){return this._$parent._$isConnected}_$initialize(e,t,n){this.__part=e,this._$parent=t,this.__attributeIndex=n}_$resolve(e,t){return this.update(e,t)}render(...e){throw new Error("The `render()` method must be implemented.")}update(e,t){return this.render(...t)}}const o={},s=(r,e=o)=>r._$committedValue=e,i=Symbol.for("lit-nothing");class d extends Directive{key=i;render(e,t){return this.key=e,t}update(e,[t,n]){return t!==this.key&&(s(e),this.key=t),n}}export const keyed=directive(d),ifDefined=r=>r??i;\n',mimeType:"application/javascript",skipSW:!1},"/modules/p2p/index.js":{content:`export default({$APP:e})=>{const t={};e.events.install(t),e.addModule({name:"p2p"});const s={"P2P:SEND_DATA_OP":({payload:n})=>{console.log("P2P DATA OP",{payload:n}),e.p2p.emit("SEND_DATA_OP",n)}};return e.events.set(s),t};
`,mimeType:"application/javascript",skipSW:!1},"/modules/ai/index.js":{content:'export const dependencies={CreateMessageRequestSchema:["@modelcontextprotocol/sdk/types.js","CreateMessageRequestSchema"],ElicitRequestSchema:["@modelcontextprotocol/sdk/types.js","ElicitRequestSchema"],ServerNotificationSchema:["@modelcontextprotocol/sdk/types.js","ServerNotificationSchema"],McpClient:["@modelcontextprotocol/sdk/client/index.js","Client"],McpServer:["@modelcontextprotocol/sdk/server/mcp.js","McpServer"],InMemoryTransport:["@modelcontextprotocol/sdk/inMemory.js","InMemoryTransport"],StreamableHTTPClientTransport:["@modelcontextprotocol/sdk/client/streamableHttp.js","StreamableHTTPClientTransport"],z:"zod"},locals={javascriptTransportPlugin:"/modules/ai/plugins/transports/javascript.js",httpTransportPlugin:"/modules/ai/plugins/transports/streamablehttp.js",toolsPlugin:"/modules/ai/plugins/core/tools.js",eventsPlugin:"/modules/ai/plugins/core/events.js",serversPlugin:"/modules/ai/plugins/core/servers.js",resourcesPlugin:"/modules/ai/plugins/core/resources.js",promptsPlugin:"/modules/ai/plugins/core/prompts.js",requestsPlugin:"/modules/ai/plugins/core/requests.js",notificationsPlugin:"/modules/ai/plugins/core/notifications.js",clientsPlugin:"/modules/ai/plugins/core/clients.js",rootsPlugin:"/modules/ai/plugins/core/roots.js",providersPlugin:"/modules/ai/plugins/core/providers.js",historyPlugin:"/modules/ai/plugins/history.js",chatPlugin:"/modules/ai/plugins/chat.js",conversationsPlugin:"/modules/ai/plugins/conversations.js"};export default async({historyPlugin:l,clientsPlugin:a,javascriptTransportPlugin:c,httpTransportPlugin:u,chatPlugin:p,conversationsPlugin:d,toolsPlugin:g,resourcesPlugin:m,requestsPlugin:h,eventsPlugin:j,serversPlugin:f,notificationsPlugin:v,rootsPlugin:P,providersPlugin:S})=>{const x=(t=[])=>{const n={plugins:new Map,transports:new Map,config:{},isInitialized:!1,use(s){return this.plugins.has(s.name)?(console.warn(`Plugin "${s.name}" is already registered.`),this):(this.plugins.set(s.name,s),typeof s.initialize=="function"&&s.initialize(this),this)},addStore(s,e={}){this[s]||(this[s]=e)},init(s){if(this.isInitialized)return!console.log("AI Host already initialized.")&&this;this.config={generationConfig:{temperature:.7,max_tokens:2048},...s};const e=this.plugin("providers");if(e&&s.providers&&s.providers.forEach(o=>e.addProvider(o)),s.defaultRoots){const o=this.plugin("roots");o&&s.defaultRoots.forEach(y=>o.addRoot(y))}return this.isInitialized=!0,console.log("AI Host Initialized."),this},plugin(s){const e=this.plugins.get(s);return e?e.api:null}};return t.forEach(s=>n.use(s)),n},i=[l,a,h,c,u,j,f,v,m,P,g,S,p,d],r=x(i);for(const t of i)t.api&&Object.assign(r,t.api);return r};\n',mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/transports/javascript.js":{content:'export default async({$APP:t,McpServer:s,InMemoryTransport:c})=>({name:"transport:javascript",initialize(o){const n={name:"JavaScript",async createTransport(e,i){const{host:d,config:m}=i;let a;if(e.serverInstance)a=e.serverInstance;else if(e.command){const r=await import(e.command);if(!r.default&&!r.server)throw new Error(`Module ${e.command} does not have a default export function.`);if(a=r.server?r.server({...t,$APP:t,host:d,config:m,...e.args}):r.default,!(a instanceof s))throw new Error(`Module ${e.command} did not return an McpServer instance.`)}else throw new Error("JavaScript transport requires \'serverInstance\' or \'command\'.");const[v,l]=c.createLinkedPair();return await a.connect(l),v}};o.transports.set(n.name,n)},api:{}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/transports/streamablehttp.js":{content:`export default({StreamableHTTPClientTransport:a})=>({name:"transport:http",initialize(n){const r={name:"StreamableHTTP",async createTransport(t){const e=t.url||t.command;if(!e)throw new Error("StreamableHTTP transport requires a 'url'.");return new a(new URL(e))}};n.transports.set(r.name,r)},api:{}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/core/tools.js":{content:'export default()=>({name:"tools",initialize(o){const n=o.plugin("history");if(!n)throw new Error("Tooling plugin requires the History plugin.");o.addStore("toolToAliasMap",new Map),o.addStore("promptToAliasMap",new Map),this.api.callTool=(t,r)=>n.withHistory("tool:call",{toolName:t,args:r},async()=>{let e=o.toolToAliasMap.get(t);if(!e&&(await o._updateAllToolMaps(),e=o.toolToAliasMap.get(t),!e))throw new Error(`Tool \'${t}\' not found on any connected server.`);return o.clients.get(e).callTool({name:t,arguments:r})}),this.api.listTools=({servers:t}={})=>n.withHistory("tools:list",{servers:t},async()=>{const r=[],e=t||Array.from(o.clients.keys());for(const i of e){const a=o.clients.get(i);if(a)try{const{tools:s=[]}=await a.listTools();r.push(...s.map(l=>({...l,server:i})))}catch(s){console.error(`Could not list tools for server ${i}:`,s)}}return{tools:r}}),this.api._updateAllToolMaps=async()=>{o.toolToAliasMap.clear();for(const t of o.clients.keys())await o._updateToolMapForAlias(t)},this.api._updateToolMapForAlias=async t=>{const r=o.clients.get(t);if(r)try{const{tools:e}=await r.listTools();for(const i of e)o.toolToAliasMap.has(i.name)&&console.warn(`Tool name conflict: \'${i.name}\' from server \'${t}\' is overwriting an existing tool.`),o.toolToAliasMap.set(i.name,t)}catch(e){console.error({error:e})}},this.api._cleanupMappingsForAlias=t=>{for(const[r,e]of o.toolToAliasMap.entries())e===t&&o.toolToAliasMap.delete(r);for(const[r,e]of o.promptToAliasMap.entries())e===t&&o.promptToAliasMap.delete(r)},this.api._updateAllPromptMaps=async()=>{o.promptToAliasMap.clear();for(const t of o.clients.keys())await o._updatePromptMapForAlias(t)},this.api._updatePromptMapForAlias=async t=>{const r=o.clients.get(t);if(!(!r||typeof r.listPrompts!="function"))try{const{prompts:e}=await r.listPrompts();console.log({prompts:e});for(const i of e)o.promptToAliasMap.has(i.name)&&console.warn(`Prompt name conflict: \'${i.name}\' from server \'${t}\' is overwriting an existing prompt.`),o.promptToAliasMap.set(i.name,t)}catch{}},this.api.getPrompt=({name:t,arguments:r})=>n.withHistory("prompt:get",{name:t,arguments:r},async()=>{let e=o.promptToAliasMap.get(t);if(!e&&(await o._updateAllPromptMaps(),e=o.promptToAliasMap.get(t),!e))throw new Error(`Prompt \'${t}\' not found.`);return o.clients.get(e).getPrompt({name:t,arguments:r})}),this.api.listPrompts=({servers:t}={})=>n.withHistory("prompts:list",{servers:t},async()=>{const r=[],e=t||Array.from(o.clients.keys());for(const i of e){const a=o.clients.get(i);if(a&&typeof a.listPrompts=="function")try{const{prompts:s=[]}=await a.listPrompts();r.push(...s.map(l=>({...l,server:i})))}catch(s){console.error(`Could not list prompts for server ${i}:`,s)}}return{prompts:r}}),this.api.processTemplate=(t,r={})=>n.withHistory("template:process",{templateName:t,variables:r},async()=>{const e=await this.api.getPrompt({name:t,arguments:r});let i=e.messages||e.content||"";typeof i!="string"&&(i=JSON.stringify(i));for(const[a,s]of Object.entries(r)){const l=new RegExp(`{{\\\\s*${a}\\\\s*}}`,"g");i=i.replace(l,String(s))}return{content:i,originalTemplate:e,variables:r}})},api:{}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/core/events.js":{content:`export default()=>({name:"events",initialize(n){const t=new Map;this.api={on(s,i){const e=t.get(s);e?e.push(i):t.set(s,[i])},off(s,i){const e=t.get(s);e&&(i?e.splice(e.indexOf(i)>>>0,1):t.set(s,[]))},emit(s,i){const e=t.get(s);e&&e.slice().forEach(a=>a(i))}},n.addStore("events",this.api)},api:{}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/core/servers.js":{content:`export default()=>({name:"servers",initialize(i){const e={availableServers:[{id:"default-feature-rich",name:"Default Feature-Rich Server",description:"A comprehensive server with a wide range of capabilities, including tools, resources, and prompts.",path:"/templates/servers/basic.js",tags:["Official","Recommended","Full-Featured"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>'},{id:"eval",name:"Simple Greeter Server",description:"A minimal server that demonstrates basic greeting functionality. Ideal for getting started.",path:"/templates/servers/eval.js",tags:["Example","Beginner"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>'},{id:"react-agent",name:"ReAct Agent",description:"Reasoning and Acting agent that alternates between thinking and taking actions. Implements the ReAct pattern for systematic problem-solving.",path:"/templates/servers/react-agent.js",tags:["AI Reasoning","Agent","Official","Advanced"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M12 1v6m0 6v6m5.2-13.2l-4.2 4.2m-2 2l-4.2 4.2M23 12h-6m-6 0H1m18.2 5.2l-4.2-4.2m-2-2l-4.2-4.2"></path></svg>'},{id:"chain-of-thought",name:"Chain-of-Thought Reasoner",description:"Step-by-step reasoning framework that breaks down complex problems into logical sequences. Perfect for mathematical and analytical tasks.",path:"/templates/servers/cot-reasoner.js",tags:["AI Reasoning","Logic","Official","Advanced"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>'},{id:"tree-of-thoughts",name:"Tree-of-Thoughts Explorer",description:"Explores multiple reasoning paths simultaneously, evaluates them, and selects the best solution. Ideal for complex decision-making.",path:"/templates/servers/tot-explorer.js",tags:["AI Reasoning","Decision Making","Official","Advanced"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v6m0 0l-3-3m3 3l3-3M12 8v8m0 0l-3 3m3-3l3 3M6 8l-3 3 3 3m12-6l3 3-3 3"></path></svg>'},{id:"reflexion-agent",name:"Reflexion Agent",description:"Self-reflective agent that learns from mistakes, maintains memory of past attempts, and improves over iterations.",path:"/templates/servers/reflexion-agent.js",tags:["AI Reasoning","Learning","Agent","Advanced"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path></svg>'},{id:"plan-and-solve",name:"Plan-and-Solve Agent",description:"Creates detailed execution plans before solving problems. Separates planning from execution for better results.",path:"/templates/servers/plan-solve-agent.js",tags:["AI Reasoning","Planning","Agent","Advanced"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z"></path><path d="M6 9.01V9"></path><path d="m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"></path></svg>'},{id:"self-consistency",name:"Self-Consistency Reasoner",description:"Generates multiple reasoning paths and uses majority voting to find the most consistent answer. Great for verification.",path:"/templates/servers/self-consistency.js",tags:["AI Reasoning","Verification","Advanced"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>'},{id:"metacognitive-controller",name:"Metacognitive Controller",description:"Monitors and controls its own thinking process. Decides which reasoning strategy to use based on the problem type.",path:"/templates/servers/metacognitive-controller.js",tags:["AI Reasoning","Meta","Advanced","Controller"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>'},{id:"frontend-dev-agent",name:"Frontend Developer Agent",description:"Your AI frontend developer. Generate complete SPAs, React components, interactive UIs, and modern web apps - all running in the browser.",path:"/templates/servers/frontend-agent.js",tags:["Official","AI Agent","Code Generation","Essential"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>'},{id:"ui-component-generator",name:"UI Component Library",description:"Generate beautiful, production-ready UI components. Buttons, forms, modals, cards - all with modern styling and animations.",path:"/templates/servers/ui-generator.js",tags:["Official","UI","Components","Code Generation"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>'},{id:"visualization-generator",name:"Data Visualization Generator",description:"Create stunning charts, graphs, and interactive data visualizations using Chart.js, D3, and Canvas.",path:"/templates/servers/viz-generator.js",tags:["Visualization","Code Generation","Data"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>'},{id:"game-animation-generator",name:"Game & Animation Studio",description:"Generate HTML5 games, 3D scenes with Three.js, and stunning CSS/Canvas animations.",path:"/templates/servers/game-generator.js",tags:["Games","Animation","Code Generation","Creative"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15.91" y1="11" x2="18.36" y2="8.55"></line><line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.91" y1="4.91" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.09" y2="19.09"></line></svg>'},{id:"landing-page-generator",name:"Landing Page Generator",description:"Create modern, responsive landing pages with hero sections, pricing tables, testimonials, and more.",path:"/templates/servers/landing-generator.js",tags:["Web Design","Code Generation","Marketing"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>'},{id:"code-transformer",name:"Code Refactoring Agent",description:"Modernize code, convert to hooks, optimize performance, and improve code quality.",path:"/templates/servers/code-transformer.js",tags:["Refactoring","Code Generation","AI Agent"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"></path></svg>'},{id:"data-processor",name:"Data Processing Generator",description:"Generate scripts for CSV/JSON processing, data transformation, and client-side analysis.",path:"/templates/servers/data-processor.js",tags:["Data","Code Generation","Utility"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>'},{id:"virtual-filesystem",name:"Virtual Filesystem",description:"IndexedDB-based file system for managing your projects entirely in the browser.",path:"/templates/servers/virtual-fs.js",tags:["Official","Development","Storage"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>'},{id:"http-client",name:"HTTP API Client",description:"Make API requests, test endpoints, and save collections. Perfect for API development.",path:"/templates/servers/http-client.js",tags:["API","Testing","Utility"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>'},{id:"github-api",name:"GitHub Integration",description:"Full GitHub workflow via REST API - manage repos, commits, issues, and PRs.",path:"/templates/servers/github-api.js",tags:["Git","Publishing","Official"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>'},{id:"games-suite",name:"Interactive Games",description:"Text adventures, chess, word games, and coding challenges. Fun way to test the AI!",path:"/templates/servers/games.js",tags:["Games","Entertainment","Interactive"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="6" y1="12" x2="18" y2="12"></line><line x1="12" y1="6" x2="12" y2="18"></line></svg>'},{id:"canvas-studio",name:"Canvas Art Studio",description:"Create ASCII art, diagrams, charts, and visual content directly in the browser.",path:"/templates/servers/canvas-studio.js",tags:["Creative","Visualization","Art"],icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle></svg>'}],favoriteServerIds:[]};this.api={listServers:()=>[...e.availableServers],getFavorites:()=>[...e.favoriteServerIds],toggleFavorite:t=>{const n=e.favoriteServerIds.indexOf(t);n>-1?e.favoriteServerIds.splice(n,1):e.favoriteServerIds.push(t),i.events.emit("servers:favoritesChanged",[...e.favoriteServerIds])},getServerById:t=>e.availableServers.find(n=>n.id===t),getServersByTag:t=>e.availableServers.filter(n=>n.tags.includes(t))}},api:{}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/core/resources.js":{content:'export default()=>({name:"resources",initialize(a){const u=new Map,i=a.plugin("history");if(!i)throw new Error("Resource plugin requires the History plugin.");const p=async({methodName:e,resultKey:s,serverAliases:o})=>{const r=[],c=o||Array.from(a.clients.keys());for(const t of c){const l=a.clients.get(t);if(l&&typeof l[e]=="function")try{const n=await l[e]();r.push(...(n[s]||[]).map(d=>({...d,server:t})))}catch(n){console.error(`Could not execute ${e} for server ${t}:`,n)}}return{[s]:r}};this.api.readResource=({uri:e,requestingServer:s=null})=>i.withHistory("resource:read",{uri:e,requestingServer:s},async()=>{const o=a.plugin("roots");if(s&&o&&!o.validateResourceAccess(s,e))throw new Error(`Server ${s} does not have access to resource ${e}`);for(const[r,c]of a.clients.entries())if(console.log({requestingServer:s,rootApi:o,valid:o.validateResourceAccess(r,e)}),!s||!o||o.validateResourceAccess(r,e))try{const t=await c.readResource({uri:e});if(console.log({uri:e,result:t}),t!=null)return t}catch{}throw new Error(`Resource not found or could not be read: ${e}`)}),this.api.readResourceCached=async({uri:e,requestingServer:s=null,maxAge:o=3e5})=>{const r=`${e}_${s||"global"}`,c=u.get(r);if(c&&Date.now()-c.timestamp<o)return c.data;const t=await this.api.readResource({uri:e,requestingServer:s});return u.set(r,{data:t,timestamp:Date.now()}),t},this.api.listResources=({servers:e}={})=>i.withHistory("resources:list",{servers:e},()=>p({methodName:"listResources",resultKey:"resources",serverAliases:e})),this.api.listResourceTemplates=({servers:e}={})=>i.withHistory("resourceTemplates:list",{servers:e},()=>p({methodName:"listResourceTemplates",resultKey:"resourceTemplates",serverAliases:e}))},api:{}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/core/prompts.js":{content:`export default()=>{};
`,mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/core/requests.js":{content:'export default({ElicitRequestSchema:d,CreateMessageRequestSchema:l})=>({name:"requests",initialize(o){const c=new Map,a=new Map,p=new Set,i=o.plugin("history");if(o.addStore("requestHandlers",new Set),!i)throw new Error("Request plugin requires the History plugin.");const u=()=>p.forEach(e=>e());this.api.onRequestChange=e=>(p.add(e),()=>p.delete(e));const m=async(e,r)=>{const t=i.addToHistory({toolName:"elicitation/request",params:e.params.message,status:"pending",server:r,schema:e.params.requestedSchema}),n=new Promise(s=>c.set(t.id,{request:e,resolve:s,server:r}));u();try{const s=await n;return s.action==="decline"?(i.updateHistory(t.id,{status:"error",error:"User declined request."}),{action:"decline",content:{error:"User declined the request."}}):(i.updateHistory(t.id,{status:"success",result:s.content}),{action:"accept",content:s.content})}catch(s){return i.updateHistory(t.id,{status:"error",error:s.message}),{action:"decline",content:{error:"An error occurred during elicitation."}}}finally{c.delete(t.id),u()}},h=async(e,r)=>{const t=i.addToHistory({toolName:"sampling/request",params:e.params,status:"pending",server:r}),n=new Promise(s=>a.set(t.id,{request:e,resolve:s,server:r}));u();try{if((await n).approved)return i.updateHistory(t.id,{status:"success",result:{approved:!0}}),{model:"test-model",role:"assistant",content:{type:"text",text:"This is a test response"}};throw i.updateHistory(t.id,{status:"error",error:"User rejected request."}),new Error("User rejected the sampling request.")}catch(s){throw i.updateHistory(t.id,{status:"error",error:s.message}),s}finally{a.delete(t.id),u()}};o.requestHandlers.add([d,m]),o.requestHandlers.add([l,h]),this.api.listElicitationRequests=()=>i.withHistory("elicitations:list",{},async()=>({elicitationRequests:Array.from(c.entries()).map(([e,r])=>({id:e,server:r.server,requestText:r.request.params.message,schema:r.request.params.requestedSchema}))})),this.api.listSamplingRequests=()=>i.withHistory("sampling:list",{},async()=>({samplingRequests:Array.from(a.entries()).map(([e,r])=>({id:e,server:r.server,request:r.request.params}))})),this.api.respondToElicitation=({id:e,response:r,server:t,action:n="submit"})=>i.withHistory("elicitations:respond",{id:e,response:r,server:t,action:n},async()=>{const s=c.get(e);if(!s||s.server!==t)throw new Error(`Request not found or server mismatch for id: ${e}`);return s.resolve(n==="submit"?{action:"accept",content:r}:{action:"decline"}),{success:!0}}),this.api.approveSamplingRequest=({id:e,server:r})=>i.withHistory("sampling:approve",{id:e,server:r},async()=>{const t=a.get(e);if(!t||t.server!==r)throw new Error(`Sampling request not found or server mismatch for id: ${e}`);return t.resolve({approved:!0}),{success:!0}}),this.api.rejectSamplingRequest=({id:e,server:r})=>i.withHistory("sampling:reject",{id:e,server:r},async()=>{const t=a.get(e);if(!t||t.server!==r)throw new Error(`Sampling request not found or server mismatch for id: ${e}`);return t.resolve({approved:!1}),{success:!0}})},api:{}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/core/notifications.js":{content:`export default({ServerNotificationSchema:o})=>({name:"notifications",initialize(i){for(const e of o.options){const t=e.shape.method.value;i.requestHandlers.add([e,a=>{console.log("MCP Notification Received",{method:t,notification:a})}])}},api:{}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/core/clients.js":{content:'export default({McpClient:l})=>({name:"clients",initialize(e){if(!e.plugin("history"))throw new Error("System plugin requires the History plugin.");e.addStore("clients",new Map),this.api.listClients=()=>Array.from(e.clients.keys()),this.api.connect=async(t,r)=>e.plugin("history").withHistory("server:connect",{transportConfig:t,options:r},async()=>{const{alias:i,assignedRoots:o=[]}=r;if(e.clients.has(i))throw new Error(`Client with alias \'${i}\' already exists.`);const a=e.transports.get(t.type);if(!a)throw new Error(`Unsupported transport type: \'${t.type}\'`);const p=await a.createTransport(t,{...e.dependencies,host:e,config:e.config}),c=new l({name:`host-client-for-${i}`,version:"1.0.0"},{capabilities:{sampling:{},elicitation:{},logging:{},roots:{listChanged:!0}}});if(await c.connect(p),e.clients.set(i,c),[...e.requestHandlers].forEach(([n,u])=>c.setRequestHandler(n,y=>u(y,i))),o.length>0){const n=e.plugin("roots");n&&await n.assignRootsToServer(i,o)}return await e._updateToolMapForAlias(i),await e._updatePromptMapForAlias(i),console.log(`Client \'${i}\' connected via ${t.type}.`),{alias:i,transportType:t.type,success:!0}}),this.api.disconnect=async t=>e.plugin("history").withHistory("server:disconnect",{alias:t},async()=>{const s=e.clients.get(t);return s?(await s.disconnect(),e.clients.delete(t),e._cleanupMappingsForAlias(t),console.log(`Client \'${t}\' disconnected.`),{alias:t,success:!0}):(console.warn(`No client with alias \'${t}\' to disconnect.`),{success:!1,message:"Client not found"})})},api:{}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/core/roots.js":{content:'export default{name:"roots",initialize(c){const n=new Map,i=new Map,h=new Set,a=c.plugin("history");if(!a)throw new Error("Root plugin requires the History plugin.");const f=(t,o)=>{const e={action:t,uri:o,root:n.get(o),timestamp:new Date().toISOString()};h.forEach(r=>r(e))},u=async t=>{const o=c.clients.get(t),e=this.api.getServerRoots(t);if(o&&typeof o.setRoots=="function")try{await o.setRoots(e)}catch(r){console.error(`Failed to notify server ${t} of roots:`,r)}};this.api.addRoot=t=>{const{uri:o,path:e,name:r,description:d}=t,s=o||e;if(!s)throw new Error("Root URI or path is required");return a.withHistory("root:add",{uri:s},async()=>(n.set(s,{uri:s,name:r||s,description:d||`Root access to ${s}`}),f("added",s),{uri:s,success:!0}))},this.api.removeRoot=t=>a.withHistory("root:remove",{uri:t},async()=>n.has(t)?(n.delete(t),i.forEach(o=>o.delete(t)),f("removed",t),{success:!0}):{success:!1,message:"Root does not exist"}),this.api.assignRootsToServer=(t,o)=>a.withHistory("root:assign",{serverAlias:t,rootUris:o},async()=>{if(!c.clients.has(t))throw new Error(`Server ${t} is not connected`);for(const e of o)if(!n.has(e))throw new Error(`Root ${e} does not exist`);return i.set(t,new Set(o)),await u(t),{serverAlias:t,assignedCount:o.length}}),this.api.validateResourceAccess=(t,o)=>{const e=i.get(t);if(!e)return!1;for(const r of e)if(o.startsWith(r))return!0;return!1},this.api.getServerRoots=t=>{const o=i.get(t);return o?Array.from(o).map(e=>n.get(e)).filter(Boolean):[]},this.api.onRootChange=t=>(h.add(t),()=>h.delete(t))},api:{}};\n',mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/core/providers.js":{content:'const O=e=>e.content?{role:e.role==="assistant"?"model":"user",parts:Array.isArray(e.content)?e.content.map(t=>({text:t.text})):[{text:e.content}]}:e.toolCalls?{role:"model",parts:e.toolCalls.map(t=>({functionCall:{name:t.name,args:t.arguments}}))}:e.role==="tool"?{role:"function",parts:[{functionResponse:{name:e.toolCallId,response:{result:e.result}}}]}:{role:"user",parts:[{text:""}]},P=(e=[])=>e.map(O),I=e=>{const t=e.candidates?.[0];if(!t?.content?.parts?.[0])return{role:"assistant",content:""};const n=[];let a="";for(const o of t.content.parts)o.text&&(a+=o.text),o.functionCall&&n.push({id:o.functionCall.name,name:o.functionCall.name,arguments:o.functionCall.args});return{role:"assistant",content:a||null,toolCalls:n.length>0?n:null}},_=e=>({name:e.name.replace(/\\//g,"__"),description:e.description,parameters:{type:"OBJECT",properties:e.inputSchema.properties}});async function*S({model:e,provider:t,messages:n,generationConfig:a,tools:o}){const i=`https://generativelanguage.googleapis.com/v1beta/models/${e}:streamGenerateContent?key=${t.apiKey}&alt=sse`,r={contents:n,generationConfig:a,...o?.length>0&&{tools:[{functionDeclarations:o}]}},s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){const c=await s.json().catch(()=>({error:{message:"Failed to parse error."}}));throw new Error(`Gemini Streaming API Error: ${c.error?.message||s.statusText}`)}const l=s.body.getReader(),h=new TextDecoder;let d="";for(;;){const{value:c,done:u}=await l.read();if(u)break;d+=h.decode(c,{stream:!0});const y=d.split(`\n`);d=y.pop();for(const p of y)if(p.startsWith("data: "))try{yield JSON.parse(p.substring(6))}catch{console.error("Failed to parse stream chunk:",p)}}}async function*b(e){const t=[];for await(const o of e){const i=o.candidates?.[0];if(!i?.content?.parts?.[0])continue;let r="";for(const s of i.content.parts)s.text&&(r+=s.text),s.functionCall&&t.push({id:s.functionCall.name,name:s.functionCall.name,arguments:s.functionCall.args});r&&(yield{type:"content",content:r})}const n=t.length>0;n&&(yield{type:"tool_calls",toolCalls:t}),yield{type:"finish_reason",reason:n?"tool_calls":"stop"}}const x={type:"google",adaptMessages:P,adaptTools:e=>e.map(_),adaptResponse:I,streamAPI:S,processStream:b},M=e=>{if(console.error({msg:e}),e.role==="tool"){const t=e.structuredContent?.result||e.result||e.content;return{role:"tool",tool_call_id:e.toolCallId,content:typeof t=="string"?t:JSON.stringify(t)}}return e.toolCalls?.length?{role:"assistant",content:null,tool_calls:e.toolCalls.map(t=>({id:t.id,type:"function",function:{name:t.name,arguments:typeof t.arguments=="string"?t.arguments:JSON.stringify(t.arguments)}}))}:e.content?(console.error({role:e.role,content:Array.isArray(e.content)?e.content.map(t=>t.text||t).join(`\n`):e.content}),{role:e.role,content:Array.isArray(e.content)?e.content.map(t=>t.text||t).join(`\n`):e.content}):{role:"user",content:""}},g=(e=[])=>e.map(M),C=e=>{const t=e.choices?.[0];if(!t)return{role:"assistant",content:""};const{message:n}=t;return n.tool_calls?.length>0?{role:"assistant",toolCalls:n.tool_calls.map(a=>({id:a.id,name:a.function.name,arguments:typeof a.function.arguments=="string"?JSON.parse(a.function.arguments):a.function.arguments}))}:{role:"assistant",content:n.content??""}},A=e=>({type:"function",function:{name:e.name.replace(/\\//g,"__"),description:e.description,parameters:e.inputSchema}});async function*w({endpoint:e,config:t,provider:n,model:a,messages:o,generationConfig:i,tools:r}){const s={model:a,messages:o,...i,...r?.length>0&&{tools:r},stream:!0};console.error({provider:n,config:t});const l=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...n.apiKey&&{Authorization:`Bearer ${n.apiKey}`}},body:JSON.stringify(s)});if(!l.ok){const u=await l.json().catch(()=>({error:{message:"Failed to parse error."}}));throw new Error(`OpenAI-compatible API Error: ${u.error?.message||l.statusText}`)}const h=l.body.getReader(),d=new TextDecoder;let c="";for(;;){const{value:u,done:y}=await h.read();if(y)break;c+=d.decode(u,{stream:!0});const p=c.split(`\n`);c=p.pop();for(const f of p)if(f.startsWith("data: ")&&f.substring(6).trim()!=="[DONE]")try{yield JSON.parse(f.substring(6))}catch{console.error("Failed to parse stream chunk:",f)}}}async function*T(e){const t={};let n=null;for await(const a of e){const o=a.choices?.[0];if(!o)continue;const{delta:i}=o;if(i?.content&&(yield{type:"content",content:i.content}),i?.tool_calls)for(const r of i.tool_calls){const{index:s}=r;t[s]||(t[s]={id:"",type:"function",function:{name:"",arguments:""}});const l=t[s];r.id&&(l.id=r.id),r.function?.name&&(l.function.name+=r.function.name),r.function?.arguments&&(l.function.arguments+=r.function.arguments)}o.finish_reason&&(n=o.finish_reason)}n==="tool_calls"&&(yield{type:"tool_calls",toolCalls:Object.values(t).map(o=>({id:o.id,name:o.function.name,arguments:JSON.parse(o.function.arguments||"{}")}))}),yield{type:"finish_reason",reason:n}}const v={type:"openrouter",endpoint:"https://openrouter.ai/api/v1/chat/completions",adaptMessages:g,adaptTools:e=>e.map(A),adaptResponse:C,streamAPI:e=>w({...e,endpoint:v.endpoint}),processStream:T},R={type:"local",endpoint:"http://localhost:1234/v1/chat/completions",adaptMessages:g,adaptTools:e=>e.map(A),adaptResponse:C,streamAPI:e=>w({...e,endpoint:e.provider.endpoint??e.config.endpoint}),processStream:T},m={google:x,openrouter:v,local:R};export default()=>{const e=new Map;return{name:"providers",initialize(){this.api.addProvider=t=>{if(!t.type||!m[t.type])throw new Error(`Invalid provider type: ${t.type}`);e.has(t.type)&&console.warn(`Provider of type "${t.type}" is already configured. It will be overwritten.`),e.set(t.type,{...m[t.type],...t}),console.log(`Provider of type "${t.type}" added.`)},this.api.clearProviders=()=>{e.clear()},this.api.getProvider=t=>{const n=e.get(t);if(n)return n;if(m[t])return m[t];throw new Error(`No provider found for "${t}"`)},this.api.listProviders=()=>Array.from(e.values()).map(({adaptMessages:t,adaptTools:n,adaptResponse:a,streamAPI:o,processStream:i,...r})=>r),this.api.getModels=async()=>{let t=[];for(const[n,a]of Object.entries(m)){const o=a.models.map(i=>({...i,id:`${n}/${i.id.split("/").pop()}`}));t=t.concat(o)}return t}},api:{}}};\n',mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/history.js":{content:'export default()=>({name:"history",initialize(y){let o=[];const a=new Set,n=(t,e)=>{for(const s of a)try{s({action:t,entry:e,history:[...o]})}catch(r){console.error("Error in history listener:",r)}};this.api.onHistoryChange=t=>(a.add(t),()=>a.delete(t)),this.api.addToHistory=t=>{const e={id:Date.now()+Math.random(),timestamp:new Date().toISOString(),...t};return o=[e,...o],n("add",e),e},this.api.updateHistory=(t,e)=>{let s=null;return o=o.map(r=>r.id===t?(s={...r,...e,updatedAt:new Date().toISOString()},s):r),s&&n("update",s),s},this.api.getHistory=()=>[...o],this.api.clearHistory=()=>{o=[],n("clear",null)},this.api.withHistory=async(t,e,s)=>{const r=this.api.addToHistory({toolName:t,args:e,status:"pending"});try{const i=await s();return this.api.updateHistory(r.id,{status:"success",result:i}),typeof i=="object"&&i!==null&&!i.history&&(i.history=r),i}catch(i){return console.error(`Failed to execute ${t}:`,i),this.api.updateHistory(r.id,{status:"error",error:i.message}),{error:i,history:r}}}},api:{}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/chat.js":{content:`export default()=>({name:"chat",initialize(c){const m=c.plugin("history");if(!m)throw new Error("Chat plugin requires the History plugin.");const d=c.plugin("tools");if(!d)throw new Error("Chat plugin requires the Tools plugin for tool execution.");const g=c.plugin("providers");if(!g)throw new Error("Chat plugin requires the Providers plugin.");const u=async function*(n,l){const e=[...n],{enabledTools:t=[],model:r,provider:C,...T}=l;if(!C)throw new Error("A 'provider' must be specified in chat options.");if(!r)throw new Error("A 'model' must be specified in chat options.");const i=g.getProvider(C.id);if(!i)throw new Error(\`Could not find a provider for model \${r}\`);const _=Array.from(c.clients.keys()),{tools:A}=await d.listTools({servers:_.filter(o=>t.some(s=>c.toolToAliasMap.get(s)===o))}),k=i.adaptTools(A.filter(o=>t.includes(o.name))),y=i.adaptMessages(e),b=r.substring(r.indexOf("/")+1);console.warn({currentMessages:e,adaptedMessages:y});const E=i.streamAPI({config:i,provider:l.provider,model:b,messages:y,generationConfig:T,tools:k}),H=i.processStream(E);let f="",a=[],w=null;for await(const o of H)switch(o.type){case"content":f+=o.content,yield{type:"content",content:f,isComplete:!1};break;case"tool_calls":a=o.toolCalls;break;case"finish_reason":w=o.reason;break}if(w==="tool_calls"&&a.length>0){yield{type:"tool_calls_start",toolCalls:a},e.push({role:"assistant",content:null,toolCalls:a});const o=[];for(const s of a){const h=s.name.replace(/__/g,"/");try{const p=await d.callTool(h,s.arguments);yield{type:"tool_result",name:h,result:p},o.push({role:"tool",toolCallId:s.id,result:p.result})}catch(p){yield{type:"tool_error",name:h,error:p.message},o.push({role:"tool",toolCallId:s.id,result:{error:p.message}})}}e.push(...o);for await(const s of u(e,l))yield s}else yield{type:"content",content:f,isComplete:!0,toolCalls:a.length>0?a:void 0}},v=async(n,l)=>{const e=u(n,l);let t={};for await(const r of e)t=r;return{content:t.content,toolCalls:t.toolCalls}};this.api.chat=(n,l={})=>{const{stream:e,...t}=l,r=e?"llm:stream_chat":"llm:chat";return e?u(n,t):m.withHistory(r,{messages:n,options:l},()=>v(n,t))}},api:{}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/ai/plugins/conversations.js":{content:'export default()=>({name:"conversation",initialize(a){const r=new Map,c=new Set,i=a.plugin("history");if(!i)throw new Error("Conversation plugin requires the History plugin.");const h=(t,n)=>{c.forEach(e=>{try{e({action:t,conversation:n,conversations:Object.fromEntries(r)})}catch(o){console.error("Error in conversation listener:",o)}})};this.api.onConversationChange=t=>(c.add(t),()=>c.delete(t)),this.api.createConversation=(t={})=>i.withHistory("conversation:create",{params:t},async()=>{const n=t.id||`conv_${Date.now()}`;if(r.has(n))throw new Error(`Conversation with id ${n} already exists.`);const e={id:n,title:t.title||"New Conversation",messages:t.messages||[],createdAt:new Date().toISOString(),...t};return r.set(n,e),h("create",e),e}),this.api.deleteConversation=t=>i.withHistory("conversation:delete",{id:t},async()=>{if(!r.has(t))throw new Error(`Conversation with id ${t} not found.`);return r.delete(t),h("delete",{id:t}),{success:!0,deletedId:t}}),this.api.getConversation=t=>r.get(t),this.api.listConversations=()=>Array.from(r.values()),this.api.addMessage=({conversationId:t,message:n})=>i.withHistory("conversation:addMessage",{conversationId:t},async()=>{const e=r.get(t);if(!e)throw new Error(`Conversation with id ${t} not found.`);e.messages.push(n);const s=await a.plugin("chat").chat(e.messages);return e.messages.push({role:"assistant",content:s.content}),r.set(t,e),h("update",e),e}),this.api.getConversationContext=(t,n=500)=>t.length<=2?null:i.withHistory("conversation:get_context",{messageCount:t.length},async()=>{const e=a.plugin("chat"),o=[{role:"system",content:`Provide a brief context summary of this conversation in ${n} characters or less. Focus on key topics, decisions, and current state.`},...t.slice(-10),{role:"user",content:"Summarize the key context from our conversation so far."}];try{return{summary:(await e.chat(o)).content,messageCount:t.length,generatedAt:new Date().toISOString()}}catch(s){return console.error("Failed to generate context summary:",s),null}}),this.api.summarizeConversation=(t,n=150)=>i.withHistory("conversation:summarize",{messageCount:t.length},async()=>{const e=a.plugin("chat"),o=[{role:"system",content:`Please provide a brief summary of this conversation in ${n} characters or less.`},...t,{role:"user",content:"Please summarize our conversation."}];return{summary:(await e.chat(o)).content||"",messageCount:t.length,generatedAt:new Date().toISOString()}}),this.api.trimConversation=(t,n=4e3)=>i.withHistory("conversation:trim",{messageCount:t.length,maxTokens:n},async()=>{let e=0;const o=[];t[0]?.role==="system"&&(o.push(t[0]),e+=Math.ceil(t[0].content.length/4));for(let s=t.length-1;s>=(t[0]?.role==="system"?1:0);s--){const u=t[s],l=Math.ceil((u.content||"").length/4);if(e+l>n&&o.length>(t[0]?.role==="system"?1:0))break;o.unshift(u),e+=l}return{messages:o,originalCount:t.length,trimmedCount:o.length,estimatedTokens:e}})},api:{}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/apps/admin/index.js":{content:'export const dependencies={Bundler:"/modules/apps/bundler/index.js",mcp:"/modules/apps/mcp/index.js"};export default({$APP:m,html:e})=>{m.addModule({name:"admin",path:"apps/admin/views"});const n={"/admin":{component:()=>e`<cms-ui directory="admin/cms"></cms-ui>`,title:"Admin",template:"admin-template"},"/admin/cms":{component:()=>e`<cms-ui directory="admin/cms"></cms-ui>`,title:"Data",template:"admin-template"},"/admin/ide":{component:()=>e`<ide-ui full directory="/projects" hasProject></ide-ui>`,title:"IDE",template:"admin-template"},"/admin/bundler":{component:()=>e`<bundler-ui></bundler-ui>`,title:"Bundler",template:"admin-template"},"/admin/project":{component:()=>e`<cms-crud\n							view="board"\n							class="p-8"\n							.data-query=${{model:"tasks",key:"rows"}} \n							.allowedActions=${["import","export","changeViewMode","changeColumns"]}></cms-crud>`,title:"Data",template:"admin-template"},"/admin/design":{component:()=>e`<design-ui></design-ui>`,title:"Design",template:"admin-template"},"/admin/design/:component":{component:({component:t})=>e`<design-ui component=${t}></design-ui>`,title:"Component Design",template:"admin-template"},"/admin/cms/:model":{component:({model:t})=>e`<cms-ui directory="admin/cms" model=${t}></cms-ui>`,title:"Admin",template:"admin-template"},"/admin/cms/:model/:id":{name:"cms_item",component:({model:t,id:a})=>e`<cms-ui directory="admin/cms" model=${t} selectedId=${a}></cms-ui>`,title:"Admin",template:"admin-template"},"/admin/mcp":{component:()=>e`<mcp-inspector></mcp-inspector>`,title:"MCP Inspector",template:"admin-template"},"/admin/mcp-dev":{component:()=>e`<mcp-dev></mcp-dev>`,title:"Chat",template:"admin-template"},"/admin/mcp-chat":{component:()=>e`<mcp-chat></mcp-chat>`,title:"Chat",template:"admin-template"},"/admin/chat":{component:()=>e`<app-chat class="flex-1 flex h-screen bg-gray-100 font-sans"></app-chat>`,title:"Data",template:"admin-template"}};m.routes.set(n)};\n',mimeType:"application/javascript",skipSW:!1},"/modules/apps/bundler/index.js":{content:"export default {}"},"/modules/integrations/github.js":{content:"export default {}"},"/modules/apps/mcp/index.js":{content:`export default({$APP:e})=>{e.addModule({name:"mcp",path:"apps/mcp/views",settings:{appbar:{label:"MCP Inspector",icon:"square-mouse-pointer"}}}),e.addModule({name:"mcp-dev",settings:{appbar:{label:"MCP dev",icon:"server-cog"}}}),e.addModule({name:"mcp-chat",settings:{appbar:{label:"MCP Chat",icon:"bot-message-square"}}})};
`,mimeType:"application/javascript",skipSW:!1},"/modules/uix/index.js":{content:`export default({$APP:a})=>{a.addModule({name:"uix",components:{form:["form","form-control","input","textarea","time","rating","code","join","file-upload","number-input","switch","slider"],navigation:["navbar","breadcrumbs","menu","sidebar","pagination","tabs","tabbed"],overlay:["overlay","modal","drawer","tooltip","popover","alert-dialog","toast"],display:["markdown","editable","link","button","avatar","badge","card","circle","image","pattern","logo","media","table","table-row","icon","calendar","calendar-day","tag","stat","chart"],layout:["list","accordion","container","divider","section","page","flex","stack","spacer"],feedback:["spinner","progress-bar","circular-progress","skeleton"],utility:["seo","darkmode","draggable","droparea","clipboard","theme-toggle","dark-mode-switch"]}})};
`,mimeType:"application/javascript",skipSW:!1},"/modules/icon-lucide/index.js":{content:`export default({$APP:e})=>{e.addModule({name:"icon-lucide",icon:!0})};
`,mimeType:"application/javascript",skipSW:!1},"/worker.js":{content:'import n from"/bootstrap.js";let d;const i=async e=>{console.log("App Worker: bootstrap() called");const s=new URL(self.location).searchParams.get("project"),t=s?JSON.parse(decodeURIComponent(s)):{};t.backend=!0;const a=await n.bootstrap({backend:!0,...t||{},dependencies:{T:"/modules/types/index.js",IndexedDBWrapper:"/modules/mvc/model/indexeddb/index.js",Database:"/modules/mvc/model/database/index.js",Model:"/modules/mvc/model/backend.js",Backend:"/modules/mvc/controller/backend/worker.js","user-migration":"/models/migration.js",...t.dependencies||{}},settings:{...t.settings||{},preview:!!self.IS_PREVIEW,IS_MV3:!!self.chrome}});return a&&!d&&(console.log("App Worker: Initializing backend application"),await n.Backend.bootstrap(a)),a};let l,o;const r=[],p={handleMessage:async({data:e})=>{if(e.eventId&&r.includes(e.eventId))return;e.eventId&&r.push(e.eventId);const c=e.eventId&&(s=>{o&&o.postMessage({eventId:e.eventId,payload:s,connection:e.connection})});n?.Backend?(console.info(`App Worker: Routing message to backend: ${e.type}`,{data:e}),n.Backend.handleMessage({data:e,respond:c})):n.hooks.on("APP:BACKEND_STARTED",async()=>{console.info(`App Worker: Routing message to backend after APP:BACKEND_STARTED: ${e.type}`),n.Backend.handleMessage({data:e,respond:c})})}};self.addEventListener("message",async e=>{e.data.type==="INIT_PORT"&&(o=e.ports[0],console.warn("App Worker: Communication port initialized."),o.onmessage=p.handleMessage,(async()=>(l=await i(),n.Backend.client=o))())});\n',mimeType:"application/javascript",skipSW:!1},"/bootstrap.js":{content:'import c,{installModulePrototype as d}from"/modules/mvc/helpers/core.js";const p={async loadApp(t){try{const e=await fetch("/package.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const i=await e.json();await this.bootstrap(i,t)}catch(e){console.error("Could not load \'package.json\'. Bootstrap failed.",{error:e})}},async loadDep({key:t,path:e,name:i,tag:o},n){if(t&&this[t])return;const s=await import(e,{tag:o});let r={};s.dependencies&&await this.inject(s.dependencies),s.locals&&(r=await this.inject(s.locals,!0));let a;if(s.component?a=s.component:i&&i in s?a=s[i]:typeof s.default=="function"?a=s.default({...this,$APP:this,...r},r):a=s.default,a?.constructor===Promise&&(a=await a),s.migration&&(this.settings.dependencies||(this.settings.dependencies={}),this.settings.dependencies[t]=e.replace("index.js","models/migration.js")),t&&!n&&(this[t]=a),o)return a;if(n)return[t,a]},addDep(t,e){this[t]=e},async inject(t,e=!1){const i=[];for(const[o,n]of Object.entries(t)){const s=await this.loadDep({key:o,path:Array.isArray(n)?n[0]:n,name:Array.isArray(n)?n[1]:void 0},e);e&&s&&Array.isArray(s)&&i.push(s)}if(e)return Object.fromEntries(i.filter(o=>Array.isArray(o)))},async bootstrap({dependencies:t=[],backend:e=!1,settings:i={},theme:o},n=!1){return this.settings.set({...i,backend:e,frontend:!e,production:n}),await this.inject(t),!e&&o&&this.theme.set({theme:o}),this.hooks.emit("init"),this},addHooks({hooks:t,base:e}){if(!this.hooks)return e;t&&Object.entries(typeof t=="function"?t({$APP:this,context:e}):t).map(([i,o])=>this.hooks.on(i,o))},addModule(t){if(t.dev&&this.settings.dev!==!0||this?.modules?.[t.name])return;t.base||(t.base={});const{alias:e,name:i,hooks:o,beforeSave:n}=t,s=t.base??this[i];return this.modules&&!this.modules[i]&&this.modules.set(i,t),t.base&&(d(s,n),this[i]=s,e&&(this[e]=s)),o&&this.addHooks({hooks:o,name:i,base:s}),this.hooks?.get("moduleAdded").map(r=>r.bind(this[t.name])({module:t})),this.log&&this.log(`Module \'${t.name}\' added successfully`),s}},h=(t=p)=>{const e=Object.create(t);for(const i in c)e.addModule(c[i]);return e},f=h();self.$APP=f;export default f;\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/helpers/core.js":{content:'self.sleep=(e=0)=>new Promise(t=>setTimeout(t,e));export const ArrayStorageFunctions={add:function(...e){return e.forEach(t=>!this.includes(t)&&this.push(this._beforeSave?this._beforeSave(t):t)),this},remove:function(e){const t=Number.parseInt(e,10);return!Number.isNaN(t)&&t>=0&&t<this.length&&this.splice(t,1),this},list:function(){return[...this]},get:function(e){const t=Number.parseInt(e,10);return!Number.isNaN(t)&&t>=0&&t<this.length?this[t]:void 0}},ObjectStorageFunctions={set:function(...e){return e.length===1&&typeof e[0]=="object"&&e[0]!==null?Object.entries(e[0]).forEach(([t,s])=>{this[t]=this._beforeSave?this._beforeSave(s):s}):e.length===2&&typeof e[0]=="string"&&(this[e[0]]=this._beforeSave?this._beforeSave(e[1]):e[1]),this},add:function(e,t){if(typeof t=="object")return this[e]||(this[e]={}),Object.entries(t).forEach(([s,n])=>{this[e][s]=this._beforeSave?this._beforeSave(n):n}),this},get:function(...e){const[t,s]=e;if(e.length!==0)return e.length===2?this[t]?.[s]:this[t]},remove:function(...e){return e.length===2?delete this[e[0]][e[1]]:delete this[e[0]],this},list:function(){return Object.entries(this)},keys:function(){return Object.keys(this)}},installModulePrototype=(e,t)=>{e||(e={});const s=Object.create(Object.getPrototypeOf(e)),n=Array.isArray(e)?ArrayStorageFunctions:ObjectStorageFunctions;return t&&(s._beforeSave=t),Object.assign(s,n),Object.setPrototypeOf(e,s),e},installEventsHandler=e=>{const t=new Map,s=new Set;return e.listeners=t,e.hasListeners=n=>t.has(n),e.on=(n,o)=>{if(!o)return console.error(`Error adding listener to ${n}: no callback passed`);t.has(n)||t.set(n,new Set),t.get(n).add(o)},e.off=(n,o)=>{const r=t.get(n);r&&(r.delete(o),r.size===0&&t.delete(n))},e.onAny=n=>{if(!n)return console.error("Error adding onAny listener: no callback passed");s.add(n.bind(e))},e.offAny=n=>{s.delete(n)},e.emit=(n,o)=>{const r=[];return t.get(n)?.forEach(c=>{try{r.push(c(o))}catch(i){console.error(`Error in listener for key "${n}":`,i)}}),s.forEach(c=>{try{const i=c.bind(e);r.push(i({key:n,data:o}))}catch(i){console.error(`Error in onAny listener for key "${n}":`,i)}}),r},e};const a={install:installEventsHandler};export default{modules:{name:"modules",description:"Global modules store"},storage:{name:"storage",description:"Storage Module",base:{install:installModulePrototype}},error:{name:"error",base:console.error},log:{name:"log",base:console.log},icons:{name:"Icons",base:new Map(Object.entries(self.__icons||{}))},theme:{name:"theme"},components:{name:"components"},hooks:{name:"hooks",description:"Global Hooks store",base:{get:function(e){return this[e]||[]},on:function(e,t){this[e]=Array.isArray(this[e])?[...this[e],t]:[t]},set:function(e){Object.entries(e).forEach(([t,s])=>this.on(t,s))},emit:async function(e,...t){try{if(Array.isArray(this[e]))for(const s of this[e])await s(...t)}catch(s){console.error(`Error running hook \'${e}\':`,s)}},clear:function(e){this[e]=null}}},settings:{name:"settings",description:"Global settings store",base:{dev:!0,backend:!1,frontend:!0,mv3:!1,mv3Injected:!1,basePath:"",...self.__settings||{}},hooks:({context:e})=>({moduleAdded({module:t}){t.settings&&(e[t.name]=t.settings)}})},events:{name:"events",description:"Global events Store",base:installEventsHandler(a)},data:{name:"data",description:"Data Migration store"},routes:{name:"routes",description:"Routes store"},devFiles:{name:"devFiles",base:[]},assetFiles:{name:"assetFiles",base:[]},app:{name:"app"}};\n',mimeType:"application/javascript",skipSW:!1},"/modules/types/index.js":{content:'const b={email:/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/},x=n=>{try{return n in c?n:JSON.parse(n)}catch{return}},c={undefined:void 0,null:null,"":null,[void 0]:void 0},y={any:n=>n,function:n=>n,extension:()=>{},boolean:(n,{attribute:e=!0}={})=>e&&n===""||["true",1,"1",!0].includes(n),string:n=>n in c?c[n]:String(n),array:(n,e={})=>{if(Array.isArray(n))return n;const{itemType:t}=e;try{if(!n)throw n;const r=x(n);if(!Array.isArray(r))throw r;return t?r.map(u=>typeof u!="object"?u:Object.entries(u).reduce((i,[a,d])=>(i[a]=y[t[a]?.type]?y[t[a].type](d,e):d,i),{})):r}catch{return[]}},number:n=>n&&Number(n),date:n=>new Date(n),datetime:n=>{if(!n)return null;const e=new Date(n);return Number.isNaN(e.getTime())?null:e},object:(n,e={})=>{const t=typeof n=="string"?x(n):n;return e.properties&&Object.entries(e.properties).map(([r,u])=>{u.defaultValue!==void 0&&(t[r]=u.defaultValue)}),t}},w=(n,e={})=>{const{type:t}=e;return(y[t]||(r=>r))(n,e)},V={datetime:(n,e={})=>{if(e.min&&n<new Date(e.min))return["minimum",null];if(e.max&&n>new Date(e.max))return["maximum",null]},number:(n,e={})=>{if("min"in e&&n<e.min)return["minimum",null];if("max"in e&&n>e.max)return["maximum",null];if(Number.isNaN(Number(n)))return["NaN",null]}},N=(n,e)=>{if(e.required===!0&&(n==null||n===""))return["required",null];const t=y[e.type];if(e.relationship)return e.many?[null,Array.isArray(n)?n.map(i=>e.mixed?i:i?.id??i):[]]:[null,n?.id??n];const r=t?t(n,e):[void 0,null,""].includes(n)?e.defaultValue??null:n,u=V[e.type];if(u){const i=u(n,e);if(i)return i}if("format"in e||b[e.key]){const i="format"in e?e.format:b[e.key];if(!(typeof i=="function"?e.format:f=>i.test(f))(r))return["invalid",null]}return[null,r]};function A(n,e){return n.replace(/\\${(.*?)}/g,(t,r)=>e[r.trim()])}const _=(n,{schema:e,row:t={},undefinedProps:r=!0,validateVirtual:u=!1})=>{if(!e)return[null,n];const i={};let a=!1;const d=r?e:n;for(const s in d){const l={...e[s],key:s};if("virtual"in l||l.persist===!1)continue;const[o,g]=[void 0,null,""].includes(n[s])&&!l.required?[null,l.defaultValue]:N(n[s],l);o?(a=!0,i[s]=o):g!==void 0&&(n[s]=g)}const f=Object.fromEntries(Object.entries(e).filter(([s,l])=>"virtual"in l));for(const s in f)if(u){const[l,o]=N(A(f[s].virtual,{...t,...n}),f[s]);l?(a=!0,i[s]=l):o!==void 0&&(n[s]=o)}else n[s]=A(f[s].virtual,{...t,...n});return a?[i,null]:[null,n]},m=(n,e)=>{const t=typeof e=="object"&&!Array.isArray(e)&&e!==null?e:{defaultValue:e};return{type:n,persist:!0,attribute:!0,...t}},O={createType:m,stringToType:w,validateType:_},D=n=>(...e)=>{const t=e[0];let r,u=e[2];typeof e[1]=="string"?r=e[1]:u=e[1];const i=T.includes(n);return{type:i?n==="belongs_many"?"array":"string":n==="one"?"object":"array",many:q.includes(n),belongs:i,persist:i,relationship:n,defaultValue:n==="belongs_many"?[]:null,polymorphic:t==="*"||Array.isArray(t),targetModel:t,targetForeignKey:r,index:T.includes(n),...u}},H=["one","many","belongs","belongs_many"],q=["many","belongs_many"],T=["belongs","belongs_many"],E={get(n,e){if(n[e])return n[e];const t=e.toLowerCase();return H.includes(e)?D(e):t==="extension"?(r={})=>m("extension",{...r,persist:!1,extension:!0}):(r={})=>{if(!y[t])throw new Error(`Unknown type: ${t}`);return m(t,r)}}},F=new Proxy(O,E);export default F;\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/model/indexeddb/index.js":{content:'export default async()=>{const E={true:1,false:0},K={true:!0,false:!1};async function M($){const y=W($);return await y.init(),y}function W({name:$,models:y,version:k}){let l=null,m=!1,g=null,C=Number(k);const R=async()=>g||(g=new Promise((e,o)=>{const n=indexedDB.open($,C);n.onerror=s=>{g=null,o(new Error(`Failed to open database: ${s.target.error}`))},n.onsuccess=s=>{l=s.target.result,m=!0,l.onversionchange=()=>{l&&(l.close(),l=null,m=!1,g=null)},e(l)},n.onupgradeneeded=s=>{const i=s.target.result,c=s.target.transaction;Object.keys(y).forEach(t=>{if(!i.objectStoreNames.contains(t))J(i,t);else{const r=c.objectStore(t),u=y[t];Object.keys(u).forEach(a=>{u[a].index===!0&&!r.indexNames.contains(a)&&r.createIndex(a,a,{unique:u[a].unique||!1,multiEntry:u[a].type==="array"})})}})}}),g),D=()=>{l&&l.close(),l=null,m=!1,g=null},_=async e=>(g&&await g,D(),C=e.version,y=e.models,$APP.Backend.broadcast({type:"UPDATE_MODELS",payload:{models:y}}),R()),p=async()=>{(!m||!l)&&await R()},A=({model:e,row:o,reverse:n=!1,currentRow:s={}})=>{const i=n?K:E,c=y[e],t={...o};return Object.keys(c).forEach(r=>{r.relationship&&!r.belongs||(o[r]===void 0&&s[r]!==void 0?t[r]=s[r]:(c[r].type==="boolean"&&(t[r]=o[r]?i.true:i.false),t[r]===void 0&&delete t[r]))}),n&&Object.keys(c).forEach(r=>{c[r].type==="boolean"&&(t[r]===E.true?t[r]=!0:t[r]===E.false&&(t[r]=!1))}),t},B=(e,o,n)=>{const s=y[n];return Object.entries(o).every(([i,c])=>{const t=e[i],r=s?.[i];return typeof c=="object"&&c!==null&&!Array.isArray(c)?Object.entries(c).every(([u,a])=>{switch(u){case"$gt":return t>a;case"$gte":return t>=a;case"$lt":return t<a;case"$lte":return t<=a;case"$ne":return t!=a;case"$in":return Array.isArray(a)&&a.includes(t);case"$nin":return Array.isArray(a)&&!a.includes(t);case"$includes":return Array.isArray(t)||typeof t=="string"&&typeof a=="string"?t.includes(a):!1;default:return!1}}):r?.type==="boolean"?!!t==c:r?.type==="array"&&Array.isArray(t)?t.includes(c):t===c})},J=(e,o)=>{const n=y[o],s=e.createObjectStore(o,{keyPath:"id",autoIncrement:!0});Object.keys(n).forEach(i=>{(n[i].index===!0||n[i].unique===!0)&&s.createIndex(i,i,{unique:n[i].unique??!1,multiEntry:n[i].type==="array"})})},F=(e,o)=>{const n=y[o];if(!n||typeof e!="object"||e===null)return null;for(const s in e)if(Object.hasOwn(e,s)&&n[s]?.index)return s;return null},L=async(e,o,n={})=>(await p(),new Promise((s,i)=>{const c=l.transaction(e,"readwrite"),r=c.objectStore(e).put(A({model:e,row:o,currentRow:n.currentRow}));r.onerror=()=>i(new Error(`Failed to put: ${r.error}`)),c.oncomplete=()=>s(r.result)})),Q=async(e,{where:o={},limit:n=0,offset:s=0,order:i=null,keys:c}={})=>(await p(),new Promise((t,r)=>{try{const a=l.transaction(e,"readonly").objectStore(e),f=[],G=y[e],I=()=>{if(i&&f.length>0){const d=Array.isArray(i)?i:i.split(",").map(w=>w.trim());f.sort((w,H)=>{for(const h of d){let P=1,j=h;h.startsWith("-")?(P=-1,j=h.substring(1).trim()):h.startsWith("+")&&(j=h.substring(1).trim());const q=w[j],v=H[j];if(q===void 0&&v===void 0)return 0;if(q===void 0)return 1*P;if(v===void 0||q<v)return-1*P;if(q>v)return 1*P}return 0})}const b=n>0?f.slice(s,s+n):f.slice(s);t(b.map(d=>A({model:e,row:d,reverse:!0})))};if(Array.isArray(o)){const b=a.openCursor();b.onerror=()=>r(new Error(`Failed to getMany ${e}: ${b.error}`)),b.onsuccess=d=>{const w=d.target.result;w?(o.includes(w.key)&&(!c||c.includes(w.key))&&f.push(w.value),w.continue()):I()};return}let S,T=!1;const x=F(o,e);if(x&&Object.keys(o).length>0){let b=o[x];if(G[x]?.type==="boolean"&&(b=b?E.true:E.false),b!==void 0)try{S=a.index(x).openCursor(IDBKeyRange.only(b)),T=!0}catch{S=a.openCursor()}else S=a.openCursor()}else S=a.openCursor();S.onerror=()=>r(new Error(`Failed to getMany ${e}: ${S.error}`)),S.onsuccess=b=>{const d=b.target.result;if(d){const w=T?d.primaryKey:d.key;if(c&&!c.includes(w)){d.continue();return}B(d.value,o,e)&&f.push(d.value),d.continue()}else I()}}catch(u){r(new Error(`Failed to start transaction: ${u.message}. Query Props: ${JSON.stringify({storeName:e,limit:n,offset:s,where:o,order:i,keys:c})}`))}})),U=async(e,o)=>(await p(),new Promise((n,s)=>{if(!o)return n(null);const c=l.transaction(e,"readonly").objectStore(e),t=y[e];if(typeof o=="object"&&!Array.isArray(o)){const r=F(o,e);let u;if(r){let a=o[r];if(t[r]?.type==="boolean"&&(a=a?E.true:E.false),a!==void 0)try{u=c.index(r).openCursor(IDBKeyRange.only(a))}catch{u=c.openCursor()}else u=c.openCursor()}else u=c.openCursor();u.onerror=()=>s(new Error(`Failed to get: ${u.error}`)),u.onsuccess=a=>{const f=a.target.result;f?B(f.value,o,e)?n(A({model:e,row:f.value,reverse:!0})):f.continue():n(null)}}else{if(Array.isArray(o)){s(new Error("Filter for get must be an object or a primary key."));return}const r=c.get(o);r.onerror=()=>s(new Error(`Failed to get: ${r.error}`)),r.onsuccess=()=>n(r.result?A({model:e,row:r.result,reverse:!0}):null)}})),z=async(e,o)=>(await p(),new Promise((n,s)=>{const t=l.transaction(e,"readwrite").objectStore(e).delete(o);t.onerror=()=>s(new Error(`Failed to delete: ${t.error}`)),t.onsuccess=()=>n(!0)})),O=async(e,{where:o={}}={})=>(await p(),new Promise((n,s)=>{const c=l.transaction(e,"readonly").objectStore(e);if(Object.keys(o).length===0){const t=c.count();t.onerror=()=>s(new Error(`Failed to count: ${t.error}`)),t.onsuccess=()=>n(t.result)}else{const t=c.openCursor();let r=0;t.onerror=()=>s(new Error(`Failed to count: ${t.error}`)),t.onsuccess=u=>{const a=u.target.result;a?(B(a.value,o,e)&&r++,a.continue()):n(r)}}}));return{init:R,transaction:async(e,o="readwrite")=>{await p();const n=l.transaction(e,o);return{transaction:n,put:(s,i,c={})=>new Promise((t,r)=>{const u=n.objectStore(s),a=A({model:s,row:i,currentRow:c.currentRow}),f=u.put(a);f.onsuccess=()=>t(f.result),f.onerror=()=>r(f.error)}),remove:(s,i)=>new Promise((c,t)=>{const u=n.objectStore(s).delete(i);u.onsuccess=()=>c(!0),u.onerror=()=>t(u.error)}),done:()=>new Promise((s,i)=>{n.oncomplete=()=>s(),n.onerror=()=>i(n.error),n.onabort=()=>i(n.error||new Error("Transaction aborted"))}),abort:()=>n.abort()}},getMany:Q,put:L,get:U,remove:z,reload:_,count:O,isEmpty:async e=>await O(e)===0,clear:async e=>(await p(),new Promise((o,n)=>{const c=l.transaction(e,"readwrite").objectStore(e).clear();c.onerror=()=>n(new Error(`Failed to clear: ${c.error}`)),c.onsuccess=()=>o()})),get db(){return l},close:D,destroy:async()=>{const e=$;return D(),new Promise((o,n)=>{const s=indexedDB.deleteDatabase(e);s.onerror=()=>n(new Error(`Failed to delete database: ${s.error}`)),s.onsuccess=()=>o()})},export:async e=>(await p(),new Promise((o,n)=>{const c=l.transaction(e,"readonly").objectStore(e).getAll();c.onerror=()=>n(new Error(`Failed to export: ${c.error}`)),c.onsuccess=()=>{const t={};c.result&&c.result.forEach(r=>{["string","number"].includes(typeof r.id)&&(t[r.id]=r)}),o(t)}})),import:async(e,o)=>{if(await p(),!Array.isArray(o))throw new Error("No data provided or data is not an array");return o.length===0?Promise.resolve():new Promise((n,s)=>{const i=l.transaction(e,"readwrite"),c=i.objectStore(e);let t=0,r=null;o.forEach(u=>{if(r)return;const a=c.put(u);a.onerror=()=>{r||(r=a.error,i.abort(),s(new Error(`Failed to import: ${r}`)))},a.onsuccess=()=>{r||(t++,o.length)}}),i.oncomplete=()=>{r||n()},i.onerror=()=>{r||s(new Error(`Transaction error during import: ${i.error}`))}})},get isConnected(){return m},get version(){return C},name:$,models:y}}return{open:M}};\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/model/database/index.js":{content:'export const dependencies={metadata:"/modules/mvc/model/extensions/metadata.js",operations:"/modules/mvc/model/extensions/operations.js"};export default async({$APP:d,T:F,IndexedDBWrapper:A,metadata:$,operations:q})=>{const z=({context:o,collection:E="models"})=>({module:x})=>{if(!x[E])return;const f=Object.fromEntries(Object.keys(x[E]).map(K=>{const O={id:F.string({primary:!0}),...x[E][K]};return[K,Object.fromEntries(Object.entries(O).map(([V,S])=>(S.name=V,S.relationship&&!S.targetForeignKey&&(S.targetForeignKey=K),[V,S])))]}));o.set(f)},G={operations:q,metadata:$};d.addModule({name:"sysmodels",hooks:({context:o})=>({moduleAdded:z({context:o,collection:"sysmodels"})}),settings:{APP:"App",USER:"User",DEVICE:"Device"}}),d.sysmodels.set({[d.settings.sysmodels.APP]:{name:F.string({index:!0,primary:!0}),version:F.number(),users:F.many(d.settings.sysmodels.USER,"appId"),active:F.boolean({defaultValue:!0,index:!0}),models:F.object(),migrationTimestamp:F.number()},[d.settings.sysmodels.USER]:{name:F.string({index:!0,primary:!0}),appId:F.one(d.settings.sysmodels.APP,"users"),devices:F.many(d.settings.sysmodels.DEVICE,"userId"),publicKey:F.string(),privateKey:F.string(),active:F.boolean({index:!0})},[d.settings.sysmodels.DEVICE]:{name:F.string({index:!0,primary:!0}),userId:F.one(d.settings.sysmodels.USER,"devices"),deviceData:F.string(),active:F.number({defaultValue:!0,index:!0})}});const N=o=>!!d.sysmodels[o];d.addModule({name:"DatabaseExtensions",base:d.storage.install([])});const H=(o,E)=>Object.fromEntries(Object.entries(o).filter(([x,f])=>Object.hasOwn(f,`$${E}`)).map(([x])=>[x,G[E]])),J=async o=>{const{dump:E}=o,x=o.app??await d.Backend.getApp();if(!E)throw"No dump provided";if(!x)throw"No app selected";for(const[f,K]of Object.entries(E))d.Model[f]&&await d.Model[f].addMany(K,{keepIndex:!0});await d.SysModel.edit(d.settings.sysmodels.APP,{id:x.id,migrationTimestamp:Date.now()})},L=async()=>{const o=await d.Backend.getApp(),E={},x=Object.keys(o.models);for(const f of x)d.Model[f]&&(E[f]=await d.Model[f].getAll({object:!0}));return E},T=()=>{let o,E,x,f,K;const O={},V={},S=async(e={})=>{e.extensions&&d.DatabaseExtensions.add(...e.extensions),e.name&&(x=e.name),e.models&&(o=e.models),e.version&&(E=e.version),K=e.system===!0,f&&f.close(),f=await A.open({name:x,version:E,models:o}),d.DatabaseExtensions.length&&!K&&d.DatabaseExtensions.forEach(async n=>{O[n]=await A.open({name:`${x}_${n}`,version:E,models:H(o,n)})})},B=async(e,n,i,u)=>{if(!e||e.length===0||!i||i.length===0)return;const g=o[n],M={},v={};if(i)for(const t of i){const p=g[t];if(!p)continue;v[t]=p;const{targetModel:y,belongs:l,polymorphic:m,mixed:h}=p;for(const w of e){let s=w[t];if(l)s=w[t];else continue;if(s==null)continue;const a=(c,D)=>{M[c]||(M[c]=new Set),M[c].add(D)},r=c=>{if(m){if(typeof c=="string"){const[D,k]=c.split("@");D&&k&&a(D,k)}}else typeof c=="string"&&a(y,c)};Array.isArray(s)?s.forEach(r):r(s)}}const b={};for(const[t,p]of Object.entries(M))if(p.size>0){const y=Array.from(p),l=await R.getMany(t,{where:y});b[t]=l.reduce((m,h)=>(m[h.id]=h,m),{})}for(const t of e)for(const p of i){const y=v[p];if(!y)continue;const{targetModel:l,belongs:m,polymorphic:h,mixed:w,many:s}=y,a=u.transform??y.transform;if(m){const r=t[p];if(r==null){t[p]=s?[]:null;continue}const c=D=>{let k=l,I=D;if(h&&typeof D=="string"&&([k,I]=D.split("@")),w&&typeof D=="object"&&D!==null)return D;const j=b[k]?.[I]??null;return a?a(j,k):j};s?t[p]=Array.isArray(r)?r.map(c).filter(Boolean):[]:t[p]=c(r)}else{let r;if(h){const c=`${n}@${t.id}`;o[l]?.[y.targetForeignKey]?.many?r={[y.targetForeignKey]:{$contains:c}}:r={[y.targetForeignKey]:c}}else r={[y.targetForeignKey]:t.id};t[p]=y.relationship==="one"?await R.get(l,{where:r}):await R.getMany(l,{where:r})}}},R={loadDBDump:J,createDBDump:L,extdbs:O,get db(){return f},get models(){return o},get version(){return f?.version},open:S,stores:V,reload:S,count:(...e)=>f.count(...e),isEmpty:(...e)=>f.isEmpty(...e),async put(e,n={},i={}){const{skipRelationship:u=!1,currentRow:g={}}=i,M=o[e];if(!M)return console.error(`Model ${e} not found. current schema version: ${E} / ${f.version}`);if(N(e))try{const t=await f.put(e,n);return t?[null,await f.get(e,t)]:[null,null]}catch(t){return[t,null]}const[v,b]=F.validateType(n,{schema:o[e],row:g,undefinedProps:!!i.insert,validateVirtual:!0});if(v)return[v,null];try{if(u)return await f.put(e,b,i),[null,b];const t=[e],p=Object.keys(M).filter(w=>{const s=M[w],a=s.targetModel&&s.relationship&&b[w]!==void 0&&b[w]!==null;return a&&!t.includes(s.targetModel)&&(s.polymorphic||t.push(s.targetModel)),a}),y=b.id||n.id,l=[];for(const w of p){const s=M[w];let a=b[w];if(s.many&&Array.isArray(a)){const c=[];for(const D of a)if(typeof D=="string"||s.mixed&&typeof D=="object"&&D!==null)c.push(D);else{const k=s.targetModel;if(o[k]){const I={...D};I.id||(I.id=d.Backend.generateId()),l.push([k,I]),t.includes(k)||t.push(k);const j=s.polymorphic?`${k}@${I.id}`:I.id;c.push(j)}}b[w]=c,a=c}if(!o[s.targetModel]&&!s?.polymorphic){console.error(`ERROR: couldn\'t find target model \'${s.targetModel}\' for relationship \'${w}\' on model \'${e}\'`);continue}const r=o[s.targetModel]?.[s.targetForeignKey];if(!r){s.belongs||console.warn(`WARN: couldn\'t find target foreign key \'${s.targetForeignKey}\' in model \'${s.targetModel}\' for relationship \'${w}\' from \'${e}\'. This might be a one-way definition or configuration issue.`);continue}if(r.belongs){const c=r.polymorphic?`${e}@${y}`:y;if(r.many){const k=Array.isArray(a)?a:[a];k.length&&(await R.getMany(s.targetModel,{where:k.map(j=>j&&typeof j=="object"?j.id:j)})).forEach(j=>{if(j){const _=j[s.targetForeignKey];_?_.includes(c)||_.push(c):j[s.targetForeignKey]=[c],l.push([s.targetModel,j])}})}else{const k=typeof a=="string"?a:a?.id;if(k){const I=await R.get(s.targetModel,k);I&&(I[s.targetForeignKey]=c,l.push([s.targetModel,I]))}}}!s.belongs&&!M[w]?.polymorphic&&delete b[w]}l.push([e,b]);const m=await f.transaction(t),h=l.map(([w,s])=>m.put(w,s));return await Promise.all(h),await m.done(),[null,b]}catch(t){return console.error("Error in put operation:",t,{model:e,row:n,models:o,version:E}),[t,null]}},async get(e,n,i={}){const u=typeof n!="object",g=u?n:null,M=u?i:n,{where:v,insert:b=!1,includes:t=[],recursive:p=null}=M;let y=await f.get(e,g??{where:v});if(!y&&!b)return null;if(!y&&b){const[l,m]=await R.add(e,typeof v=="object"?v:{id:v},{skipRelationship:!0,...typeof v!="object"&&{overrideId:!0,keepIndex:!0}});if(l)return console.error("Failed to insert record in get():",l),null;y=m}if(y&&t.length&&await B([y],e,t,M),y&&p){const l=new Set;let m=[y];const h=p;for(;m.length>0;){const w=[];for(const s of m){const r=`${s._modelName||e}@${s.id}`;l.has(r)||(l.add(r),w.push(s))}if(w.length===0)break;await B(w,e,[h],M),m=[];for(const s of w){const a=s[h];if(Array.isArray(a))a.forEach(r=>{if(r){const c=o[e][h];c&&(r._modelName=c.targetModel),m.push(r)}});else if(a){const r=o[e][h];r&&(a._modelName=r.targetModel),m.push(a)}}}}return y},async getMany(e,n={}){const{limit:i,offset:u,where:g,order:M,includes:v=[],recursive:b=null}=n,t=await f.getMany(e,{where:g,limit:i,offset:u,order:M});if(v.length&&t.length&&await B(t,e,v,n),b&&t.length){const y=new Set;let l=[...t];const m=b;for(;l.length>0;){const h=[];for(const s of l){const r=`${s._modelName||e}@${s.id}`;y.has(r)||(y.add(r),h.push(s))}if(h.length===0)break;const w=h[0]._modelName||e;await B(h,w,[m],n),l=[];for(const s of h){const a=s[m],r=o[w][m];Array.isArray(a)?a.forEach(c=>{c&&(r&&(c._modelName=r.targetModel),l.push(c))}):a&&(r&&(a._modelName=r.targetModel),l.push(a))}}}return i?{count:await f.count(e,{where:g}),limit:i,offset:u,items:t}:t},async remove(e,n,i={}){const u=o[e];if(!u)return console.error(`Model ${e} not found for removal.`),!1;const g=await R.get(e,n);if(!g)return!1;const M=Object.keys(u).filter(t=>u[t].targetModel&&u[t].relationship),v=[e],b=[];if(M.length>0)for(const t of M){const p=u[t];if(!p.targetModel||!p.targetForeignKey)continue;v.includes(p.targetModel)||p.polymorphic||v.push(p.targetModel);const y=p.targetModel,l=p.targetForeignKey,m=o[y]?.[l];if(m&&m.belongs){const h=m.polymorphic?`${e}@${n}`:n;let w;m.many?w={[l]:{$contains:h}}:w={[l]:h},(await R.getMany(y,{where:w})).forEach(a=>{let r;m.many?r=(a[l]||[]).filter(c=>c!==h):r=null,b.push([y,{...a,[l]:r}])})}}try{const t=await f.transaction(v),p=b.map(([m,h])=>t.put(m,h)),y=t.remove(e,n);await Promise.all([...p,y]),await t.done();const l=N(e);return[`ModelRemoveRecord-${e}`,"onRemoveRecord"].forEach(m=>d.hooks.emit(m,{model:e,opts:i,id:n,system:l,row:g,db:R,extensions:Object.keys(o[e]).filter(h=>h[0]==="$").map(h=>h.slice(1))})),!0}catch(t){return console.error("Failed to remove record or update relationships:",t,{model:e,id:n}),!1}},async removeMany(e,n,i={}){!n&&i.where&&(n=i.where);const u=Array.isArray(n)?n.map(g=>typeof g=="object"?g.id:g):(await f.getMany(e,{where:n})).map(g=>g.id);return Promise.all(u.filter(Boolean).map(g=>R.remove(e,g,i)))},async edit(e,n,i={}){if(!n||!n.id)return console.error("Edit operation requires a row with an ID.",{model:e,row:n}),{errors:{id:"ID is required for edit."},model:e,row:n,opts:i};const u={...i,update:!0,currentRow:i.currentRow??await R.get(e,n.id)};if(!u.currentRow)return console.warn(`Record not found for edit: ${e} with id ${n.id}`),{errors:{record:"Record not found."},model:e,row:n,opts:u};const[g,M]=await R.put(e,{...u.currentRow,...n},u);if(g)return{errors:g,model:e,row:n,opts:u};const v=N(e);return[`ModelEditRecord-${e}`,"onEditRecord"].forEach(b=>d.hooks.emit(b,{row:n,model:e,system:v,opts:u,db:R,extensions:Object.keys(o[e]).filter(t=>t[0]==="$").map(t=>t.slice(1))})),M},async editMany(e,n,i={}){return n?.length?await Promise.allSettled(n.map(async g=>g?.id?R.edit(e,g,i):{errors:{id:"Row or ID missing for editMany"},row:g})):[]},async editAll(e,n,i={}){const u=await f.getMany(e,i);return await Promise.allSettled(u.map(M=>R.edit(e,{...M,...n},{...i,currentRow:M})))},async add(e,n,i={}){const u={...n},g=N(e);(!g&&!i.keepIndex&&!i.overrideId||!u.id)&&(u.id=d.Backend.generateId());const[M,v]=await R.put(e,u,{...i,insert:!0});return M?{errors:M,model:e,row:u,opts:i}:([`ModelAddRecord-${e}`,"onAddRecord"].forEach(b=>d.hooks.emit(b,{model:e,row:v,system:g,opts:i,db:R,extensions:Object.keys(o[e]).filter(t=>t[0]==="$").map(t=>t.slice(1))})),v)},async addMany(e,n=[],i={}){return await Promise.allSettled(n.map(g=>R.add(e,g,i)))}};return R},C=T();await C.open({name:d.settings.sysmodels.APP,version:1,models:d.sysmodels,system:!0}),d.addModule({name:"sysmodel",alias:"SysModel",base:C});const U=T();return d.hooks.on("APP:BACKEND_STARTED",async({app:o,user:E,device:x,models:f})=>{if(!o||!f){console.error("APP:BACKEND_STARTED hook called with invalid app or models.",{app:o,models:f});return}await U.open({name:o.id,version:o.version,extensions:o.extensions,system:!1,models:{...f,...o.models||{}}}),d.hooks.emit("APP:DATABASE_STARTED",{app:o,user:E,device:x})}),U};\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/model/extensions/metadata.js":{content:`export const module=!0;export default({T:s,$APP:e})=>(e.hooks.set({onAddRecord({model:a,row:d,system:n,extensions:r}){if(n||!e.Database.extdbs||!r.includes("metadata"))return;const t=e.Database.extdbs.metadata;if(!t)return console.error("Metadata database instance not active.");t.put(a,{id:d.id,createdAt:Date.now(),updatedAt:Date.now()})},async onEditRecord({model:a,row:d,system:n,extensions:r}){if(n||!e.Database.extdbs||!r.includes("metadata"))return;const t=e.Database.extdbs.metadata;if(!t)return console.error("Metadata database instance not active.");const o=await t.get(a,d.id);o.updatedAt=Date.now(),t.put(a,o)},onRemoveRecord({model:a,id:d,system:n,extensions:r}){if(n||!e.Database.extdbs||!r.includes("metadata"))return;const t=e.Database.extdbs.metadata;if(!t)return console.error("Metadata database instance not active.");t.remove(a,d)}}),{createdAt:s.string({index:!0}),updatedAt:s.string({index:!0}),createdBy:s.string({index:!0}),updatedBy:s.string({index:!0})});
`,mimeType:"application/javascript",skipSW:!1},"/modules/mvc/model/extensions/operations.js":{content:`export const module=!0;export default({T:s,$APP:e})=>(e.hooks.set({onAddRecord({model:o,row:a,system:r,extensions:n}){if(r||!e.Database.extdbs||!n.includes("operations"))return;const t=e.Database.extdbs.operations;if(!t)return console.error("Operations database instance not active.");t.put(o,{timestamp:Date.now(),row:a})},async onEditRecord({model:o,id:a,row:r,system:n,extensions:t}){if(n||!e.Database.extdbs||!t.includes("operations"))return;const i=e.Database.extdbs.operations;if(!i)return console.error("Operations database instance not active.");i.put(o,{timestamp:Date.now(),rowId:a,row:r})},onRemoveRecord({model:o,id:a,system:r,extensions:n}){if(r||!e.Database.extdbs||!n.includes("operations"))return;const t=e.Database.extdbs.operations;if(!t)return console.error("Operations database instance not active.");t.put(o,{timestamp:Date.now(),removedAt:Date.now(),rowId:a})}}),{createdAt:s.string({index:!0}),removedAt:s.string(),rowId:s.string({index:!0}),row:s.object()});
`,mimeType:"application/javascript",skipSW:!1},"/modules/mvc/model/backend.js":{content:'import f from"/modules/mvc/model/index.js";export default({$APP:r,Database:c})=>{const E={DISCONNECT:(e,{port:s})=>s.removePort(),CREATE_REMOTE_WORKSPACE:async({payload:e},{importDB:s})=>s(e),ADD_REMOTE_USER:async({payload:e})=>r.Backend.createUserEntry(e),ADD:async({payload:e,respond:s})=>{const t=await c.add(e.model,e.row,e.opts);s(t)},ADD_MANY:async({payload:e,respond:s})=>{const t=await c.addMany(e.model,e.rows,e.opts);s({success:!0,results:t})},REMOVE:async({payload:e,respond:s})=>{const t=await c.remove(e.model,e.id,e.opts);s(t)},REMOVE_MANY:async({payload:e,respond:s})=>{const t=await c.removeMany(e.model,e.ids,e.opts);s({success:!0,results:t})},EDIT:async({payload:e,respond:s})=>{const t=await c.edit(e.model,e.row,e.opts);s(t)},EDIT_MANY:async({payload:e,respond:s})=>{const t=await c.editMany(e.model,e.rows,e.opts);s({success:!0,results:t})},GET:async({payload:e,respond:s})=>{const{id:t,model:o,opts:n={}}=e,d=await c.get(o,t??(n.where&&(typeof n.where=="string"&&JSON.parse(n.where)||n.where)),n);s(d)},GET_MANY:async({payload:{model:e,opts:s={}},respond:t}={})=>{const o=await c.getMany(e,s);t(o)}};r.events.set(E);const p=(e,s,t={})=>new Promise(o=>{const n=E[e];n&&typeof n=="function"?n({respond:o,payload:{model:s,...t}}):o({success:!1,error:`Action "${e}" not found.`})}),a=({model:e,row:s})=>{if(!s)return;const t=r.models[e],o=Object.entries(t).filter(([,n])=>n.belongs&&n.targetModel!=="*");o.length&&o.forEach(([n,d])=>{s[n]&&r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${s[n]}`,model:d.targetModel,data:void 0}})})},l=({row:e,db:s,model:t})=>{if(!e.models)return;const o=new Set(e.extensions||[]),n=new Set;Object.values(e.models).forEach(i=>Object.keys(i).forEach(u=>{u.startsWith("$")&&n.add(u.slice(1))}));const d=[...n].filter(i=>!o.has(i));if(d.length===0)return;console.log(`New extensions found: ${d.join(", ")}`),d.forEach(i=>{console.log(`Initializing extension: ${i}`),r.DatabaseExtensions.add(i)});const y=[...o,...d];s.edit(t,{...e,extensions:y})};return r.hooks.set({"ModelAddRecord-App":l,"ModelEditRecord-App":l,onAddRecord({model:e,row:s,system:t}){t||(r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${s.id}`,model:e,data:s}}),a({model:e,row:s}),console.log("BROADCAST MESSAGE",{system:t,type:"REQUEST_DATA_SYNC",payload:{key:`get:${s.id}`,model:e,data:s}}))},onEditRecord({model:e,row:s,system:t}){t||(r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${s.id}`,model:e,data:s}}),a({model:e,row:s}))},onRemoveRecord({model:e,row:s,id:t,system:o}){o||(r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${t}`,model:e,data:void 0}}),a({model:e,row:s}))}}),f.request=p,f};\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/model/index.js":{content:'import c from"/bootstrap.js";import R from"/modules/types/index.js";const M=({context:e,collection:t="models"})=>({module:n})=>{if(!n[t])return;const r=Object.fromEntries(Object.keys(n[t]).map(o=>{const s={id:R.string({primary:!0}),...n[t][o]};return[o,Object.fromEntries(Object.entries(s).map(([a,d])=>(d.name=a,d.relationship&&!d.targetForeignKey&&(d.targetForeignKey=o),[a,d])))]}));e.set(r)};c.addModule({name:"models",hooks:({context:e})=>({moduleAdded:M({context:e,collection:"models"}),moduleUpdated:M({context:e,collection:"models"})})});const D={get(e,t,n){return t==="remove"?()=>i.request("REMOVE",e._modelName,{id:e.id}):t==="update"?()=>{const r={...e};return delete r._modelName,i.request("EDIT",e._modelName,{row:r})}:t==="include"?async r=>{if(!e.id||!e._modelName)return console.error("Cannot run .include() on an object without an ID or model name."),n;if(!(e._modelName in c.models))throw new Error(`Model ${e._modelName} does not exist in models`);const s=c.models[e._modelName][r];if(!s)throw new Error(`Relationship \'${r}\' not found in ${e._modelName} model`);const a=await i.request("GET_MANY",s.targetModel,{opts:{where:s.belongs?e[r]:{[s.targetForeignKey]:e.id}}});return e[r]=p(a,s.targetModel),n}:e[t]},set(e,t,n){return e[t]=n,!0}},u=async({modelName:e,action:t,payload:n})=>{const r=await i.request(t,e,n);return t==="ADD_MANY"&&r&&Array.isArray(r.results)?(r.results.forEach(o=>{o.status==="fulfilled"&&o.value&&(o.value=f(o.value,e))}),r):t.includes("MANY")?n.opts.object?r:r?.items?(r.items=p(r.items,e),r):p(r,e):f(r,e)},g=e=>[{type:"static",name:"get",handler:(t,n={})=>u({modelName:e,action:"GET",payload:t?{id:t,opts:n}:{opts:n}})},{type:"static",name:"getAll",handler:(t={})=>u({modelName:e,action:"GET_MANY",payload:{opts:t}})},{type:"static",name:"add",handler:(t,n)=>u({modelName:e,action:"ADD",payload:{row:t,opts:n}})},{type:"static",name:"addMany",handler:(t,n)=>u({modelName:e,action:"ADD_MANY",payload:{rows:t,opts:n}})},{type:"static",name:"remove",handler:t=>i.request("REMOVE",e,{id:t})},{type:"static",name:"removeAll",handler:t=>i.request("REMOVE_MANY",e,{opts:{where:t}})},{type:"static",name:"edit",handler:t=>u({modelName:e,action:"EDIT",payload:{row:t}})},{type:"static",name:"editAll",handler:(t,n)=>i.request("EDIT_MANY",e,{opts:{where:t,updates:n}})},{type:"static",name:"upsert",handler:(t,n)=>u({modelName:e,action:t?.id?"EDIT":"ADD",payload:{row:t,opts:n}})},{type:"dynamic",prefix:"getBy",action:"GET"},{type:"dynamic",prefix:"getAllBy",action:"GET_MANY"},{type:"dynamic",prefix:"editAllBy",action:"EDIT_MANY"},{type:"dynamic",prefix:"editBy",action:"EDIT"},{type:"dynamic",prefix:"removeBy",action:"REMOVE"},{type:"dynamic",prefix:"removeAllBy",action:"REMOVE_MANY"}],f=(e,t)=>!e||typeof e!="object"||e.errors?e:(i[t].rows[e.id]=e,i[t].on(`get:${e.id}`,n=>{if(n===void 0){delete i[t].rows[e.id];return}const{id:r,...o}=n;Object.assign(i[t].rows[e.id],o)}),e._modelName=t,new Proxy(i[t].rows[e.id],D)),p=(e,t)=>Array.isArray(e)?e.map(n=>f(n,t)):e,T=e=>typeof e!="string"||!e?e:e.charAt(0).toLowerCase()+e.slice(1),A=new Map,i=new Proxy({},{get(e,t,n){if(t in e)return Reflect.get(e,t,n);if(A.has(t))return A.get(t);const r=t;if(!(t in c.models))throw new Error(`Model ${r} does not exist in models`);const o=c.models[r],s=g(r,o),a=new Proxy({},{get(d,y,x){if(y in d)return Reflect.get(d,y,x);for(const l of s){if(l.type==="static"&&l.name===y)return l.handler;if(l.type==="dynamic"&&y.startsWith(l.prefix)){const E=y.slice(l.prefix.length);if(!E)continue;const m=T(E);if(!(m in o))throw new Error(`Property \'${m}\' not found in model \'${r}\'`);return(_,h=null)=>{const w={opts:{where:{[m]:_}}};return h&&(w.opts.row=h),u({modelName:r,action:l.action,payload:w})}}}throw new Error(`Method \'${y}\' not found in model \'${r}\'`)}});return c.events.install(a),a.rows=c.storage.install({}),A.set(t,a),a}});i.proxifyRow=f,i.proxifyMultipleRows=p,i.addModels=M;export default i;\n',mimeType:"application/javascript",skipSW:!1},"/modules/mvc/controller/backend/worker.js":{content:'export default({$APP:t,Database:l})=>{const w=(()=>{let e=0,s=0;return()=>{let n=Date.now();return n>e?s=0:(s++,n+=s),e=n,n.toString()}})();let g=1;const m={},u={},S=async(e,s,n=5e3)=>{const o=(await self.clients.matchAll({type:"window",includeUncontrolled:!0}))[0];if(!o)return Promise.reject(new Error("No active client found to send request to."));const c=`backend-request-${g++}`;return new Promise((a,r)=>{u[c]={resolve:a,reject:r},setTimeout(()=>{delete u[c],r(new Error(`Request timed out after ${n}ms`))},n),o.postMessage({type:e,payload:s,eventId:c})})},f=async e=>{t.Backend.client&&(t.Backend.client.postMessage(e),t.Backend.client.postMessage({type:"BROADCAST",params:e}))},B=async({data:e,respond:s})=>{const{events:n}=t,{type:i,payload:o,connection:c,eventId:a}=e;if(u[a]){u[a].resolve(o),delete u[a];return}if(c){m[a]?m[a].postMessage(e):(t.mv3.postMessage(e,c),m[a]=s);return}const r=n[i];r&&await r({payload:o,eventId:a,respond:s,client:D(t.Backend.client),broadcast:f})},D=e=>new Proxy({},{get:(s,n)=>i=>h(e,n,i)}),h=(e,s,n)=>{const i=`sw_${g++}`;return new Promise((o,c)=>{u[i]={resolve:o,reject:c},e.postMessage({type:s,payload:n,eventId:i})})};function T({$APP:e,getApp:s,debounceDelay:n=50}){let i;const o=async()=>{if(e.dynamicModels.length){e.log(`Batch processing ${e.dynamicModels.length} model(s)...`);try{const{SysModel:c}=e,a=await s();a.version++,a.models=e.models,await c.edit(e.settings.sysmodels.APP,a),e.log(`Batch add successful. ${e.dynamicModels.length} model(s) added. App version is now ${a.version}.`),await l.reload({models:a.models,version:a.version});const r=await y(a);await k(Object.fromEntries(e.dynamicData),{skipDynamicCheck:!0}),await e.hooks.emit("APP:STARTED",r)}catch(c){console.error("Failed to process model additions batch:",c)}}};return e.addModule({name:"dynamicModels",base:[]}),e.addModule({name:"dynamicData",base:[]}),function({name:a,schema:r}){if(e.dynamicModels.includes(a)||e.dynamicModels.add(a),!a||!r)throw new Error("A model \'name\' and \'schema\' are required.");e.log(`Model "${a}" queued for addition.`),e.models.set({[a]:r}),clearTimeout(i),i=setTimeout(o,n)}}const v=async({timestamp:e=Date.now(),id:s=e.toString(),models:n=t.models,version:i=1}={})=>{const o={id:s,version:i,active:!0,models:n};return await t.SysModel.add(t.settings.sysmodels.APP,o),t.hooks.emit("APP:CREATED",{app:o}),o};async function I(){const e=await self.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),s=await self.crypto.subtle.exportKey("spki",e.publicKey),n=await self.crypto.subtle.exportKey("pkcs8",e.privateKey);return{publicKey:btoa(String.fromCharCode(...new Uint8Array(s))),privateKey:btoa(String.fromCharCode(...new Uint8Array(n)))}}const C=async({app:e,device:s,user:n}={})=>{const i=e||await t.Backend.getApp();if(!n){const d=await t.SysModel.get(t.settings.sysmodels.USER,{active:!0,appId:i.id});if(d)return d.privateKey=null,await t.SysModel.get(t.settings.sysmodels.DEVICE,{userId:d.id,active:!0})||await t.SysModel.add(t.settings.sysmodels.DEVICE,s),d}const{publicKey:o,privateKey:c}=await I(),a=n||{id:n?.id||w(),name:n?.name||"Local User",publicKey:o,privateKey:c,appId:i.id,active:!0};await t.SysModel.add(t.settings.sysmodels.USER,a);const r=s||{userId:a.id,appId:i.id,active:!0};return await t.SysModel.add(t.settings.sysmodels.DEVICE,r),a.privateKey=null,a},p=async()=>await t.SysModel.get(t.settings.sysmodels.APP,{active:!0}),E=async e=>{if(t.Backend.user)return t.Backend.user;const s=e||await t.Backend.getApp();if(t.Backend.user&&t.Backend.user.appId!==s.id&&(t.Backend.user=null),!t.Backend.user){let n=await t.SysModel.get(t.settings.sysmodels.USER,{appId:s.id,active:!0});n||(n=await t.Backend.createUserEntry({app:s}));const{privateKey:i,active:o,...c}=n;t.Backend.user=c}return t.Backend.user},M=async({app:e,user:s}={})=>{const n=e||await t.Backend.getApp(),i=s||await t.Backend.getUser(n);if(!i)throw new Error("User not found");return await t.SysModel.get(t.settings.sysmodels.DEVICE,{userId:i.id,active:!0})||null},k=async(e,s={})=>{const{skipDynamicCheck:n=!1}=s;e??=t.data;const{SysModel:i}=t,o=await p(),c=Object.entries(e);if(c.length){const a={};for(const[r,d]of c)!n&&!t.models[r]?t.dynamicData.add([r,d]):a[r]=d;l.loadDBDump({dump:a,app:o}),l.app=await i.edit(t.settings.sysmodels.APP,{id:o.id,migrationTimestamp:Date.now()})}};t.DatabaseExtensions;const y=async e=>{l.app=e;const s=[];e.models??={},Object.values(e.models).forEach(a=>Object.keys(a).forEach(r=>{r.startsWith("$")&&s.push(r.slice(1))})),await l.reload({name:e.id,models:e.models,version:e.version,extensions:s});const{active:n,privateKey:i,...o}=await E(e),c=await M({app:e,user:o});return t.data&&!e.migrationTimestamp&&(await k(t.data),e=await p()),{app:e,user:o,device:c,models:e.models}},R=T({$APP:t,getApp:p}),U={bootstrap:async()=>{let e=await p();e||(e=await v());const s=await y(e);return t.dynamicModels.length||await t.hooks.on("APP:DATABASE_STARTED",async()=>{await t.hooks.emit("APP:STARTED",s)}),await t.hooks.emit("APP:BACKEND_STARTED",s),s},handleMessage:B,getApp:p,getDevice:M,createAppEntry:v,createUserEntry:C,getUser:E,generateId:w,broadcast:f,addModel:R,requestFromClient:S};return t.events.set({INIT_APP:async({respond:e})=>{await t.hooks.on("APP:STARTED",async({app:s,user:n,device:i,models:o})=>{e({app:s,user:n,device:i,models:o})})},GET_CURRENT_APP:async({respond:e})=>{const s=await t.Backend.getApp();e(s)},LIST_APPS:async({respond:e})=>{const s=await t.SysModel.getMany(t.settings.sysmodels.APP);e(s||[])},CREATE_APP:async({respond:e})=>{const s=await t.Backend.getApp();s&&await t.SysModel.edit(t.settings.sysmodels.APP,{id:s.id,active:!1});const n=await t.Backend.createAppEntry(),i=await y(n);e(i.app)},SELECT_APP:async({payload:e,respond:s})=>{const{appId:n}=e;if(!n)return s({error:"An \'appId\' is required to select an app."});const i=await t.Backend.getApp();i&&i.id!==n&&await t.SysModel.edit(t.settings.sysmodels.APP,{id:i.id,active:!1}),await t.SysModel.edit(t.settings.sysmodels.APP,{id:n,active:!0});const o=await t.SysModel.get(t.settings.sysmodels.APP,{id:n}),c=await y(o);s(c.app)},GET_DB_DUMP:async({respond:e})=>{const s=await l.createDBDump();e(s)},LOAD_DB_DUMP:async({payload:e,respond:s=console.log})=>{try{l.loadDBDump(e),s({success:!0})}catch(n){console.error("Failed to load DB dump:",n),s({success:!1,error:n})}}}),U};\n',mimeType:"application/javascript",skipSW:!1},"/models/migration.js":{content:`export const version=2;export default({T:e,$APP:t})=>{t.models.set({users:{name:e.string(),avatar:e.string(),conversations:e.many("conversations","user")},tags:{name:e.string(),tagged:e.many("*","tags",{polymorphic:!0})},conversations:{name:e.string(),user:e.belongs("users","conversations"),server:e.belongs("servers","conversations"),messages:e.many("messages","chat"),createdAt:e.string({index:!0})},messages:{content:e.string(),timestamp:e.string({index:!0}),role:e.string({options:["user","assistant","tool"]}),toolCalls:e.object(),toolCallId:e.string(),result:e.object(),chat:e.belongs("conversations","messages")},servers:{name:e.string(),description:e.string(),path:e.string(),icon:e.string(),config:e.object(),favorite:e.boolean({index:!0}),tags:e.belongs_many("tags","tagged",{polymorphic:!0}),hots:e.number({index:!0,default:0}),commentsCount:e.number({default:0}),hotted:e.boolean({default:!1}),comments:e.many("comments","server"),capabilities:e.object(),transports:e.object(),websiteUrl:e.string(),_meta:e.object(),version:e.string(),packages:e.array(),remotes:e.array(),repository:e.object()},clients:{name:e.string(),description:e.string(),icon:e.string(),url:e.string(),favorite:e.boolean({index:!0}),tags:e.belongs_many("tags","tagged",{polymorphic:!0}),hots:e.number({index:!0,default:0}),commentsCount:e.number({default:0}),hotted:e.boolean({default:!1}),comments:e.many("comments","client"),capabilities:e.object()},agents:{name:e.string(),description:e.string(),icon:e.string(),favorite:e.boolean({index:!0}),tags:e.belongs_many("tags","tagged",{polymorphic:!0}),hots:e.number({index:!0,default:0}),commentsCount:e.number({default:0}),hotted:e.boolean({default:!1}),comments:e.many("comments","agent")},discussions:{title:e.string(),category:e.string(),icon:e.string(),upvotes:e.number({index:!0,default:0}),comments:e.number({default:0})},providers:{name:e.string(),type:e.string(),baseUrl:e.string(),apiKey:e.string(),active:e.boolean(),models:e.many("models","provider")},models:{name:e.string(),provider:e.belongs("providers","models")},comments:{content:e.string(),authorName:e.string(),authorAvatar:e.string(),createdAt:e.string({index:!0}),server:e.belongs("servers","comments"),client:e.belongs("clients","comments"),agent:e.belongs("agents","comments")}});const a={servers:[{id:"ai.aliengiraffe/spotdb",name:"ai.aliengiraffe/spotdb",description:"Ephemeral data sandbox for AI workflows with guardrails and security",version:"0.1.0",packages:[{registryType:"oci",registryBaseUrl:"https://docker.io",identifier:"aliengiraffe/spotdb",version:"0.1.0",transport:{type:"stdio"},environmentVariables:[{description:"Optional API key for request authentication",format:"string",isSecret:!0,name:"X-API-Key"}]}],repository:{url:"https://github.com/aliengiraffe/spotdb",source:"github"},transports:{stdio:!0,sse:!1,streamableHTTP:!1}}],clients:[{id:"zencoder",name:"Zencoder",description:"Zencoder is a coding agent that's available as an extension for VS Code and JetBrains family of IDEs, meeting developers where they already work. It comes with RepoGrokking (deep contextual codebase understanding), agentic pipeline, and the ability to create and share custom agents.",icon:"zap",url:"https://zecoder.ai",tags:["coding","agentic","ide-integration"],favorite:!1,hots:0,commentsCount:0,hotted:!1,capabilities:{resources:!1,prompts:!1,tools:!0,discovery:!1,sampling:!1,roots:!1,elicitation:!1}}],discussions:[{id:"d1",title:"How to optimize the React Agent for complex reasoning?",category:"p/agent-react",icon:"atom",upvotes:46,comments:8},{id:"d2",title:"New feature idea: Real-time collaboration in Web UI Client",category:"p/client-webui",icon:"users",upvotes:32,comments:5},{id:"d3",title:"Is the Chain-of-Thought Reasoner production-ready?",category:"p/server-cot",icon:"workflow",upvotes:19,comments:12},{id:"d4",title:"Showcase: I built a custom data visualizer agent!",category:"p/showcase",icon:"gem",upvotes:9,comments:2},{id:"d5",title:"Best practices for using the CLI with multiple servers",category:"p/client-cli",icon:"terminal",upvotes:6,comments:4}],comments:[{id:"comment-1",content:"This server is incredibly versatile! The built-in tools are a huge time-saver for my development workflow.",authorName:"Alex Johnson",authorAvatar:"https://i.pravatar.cc/40?u=alex-j",createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),server:"default-feature-rich"},{id:"comment-2",content:"I agree, the documentation is also very clear. Had it up and running in minutes.",authorName:"Samantha Lee",authorAvatar:"https://i.pravatar.cc/40?u=samantha-l",createdAt:new Date(Date.now()-1*24*60*60*1e3).toISOString(),server:"default-feature-rich"},{id:"comment-3",content:"Is there a plan to add more data analysis tools? Would be a great addition.",authorName:"David Chen",authorAvatar:"https://i.pravatar.cc/40?u=david-c",createdAt:new Date(Date.now()-5*60*60*1e3).toISOString(),server:"default-feature-rich"},{id:"comment-4",content:"The CLI is solid, but a GUI for managing scripts would be awesome for less technical team members.",authorName:"Maria Garcia",authorAvatar:"https://i.pravatar.cc/40?u=maria-g",createdAt:new Date(Date.now()-3*24*60*60*1e3).toISOString(),client:"command-line-interface"}],users:[{id:"user",name:"You",avatar:"https://i.pravatar.cc/40?u=user-1"},{id:"assistant",name:"Assistant",avatar:"https://i.pravatar.cc/40?u=assistant"}],providers:[{id:"local",name:"Local",type:"local",baseUrl:"http://localhost:1234/v1/chat/completions"},{id:"google",name:"Google",type:"google"},{id:"openrouter",name:"OpenRouter",type:"openrouter",baseUrl:"https://openrouter.ai/api/v1"}],models:[{id:"google/gemini-2.5-pro",name:"Gemini 2.5 Pro",provider:"google"},{id:"google/gemini-2.5-flash",name:"Gemini 2.5 Flash",provider:"google"},{id:"openrouter/anthropic/claude-3.5-haiku",name:"Claude 3.5 Haiku",provider:"openrouter"},{id:"openrouter/openai/gpt-4o",name:"GPT-4o",provider:"openrouter"},{id:"openrouter/mistralai/mistral-large",name:"Mistral Large",provider:"openrouter"},{id:"openrouter/qwen/qwen2-72b-instruct",name:"Qwen 2 72B",provider:"openrouter"},{id:"local/local-model",name:"Local Model",provider:"local"}]};t.data.set(a)};
`,mimeType:"application/javascript",skipSW:!1},"/modules/apps/bundler/models/migration.js":{content:`import n from"/bootstrap.js";import e from"/modules/types/index.js";n.data.set({credentials:[{id:"singleton",owner:"meiraleal",branch:"main",repo:"brazuka.dev",token:""}]}),n.models.set({credentials:{owner:e.string(),repo:e.string(),branch:e.string({defaultValue:"main"}),token:e.string()},releases:{version:e.string({index:!0}),notes:e.string(),status:e.string({enum:["pending","success","failed"],defaultValue:"pending"}),deployedAt:e.string(),files:e.array()}});
`,mimeType:"application/javascript",skipSW:!1},"/theme.css":{content:`body{font-family:var(--font-family)}html,body{font-family:var(--theme-font-family);background-color:var(--theme-background-color)!important;color:var(--text-color)!important;width:100%;min-height:100%;height:100%;padding:0;margin:0}body:not(.production) *:not(:defined){border:1px solid red}.dark{filter:invert(1) hue-rotate(180deg)}.dark img,.dark dialog,.dark video,.dark iframe{filter:invert(1) hue-rotate(180deg)}html{font-size:14px}@media (max-width: 768px){html{font-size:18px}}@media (max-width: 480px){html{font-size:20px}}textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}:root{box-sizing:border-box;-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;line-height:1.2;-webkit-font-smoothing:antialiased}*,*:before,*:after{box-sizing:border-box}*{margin:0}body{-webkit-font-smoothing:antialiased;font-family:var(--font-family)}button,textarea,select{background-color:inherit;border-width:0;color:inherit}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{font-family:var(--font-family);overflow-wrap:break-word}dialog::backdrop{background-color:#000c}*::-webkit-scrollbar{width:8px;margin-right:10px}*::-webkit-scrollbar-track{background:transparent}*::-webkit-scrollbar-thumb{&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}border-radius:10px;border:none}*::-webkit-scrollbar-button{background:transparent;color:transparent}*{scrollbar-width:thin;scrollbar-color:transparent transparent;&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}}[full]{width:100%;height:100vh}[w-full]{width:100%}[grow]{flex-grow:1}[hide],.hide{display:none!important}[noscroll]{overflow:hidden}div [container]{display:flex}div [container][horizontal]{display:flex;flex-direction:col}
`,mimeType:"text/css",skipSW:!1},"/modules/app/container.js":{content:`export default({routes:t,T:e})=>({tag:"app-container",class:"flex flex-grow",extends:"router-ui",properties:{routes:e.object({defaultValue:t}),full:e.boolean(!0)}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/router/ui.js":{content:'export default({html:e,T:c})=>({tag:"router-ui",properties:{currentRoute:c.object({sync:"ram"})},renderRoute(t,n){const o=typeof t.component=="function"?t.component(n):t.component;return t.template?e.staticHTML`<${e.unsafeStatic(t.template)} .component=${o}>\n			</${e.unsafeStatic(t.template)}>`:o},render(){const{route:t,params:n}=this.currentRoute||{};return t?this.renderRoute(typeof t=="function"?{component:t}:t,n):e`404: Page not found`}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/apps/admin/views/template.js":{content:`export default({T:e,html:a,$APP:t})=>({tag:"admin-template",properties:{component:e.object(),horizontal:e.boolean(!0),full:e.boolean(!0),currentRoute:e.object({sync:"ram"}),class:e.string("flex")},render(){const{modules:i}=t,o=i?Object.keys(t.settings).filter(l=>t.settings[l]?.appbar).map(l=>({...t.settings[l].appbar,label:l,href:\`/admin/\${l}\`})).map(l=>a\`
              <uix-button
                label=\${l.label}
                href=\${l.href}
                icon=\${l.icon}
                hideLabel
                tooltip
                vertical
                selectable
                ghost
                iconSize="lg"
                class="w-full"
              ></uix-button>
            \`):[];return a\`
      <div class="flex flex-col flex-shrink-0 justify-between bg-gray-100">
        <uix-navbar class="w-full flex flex-col">\${o}</uix-navbar>
        <uix-navbar class="w-full flex flex-col">
          <uix-darkmode
              hideLabel               
              tooltip
              vertical
              ghost
              iconSize="lg"
              label="Dark Mode"
              class="w-full"></uix-darkmode>            
          <uix-button
          icon="settings"
          hideLabel
          tooltip
          vertical
          ghost
          iconSize="lg"
          label="Settings"
          class="w-full"></uix-button>
          </uix-navbar>
      </div>
      <div class="flex flex-1 h-full">
        \${this.component}
      </div>
    \`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/uix/display/button.js":{content:'export default({T:r})=>({tag:"uix-button",properties:{variant:r.string("default")},extends:"uix-link",style:!0,setVariant(){const{variant:t}=this;this.style.setProperty("--_variant-color-50",`var(--colors-${t}-50)`),this.style.setProperty("--_variant-color-300",`var(--colors-${t}-300)`),this.style.setProperty("--_variant-color-400",`var(--colors-${t}-400)`),this.style.setProperty("--_variant-color-500",`var(--colors-${t}-500)`),this.style.setProperty("--_variant-color-600",`var(--colors-${t}-600)`),this.style.setProperty("--_variant-color-700",`var(--colors-${t}-700)`),this.style.setProperty("--_variant-color-800",`var(--colors-${t}-800)`)},connected(){this.setVariant()},willUpdate(t){Object.keys(t).includes("variant")&&this.setVariant()}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/uix/navigation/navbar.js":{content:`export default({T:e})=>({tag:"uix-navbar",style:!0,extends:"uix-list",properties:{join:e.boolean({defaultValue:!0}),docked:e.string()}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/uix/utility/darkmode.js":{content:'export default({T:e,html:o})=>({tag:"uix-darkmode",icons:["moon","sun"],properties:{width:e.string({defaultValue:"fit"}),darkmode:e.boolean({sync:"local",defaultValue:!0})},click(t){t.stopPropagation(),this.darkmode=!this.darkmode,this.icon=this.darkmode?"sun":"moon"},willUpdate(t){Object.hasOwn(t,"darkmode")&&document.documentElement.classList.toggle("dark")},connected(){this.icon=this.darkmode?"sun":"moon",this.darkmode&&document.documentElement.classList.add("dark")},render(){return o`<button @click=${this.click.bind(this)} class="cursor-pointer w-full flex items-center p-2 rounded-md hover:bg-[#504945] text-left text-sm">\n                    <uix-icon name=${this.darkmode?"sun":"moon"} class="w-5 h-5 mr-3 shrink-0"></uix-icon>\n                    <span>${this.darkmode?"Light Mode":"Dark Mode"}</span>\n                    <div class="ml-auto w-10 h-5 ${this.darkmode?"bg-red-700":"bg-gray-600"} rounded-full flex items-center p-1 transition-colors">\n                        <div class="w-4 h-4 bg-white rounded-full transform transition-transform ${this.darkmode?"translate-x-4":""}"></div>\n                    </div>\n                </button>`}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/apps/bundler/views/ui.js":{content:`export default({T:i,html:s,$APP:t,Bundler:r})=>(t.define("credentials-manager",{class:"flex flex-col gap-4 p-4 border rounded-lg shadow-md bg-white",properties:{row:i.object()},render(){return this.row?s\`
      <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">
        GitHub Credentials
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <uix-input
          label="Owner"
          .value=\${this.row.owner}
          @change=\${e=>this.row.owner=e.target.value}
        ></uix-input>
        <uix-input
          label="Repository"
          .value=\${this.row.repo}
          @change=\${e=>this.row.repo=e.target.value}
        ></uix-input>
        <uix-input
          label="Branch"
          .value=\${this.row.branch}
          @change=\${e=>this.row.branch=e.target.value}
        ></uix-input>
        <uix-input
          label="GitHub Token"
          type="password"
          .value=\${this.row.token}
          @change=\${e=>this.row.token=e.target.value}
        ></uix-input>
      </div>
      <div class="flex justify-end">
        <uix-button
          @click=\${()=>t.Model.credentials.edit({...this.row})}
          label="Save Credentials"
        ></uix-button>
      </div>
    \`:s\`<div class="text-center p-4">Loading credentials...</div>\`}}),t.define("cloudflare-credentials-manager",{class:"flex flex-col gap-4 p-4 border rounded-lg shadow-md bg-white",properties:{row:i.object()},render(){return this.row?(this.row.cloudflare||(this.row.cloudflare={}),s\`
                <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">
                    Cloudflare Credentials
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <uix-input
                        label="Account ID"
                        .value=\${this.row.cloudflare.accountId}
                        @change=\${e=>this.row.cloudflare.accountId=e.target.value}
                    ></uix-input>
                    <uix-input
                        label="Project Name"
                        .value=\${this.row.cloudflare.projectName}
                        @change=\${e=>this.row.cloudflare.projectName=e.target.value}
                    ></uix-input>
                    <uix-input
                        class="md:col-span-2"
                        label="API Token"
                        type="password"
                        .value=\${this.row.cloudflare.apiToken}
                        @change=\${e=>this.row.cloudflare.apiToken=e.target.value}
                    ></uix-input>
                </div>
                <div class="flex justify-end">
                    <uix-button
                        @click=\${()=>t.Model.credentials.edit({...this.row,cloudflare:this.row.cloudflare})}
                        label="Save Cloudflare Credentials"
                    ></uix-button>
                </div>
            \`):s\`<div class="text-center p-4">Loading credentials...</div>\`}}),t.define("release-creator",{class:"flex flex-col gap-4 p-4 border rounded-lg shadow-md bg-white",properties:{version:i.string(\`v\${new Date().toISOString().slice(0,10)}\`),notes:i.string(""),deployMode:i.string("hybrid"),isDeploying:i.boolean(!1)},async handleDeploy(){if(this.isDeploying)return;this.isDeploying=!0;const e=await t.Model.credentials.get("singleton");if(this.deployMode==="worker"){if(!e?.cloudflare?.apiToken||!e?.cloudflare?.accountId||!e?.cloudflare?.projectName){alert("Please provide all Cloudflare credentials before deploying a worker."),this.isDeploying=!1;return}}else if(!e||!e.token){alert("Please provide a GitHub token before deploying."),this.isDeploying=!1;return}let a;try{a=await t.Model.releases.add({version:this.version,notes:this.notes,status:"pending",deployedAt:new Date,deployType:this.deployMode});const l=await r.deploy({...e,mode:this.deployMode});await t.Model.releases.edit({...a,status:"success",files:l}),alert(\`Deployment (\${this.deployMode.toUpperCase()}) successful!\`)}catch(l){console.error(\`Deployment failed for \${this.deployMode.toUpperCase()}:\`,l),alert(\`Deployment failed: \${l.message}\`),a?._id&&await t.Model.releases.edit({...a,status:"failed"})}finally{this.isDeploying=!1}},render(){return s\`
                <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">New Release</h2>
                <uix-input
                    label="Version"
                    .value=\${this.version}
                    @change=\${e=>this.version=e.target.value}
                ></uix-input>
                <uix-input
                    type="textarea"
                    label="Release Notes"
                    .value=\${this.notes}
                    @change=\${e=>this.notes=e.target.value}
                ></uix-input>
                
                    <uix-input
                        class="md:col-span-2"
                        type="checkbox"
                        label="Obfuscate"
                        ?checked=\${!!t.settings.obfuscate}
                        @change=\${e=>t.settings.obfuscate=e.target.checked}
                    ></uix-input>
                <div class="flex items-center justify-end gap-2">
                    <uix-input
                        type="select" 
                        label="Deployment Mode"
                        .value=\${this.deployMode}
                        @change=\${e=>this.deployMode=e.target.value}
                        .options=\${[{value:"spa",label:"SPA"},{value:"ssg",label:"SSG"},{value:"hybrid",label:"Hybrid"},{value:"worker",label:"Worker"}]}
                    >
                    </uix-input>
                    <uix-button
                        @click=\${()=>this.handleDeploy()}
                        label=\${this.isDeploying?\`Deploying \${this.deployMode.toUpperCase()}...\`:"Deploy"}
                        ?disabled=\${this.isDeploying}
                    ></uix-button>
                </div>
            \`}}),t.define("release-history",{class:"flex flex-col gap-4 p-4 border rounded-lg shadow-md bg-white",properties:{rows:i.array()},getStatusClass(e){switch(e){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},render(){return s\`
      <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">
        Release History
      </h2>
      <div class="flex flex-col gap-3">
        \${this.rows&&this.rows.length>0?this.rows.sort((e,a)=>new Date(a.deployedAt)-new Date(e.deployedAt)).map(e=>s\`
            <div
              class="flex flex-col p-2 rounded-md \${this.getStatusClass(e.status)}"
            >
              <div class="grid grid-cols-3 items-center gap-2">
                <div class="font-semibold">\${e.version}</div>
                <div class="flex items-center gap-2">
                  <span>\${e.status}</span>
                  \${e.deployType?s\`<span
                      class="text-xs font-mono px-2 py-1 rounded bg-gray-200 text-gray-700"
                      >\${e.deployType.toUpperCase()}</span
                    >\`:""}
                </div>
                <div class="text-sm text-right">
                  \${new Date(e.deployedAt).toLocaleString()}
                </div>
              </div>
              \${e.notes?s\`<p class="text-sm text-gray-600 pt-2">
                    \${e.notes}
                  </p>\`:""}
            </div>
          \`):s\`<p class="text-center text-gray-500">
            No releases yet.
          </p>\`}
      </div>
    \`}}),t.define("settings-editor",{class:"flex flex-col gap-4 p-4 border rounded-lg shadow-md bg-white",properties:{_settings:i.object(null)},connected(){this._settings=t.settings},async handleSave(){try{await t.settings.set(this._settings),alert("Settings saved successfully!")}catch(e){console.error("Failed to save settings:",e),alert("Error saving settings. Check the console for details.")}},render(){return this._settings?s\`
                <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">
                    App Settings
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <uix-input
                        label="App Name"
                        .value=\${this._settings.name}
                        @change=\${e=>this._settings.name=e.target.value}
                    ></uix-input>
                    <uix-input
                        label="Short Name"
                        .value=\${this._settings.short_name}
                        @change=\${e=>this._settings.short_name=e.target.value}
                    ></uix-input>
                    <uix-input
                        label="Emoji Icon"
                        .value=\${this._settings.emojiIcon}
                        @change=\${e=>this._settings.emojiIcon=e.target.value}
                    ></uix-input>
                    <uix-input
                        label="Icon"
                        .value=\${this._settings.icon}
                        @change=\${e=>this._settings.icon=e.target.value}
                    ></uix-input>
                    <uix-input
                        label="Start URL"
                        .value=\${this._settings.url}
                        @change=\${e=>this._settings.url=e.target.value}
                    ></uix-input>
                     <uix-input
                        label="Theme Color"
                        type="color" 
                        .value=\${this._settings.theme_color}
                        @change=\${e=>this._settings.theme_color=e.target.value}
                    ></uix-input>
                    <uix-input
                        class="md:col-span-2"
                        label="Open Graph Image URL"
                        .value=\${this._settings.og_image}
                        @change=\${e=>this._settings.og_image=e.target.value}
                    ></uix-input>
                    <uix-input
                        class="md:col-span-2"
                        type="textarea"
                        label="Description"
                        .value=\${this._settings.description}
                        @change=\${e=>this._settings.description=e.target.value}
                    ></uix-input>
                </div>
                <div class="flex justify-end">
                    <uix-button
                        @click=\${this.handleSave.bind(this)}
                        label="Save Settings"
                    ></uix-button>
                </div>
            \`:s\`<div class="text-center p-4">Loading settings...</div>\`}}),{tag:"bundler-ui",class:"flex flex-col gap-6 p-6 bg-gray-50 min-h-screen",render(){return s\`
                <h1 class="text-4xl font-extrabold text-gray-900">Release Manager</h1>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="flex flex-col gap-6">
                        <settings-editor></settings-editor> 
                        <credentials-manager
                            .data-query=\${{model:"credentials",id:"singleton",key:"row"}}
                        ></credentials-manager>
                        <cloudflare-credentials-manager
                            .data-query=\${{model:"credentials",id:"singleton",key:"row"}}
                        ></cloudflare-credentials-manager>
                    </div>

                    <div class="flex flex-col gap-6">
                        <release-creator></release-creator>
                    <release-history
                        .data-query=\${{model:"releases",order:"-deployedAt",key:"rows"}}
                    ></release-history>
                </div>
                </div>
            \`}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/uix/layout/list.js":{content:`export default({T:s})=>({tag:"uix-list",style:!0,properties:{multiple:s.boolean(),multipleWithCtrl:s.boolean(),multipleWithShift:s.boolean(),lastSelectedIndex:s.number(),selectedIds:s.array(),onSelectedChanged:s.function(),gap:s.string({defaultValue:"md"}),itemId:s.string(".uix-link"),selectable:s.boolean()},connected(){this.selectable&&this.addEventListener("click",this.handleClick.bind(this))},disconnected(){this.selectable&&this.removeEventListener("click",this.handleClick.bind(this))},handleClick:function(d){const e=d.target.closest(".uix-link");if(!e||!this.contains(e))return;d.preventDefault();const i=Array.from(this.qa(".uix-link")),t=i.indexOf(e);if(t!==-1){if(this.multipleWithShift&&d.shiftKey&&this.lastSelectedIndex!==null){const l=Math.min(this.lastSelectedIndex,t),c=Math.max(this.lastSelectedIndex,t);i.slice(l,c+1).forEach(n=>n.setAttribute("selected","")),this.lastSelectedIndex=t,this.updateSelectedIds();return}if(this.multipleWithCtrl){if(d.ctrlKey){e.hasAttribute("selected")?e.removeAttribute("selected"):e.setAttribute("selected",""),this.lastSelectedIndex=t,this.updateSelectedIds();return}i.forEach(l=>l.removeAttribute("selected")),e.hasAttribute("selected")?(e.removeAttribute("selected"),this.lastSelectedIndex=null):(e.setAttribute("selected",""),this.lastSelectedIndex=t),this.updateSelectedIds();return}if(this.multiple){e.hasAttribute("selected")?e.removeAttribute("selected"):e.setAttribute("selected",""),this.lastSelectedIndex=t,this.updateSelectedIds();return}e.hasAttribute("selected")?(i.forEach(l=>l.removeAttribute("selected")),this.lastSelectedIndex=null):(i.forEach(l=>l.removeAttribute("selected")),e.setAttribute("selected",""),this.lastSelectedIndex=t),this.updateSelectedIds()}},updateSelectedIds(){const d=Array.from(this.qa(this.itemId));this.selectedIds=d.reduce((e,i,t)=>(i.hasAttribute("selected")&&e.push(t),e),[]),this.onSelectedChanged&&this.onSelectedChanged(this.selectedIds)}});
`,mimeType:"application/javascript",skipSW:!1},"/modules/uix/display/link.js":{content:'export default({T:t,html:n,Router:o})=>({tag:"uix-link",style:!0,properties:{content:t.object(),context:t.object(),external:t.boolean(),selectable:t.boolean(),skipRoute:t.boolean(),hideLabel:t.boolean(),accordion:t.boolean(),float:t.object(),tab:t.boolean(),tooltip:t.boolean(),dropdown:t.boolean(),direction:t.string(),name:t.string(),alt:t.string(),label:t.string(),type:t.string(),href:t.string(),related:t.string(),icon:t.string(),active:t.boolean(),reverse:t.boolean(),vertical:t.boolean(),selected:t.boolean(),floatOpen:t.boolean(),click:t.function(),confirmation:t.string()},connected(){this.boundHandleOutsideClick=this.handleOutsideClick.bind(this),this.boundHandleEscKey=this.handleEscKey.bind(this),this.context&&this.addEventListener("contextmenu",this.handleContextMenu)},disconnected(){this.removeEventListener("contextmenu",this.handleContextMenu),this._removeGlobalListeners()},_addGlobalListeners(){setTimeout(()=>{document.addEventListener("click",this.boundHandleOutsideClick),document.addEventListener("keydown",this.boundHandleEscKey)},0)},_removeGlobalListeners(){document.removeEventListener("click",this.boundHandleOutsideClick),document.removeEventListener("keydown",this.boundHandleEscKey)},closeAllPopups(){let e=!1;this.hasAttribute("selected")&&(this.removeAttribute("selected"),e=!0);const i=this.q("[context]");i?.hasAttribute("open")&&(i.removeAttribute("open"),e=!0),this.hasAttribute("floatOpen")&&(this.removeAttribute("floatOpen"),e=!0),e&&this._removeGlobalListeners()},defaultOnClick(e){if(e.ctrlKey||e.metaKey||e.shiftKey||e.button===1)return;const i=e.currentTarget,s=this.href&&i.origin===window.location.origin&&!this.external,l=this.dropdown||this.accordion||this.tab;if((!this.href||s||l||this.float)&&e.preventDefault(),this.float){this.toggleAttribute("floatOpen"),this.hasAttribute("floatOpen")?this._addGlobalListeners():this._removeGlobalListeners();return}if(s&&!this.skipRoute){const a=[i.pathname,i.search].filter(Boolean).join("");l?o.push(a):o.go(a);return}this.click&&this.type!=="submit"&&(this.confirmation?window.confirm(this.confirmation)&&this.click(e):this.click(e),e.stopImmediatePropagation()),this.dropdown&&(this.toggleAttribute("selected"),this.hasAttribute("selected")?this._addGlobalListeners():this._removeGlobalListeners())},handleContextMenu(e){e.preventDefault();const i=this.q("[context]");i&&(i.toggleAttribute("open"),i.hasAttribute("open")?this._addGlobalListeners():this._removeGlobalListeners())},handleOutsideClick(e){const i=this.q("[dropdown], [context], [float]")?.contains(e.target)&&e.target.closest("a");(!this.contains(e.target)||i)&&this.closeAllPopups()},handleEscKey(e){e.key==="Escape"&&(e.preventDefault(),this.closeAllPopups())},render(){return n`<a\n            class=${this.icon?"uix-text-icon__element":void 0}\n            content\n            href=${this.href}\n            @click=${this.defaultOnClick.bind(this)}\n            related=${this.related}\n            name=${this.name||this.label||this.alt}\n            alt=${this.alt||this.label||this.name}\n        >\n            ${this.icon?n`<uix-icon\n                          name=${this.icon}\n                          alt=${this.alt||this.label||this.name}\n                          size=${this.iconSize||this.size}\n                      ></uix-icon>`:""}\n            ${this.hideLabel?null:this.label}\n        </a>\n        ${this.dropdown?n`<div dropdown>${this.dropdown}</div>`:null}\n        ${this.context?n`<div context>${this.context}</div>`:null}\n        ${this.accordion?n`<div accordion>${this.accordion}</div>`:null}\n        ${this.tooltip?n`<div tooltip>${this.tooltip===!0?this.label:this.tooltip}</div>`:null}\n        ${this.float?n`<div float>${this.float}</div>`:null}\n    `}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/uix/display/icon.js":{content:'export default({T:s,html:n,$APP:l,Icons:i,theme:o})=>({tag:"uix-icon",style:!0,properties:{name:s.string(),svg:s.string(),solid:s.boolean()},async getIcon(t){if(i.has(t))this.svg=i.get(t);else try{const e=await fetch(l.fs.getFilePath(`modules/icon-${o.font.icon.family}/${o.font.icon.family}/${t}.svg`));if(e.ok){const r=await e.text();i.set(t,r),this.svg=r}else console.error(`Failed to fetch icon: ${t}`)}catch(e){console.error(`Error fetching icon: ${t}`,e)}},willUpdate(){this.name&&this.getIcon(this.name)},render(){return this.svg?n.unsafeHTML(this.svg):null}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/uix/form/input.js":{content:'import{ifDefined as a}from"/modules/mvc/view/html/directive.js";const x={string:"text"};let V=0;export default({T:i,html:s})=>({tag:"uix-input",style:!0,properties:{bind:i.object({attribute:!1}),autofocus:i.boolean(),value:i.string(),placeholder:i.string(),name:i.string(),label:i.string(),disabled:i.boolean(),required:i.boolean(),type:i.string({defaultValue:"text",enum:["text","textarea","select","password","email","number","decimal","search","tel","url","checkbox","radio"]}),options:i.array({defaultValue:[]}),checked:i.boolean(),selected:i.boolean(),regex:i.string(),maxLength:i.string(),rows:i.number({defaultValue:4}),keydown:i.function(),input:i.function(),icon:i.string()},formAssociated:!0,formResetCallback(){const e=this.getInput();e&&(["submit","button","reset"].includes(e.type)||(e.value=this._defaultValue||""),["radio","checkbox","switch"].includes(e.type)&&(e.checked=this._defaultValue||!1),this.value=this.isCheckable?e.checked:e.value,this._updateHasValue())},formDisabledCallback(e){const t=this.getInput();t&&(t.disabled=e)},formStateRestoreCallback(e){const t=this.getInput();t&&(t.value=e),this.value=e,this._updateHasValue()},reportValidity(){const e=this.getInput();if(!e)return!0;const t=e.reportValidity()!==!1;return e?.classList.toggle("input-error",!t),t},getInput(){return this.$input||(this.$input=this.querySelector("input, select, textarea"),this.$input&&this._internals.setValidity(this.$input.validity,this.$input.validationMessage,this.$input)),this.$input},connected(){this._internals=this.attachInternals(),this.fieldId=`uix-input-${++V}`,this.isCheckable=this.type==="checkbox"||this.type==="radio",this.name||(this.name=this.label?`uix-input-${this.label.toLowerCase().replace(/\\s+/g,"-")}`:this.fieldId),this.placeholder=this.placeholder||" ",this.bind&&(this.value=this.bind.value,this.bind.instance&&this.bind.instance.on(`${this.bind.prop}Changed`,({value:e})=>{this.setValue(e)})),this._updateHasValue()},_updateHasValue(){if(this.isCheckable){this.classList.remove("has-value");return}const e=this.value!==null&&this.value!==void 0&&this.value!=="";this.classList.toggle("has-value",e)},_onInput(e){const{target:t}=e,l=this.isCheckable?t.checked:t.value;this.value!==l&&(this.value=l,this._updateHasValue(),this.bind&&this.bind.setValue(this.value),this.input&&this.input(e))},inputValue(){const e=this.getInput();return e?this.isCheckable?e.checked:e.value:void 0},setValue(e){const t=this.getInput();t&&(this.isCheckable?t.checked=!!e:t.value=e),this.bind&&(this.bind.value=e),this.value=e,this._updateHasValue(),this.requestUpdate()},resetValue(){const e=this.getInput();e&&(this.isCheckable?e.checked=!1:e.value=""),this.value=this.isCheckable?!1:"",this.bind&&(this.bind.value=this.value),this._updateHasValue(),this.requestUpdate()},render(){const{fieldId:e,name:t,type:l,label:p,value:u="",placeholder:h,rows:v,regex:g,autofocus:c,required:d,disabled:o,maxLength:b,keydown:$,icon:f,options:k}=this;let r;switch(l){case"textarea":r=s`\n                    <textarea\n                        id=${e}\n                        name=${t}\n                        placeholder=${a(h)}\n                        ?autofocus=${c}\n                        ?disabled=${o}\n                        ?required=${d}\n                        maxLength=${a(b)}\n                        @input=${this._onInput.bind(this)}\n                        @keydown=${a($)}\n                        rows=${v}\n                    >${u}</textarea>`;break;case"select":r=s`\n									<div class="select-container">\n											<select\n												id=${e}\n												name=${t}\n												value=${u}\n												?disabled=${o}\n												?required=${d}\n												?autofocus=${c}\n												@change=${this._onInput.bind(this)}>\n													${h&&!u?s`<option value="" disabled selected hidden>${h}</option>`:""}\n													${k.map(n=>s`\n															<option value=${n.value??n} ?selected=${(n.value??n)===this.value}>\n																	${n.label??n}\n															</option>\n													`)}\n											</select>\n											<uix-icon name="chevron-down" class="select-arrow"></uix-icon>\n										</div>\n										`;break;default:r=s`\n                    <input\n                        id=${e}\n                        name=${t}\n                        type=${x[l]||l}\n                        .value=${u}\n                        placeholder=${a(h)}\n                        ?autofocus=${c}\n                        maxLength=${a(b)}\n                        @input=${this._onInput.bind(this)}\n                        @keydown=${a($)}\n                        ?disabled=${o}\n                        ?required=${d}\n                        pattern=${a(g)}\n                        ?checked=${this.isCheckable&&!!this.value}\n                    />`;break}return s`\n            ${p?s`<label for=${e} ?required=${d}>${p}</label>`:""}\n            ${r}\n            ${f?s`<uix-icon name=${f} class="input-icon"></uix-icon>`:""}\n        `}});\n',mimeType:"application/javascript",skipSW:!1},"/modules/uix/layout/list.css":{content:`.uix-list{display:flex;&[vertical]{flex-direction:column}}
`,mimeType:"text/css",skipSW:!1},"/modules/uix/navigation/navbar.css":{content:`.uix-navbar{--uix-navbar-text-color: var(--color-default-90);--uix-navbar-hover-text-color: var(--color-surface-80);--uix-navbar-border-radius: 0px;--uix-navbar-border-color: var(--color-default-60);--uix-navbar-border-size: 1px;--uix-navbar-border-style: solid;--uix-navbar-hover-background-color: var(--color-default-40);--uix-container-position: var(--uix-navbar-position);display:flex;flex-direction:column;&[docked]{--uix-list-button-radius: 0;border-bottom:0;position:fixed;bottom:0;background-color:var(--uix-navbar-background-color, var(--color-default-5));>*{border-right:0;border-bottom:0;&:first-child{border-left:0}}}}
`,mimeType:"text/css",skipSW:!1},"/modules/uix/display/icon.css":{content:`:where(.uix-icon){display:inline-block;vertical-align:middle;width:1rem;height:1rem;svg{height:inherit;width:inherit}&[solid]{stroke:currentColor;fill:currentColor}}
`,mimeType:"text/css",skipSW:!1},"/modules/uix/display/link.css":{content:`:where(.uix-link){font-weight:var(--uix-link-font-weight, 600);width:var(--uix-link-width, auto);color:var(--uix-link-text-color, var(--colors-default-900));--uix-link-indent: 0;cursor:pointer;&[vertical]{margin:0 auto}a,button{width:inherit;cursor:pointer;padding:var(--uix-link-padding);&:hover{color:var(--uix-link-hover-color, var(--uix-link-text-color))}}.uix-text-icon__element{display:flex;align-items:center;gap:var(--uix-link-icon-gap, .5rem);&[reverse][vertical]{flex-direction:column-reverse}&:not([reverse])[vertical]{flex-direction:column}&[reverse]:not([vertical]){flex-direction:row-reverse}&:not([reverse]):not([vertical]){flex-direction:row}}transition:all .3s ease-in-out;&[indent]{>a,>button{padding-left:var(--uix-link-indent)}}&[active]:hover{color:var(--uix-link-hover-text-color, var(--colors-primary-400))}&[selectable][selected]{background-color:var(--colors-primary-400)}&:hover{[tooltip]{display:flex}}&[tooltip]{display:inline-block;&:hover{[tooltip]{visibility:visible}}[tooltip]{visibility:hidden;width:120px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;margin-left:3px;position:absolute;z-index:1000000000;top:50%;left:100%;transform:translateY(-50%)}}&[position~=top] [tooltip]{bottom:100%;left:50%;transform:translate(-50%)}&[position~=bottom] [tooltip]{top:100%;left:50%;transform:translate(-50%)}&[position~=left] [tooltip]{top:50%;right:100%;transform:translateY(-50%)}&[tooltip],&[dropdown],&[context],&[float]{position:relative}&[dropdown],&[accordion]{flex-direction:column}[float],[dropdown],[accordion],[context]{display:none}&[floatopen]>a{display:none}&[floatopen] [float]{display:block;position:relative;bottom:0;right:0}&[context]{z-index:auto}[context][open]{display:flex;flex-direction:column}[dropdown],[context][open]{position:absolute;left:0;top:100%;width:100%;min-width:200px;z-index:1000;background-color:var(--colors-primary-100);box-shadow:0 8px 16px #0003;.uix-link:hover,input{background-color:var(--colors-primary-200)}>.uix-link{width:100%}}[context][open]{display:flex}&[selected]{[dropdown],[accordion]{display:flex;flex-direction:column}}}
`,mimeType:"text/css",skipSW:!1},"/modules/uix/display/button.css":{content:`:where(.uix-button){border:var(--uix-button-borderSize, 0) solid var(--uix-button-borderColor);border-radius:var(--uix-button-borderRadius, var(--radius-md));box-shadow:var(--uix-button-shadow);width:var(--uix-button-width);min-width:fit-content;background-color:var(--uix-button-backgroundColor, black);color:var(--uix-button-textColor, var(--colors-default-100));font-weight:var(--uix-button-fontWeight, 700);display:flex;text-align:center;transition:transform .2s ease-in-out,opacity .2s ease-in-out,background-color .2s ease-in-out;&:hover{opacity:var(--uix-button-hover-opacity, .4)}&:active{transform:scale(.97)}>button,>a,>input{width:max-content;display:block;border-radius:inherit;cursor:var(--uix-button-cursor, pointer);height:calc(var(--spacing) * 10);line-height:calc(var(--spacing) * 5);padding:var( --uix-button-padding, calc(var(--spacing) * 2.5) calc(var(--spacing) * 4) );word-break:keep-all;flex-basis:100%}.uix-icon,button,input,a{cursor:pointer}&[bordered]{--uix-button-border-size: 1px;--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderColor: var(--_variant-color-400);--uix-button-textColor: var(--_variant-color-700)}&[ghost]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderSize: 0px;--uix-button-textColor: var(--_variant-color-700)}&[outline]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-textColor: var(--_variant-color-800);--uix-button-borderSize: 1px;--uix-button-borderColor: var(--_variant-color-400)}&[float]{background-color:#000;--uix-button-hoverBackgroundColor: var(--_variant-color-500);--uix-button-textColor: var(--_variant-color-50);--uix-button-borderSize: 0px;--uix-button-borderRadius: 9999px;--uix-button-width: var(--uix-button-height);box-shadow:var(--shadow-md, 0 4px 6px -1px rgb(0 0 0 / .1));--uix-button-padding: .5rem}&[float]:hover{box-shadow:var(--shadow-lg, 0 10px 15px -3px rgb(0 0 0 / .1))}}
`,mimeType:"text/css",skipSW:!1},"/modules/uix/form/input.css":{content:`:where(.uix-input){--uix-input-background-color: var(--colors-surface-100);--uix-input-border-color: var(--colors-gray-900);--uix-input-text-color: var(--colors-gray-900);--uix-input-placeholder-color: var(--colors-default-500);--uix-input-border-radius: var(--border-radius-md);--uix-input-border-width: 2px;--uix-input-padding-x: calc(var(--spacing) * 4);--uix-input-padding-y: calc(var(--spacing) * 2.5);--uix-input-font-size: var(--font-size-base);--uix-input-height: 2.5rem;--uix-input-disabled-opacity: .6;--uix-input-label-font-size: var(--font-size-sm);--uix-input-label-font-weight: var(--font-weight-bold);--uix-input-label-color: var(--colors-default-700);--uix-input-checkbox-size: 1.5rem;--uix-input-checkbox-border-radius: var(--border-radius-sm);--uix-input-checkbox-checked-bg: var(--colors-primary-600);--uix-input-checkbox-check-color: var(--colors-surface-100);width:100%;display:flex;flex-direction:column;input,select,textarea{width:100%;height:var(--uix-input-height);border-radius:var(--uix-input-border-radius);border:var(--uix-input-border-width) solid var(--uix-input-border-color);font-size:var(--uix-input-font-size);background-color:var(--uix-input-background-color);color:var(--uix-input-text-color);transition:var(--uix-transition);outline:none;padding:var(--uix-input-padding-y) var(--uix-input-padding-x)}textarea{resize:vertical}&:has(textarea){height:auto}select{appearance:none;-webkit-appearance:none;cursor:pointer;font-weight:600;padding-block:0;option{font-weight:600;background-color:var(--uix-input-background-color);font-size:1.1rem;line-height:1.5rem;color:#333;padding:50px;border:2px solid red}}.select-container{position:relative;.select-arrow{position:absolute;right:calc(2 * var(--spacing))}}input::placeholder{color:transparent}label{font-weight:var(--uix-input-label-font-weight);color:var(--uix-input-label-color, var(--colors-gray-600));margin-bottom:var(--spacing);font-size:.9rem;padding:0 4px;transition:all .2s ease-in-out;pointer-events:none;&[required]:after{content:"*";color:var(--colors-danger-500);margin-left:2px}}input:not(:placeholder-shown)+label,textarea:not(:placeholder-shown)+label,&:focus-within label,&.has-value label{top:-2px;transform:translateY(0);font-size:var(--uix-input-label-font-size)}&:focus-within input,&:focus-within select,&:focus-within textarea{box-shadow:0 0 var(--uix-input-focus-ring-width, 5px) var(--uix-input-focus-ring-color, rgba(0, 0, 255, .5))}&[disabled]{cursor:not-allowed;opacity:var(--uix-input-disabled-opacity);& label{cursor:not-allowed}}.input-icon,.select-arrow{position:absolute;top:50%;right:var(--spacing);transform:translateY(-50%);pointer-events:none;color:var(--uix-input-label-color);transition:transform .2s ease-in-out}&:has(select:hover:active) .select-arrow{transform:translateY(-50%) rotate(180deg)}&:has(.input-icon:not(.select-arrow))>input{padding-right:calc(var(--uix-input-padding-x) + 1.75em)}&[type=checkbox],&[type=radio]{flex-direction:row;align-items:center;border:0;height:auto;width:auto;background-color:transparent;box-shadow:none;gap:.75rem;cursor:pointer;label{margin:0;line-height:1.5rem;position:static;transform:none;background-color:transparent;padding:0;cursor:pointer;font-weight:var(--font-weight-normal);order:2;pointer-events:auto}input{appearance:none;-webkit-appearance:none;width:var(--uix-input-checkbox-size);height:var(--uix-input-checkbox-size);margin:0;border:var(--uix-input-border-width) solid var(--uix-input-border-color);background-color:var(--uix-input-background-color);cursor:pointer;position:relative;transition:var(--uix-transition);padding:0;&:after{content:"";position:absolute;display:none;left:50%;top:50%}&:checked{background-color:var(--uix-input-checkbox-checked-bg);border-color:var(--uix-input-checkbox-checked-bg);&:after{display:block}}&:focus-visible{box-shadow:0 0 0 var(--uix-input-focus-ring-width) var(--uix-input-focus-ring-color);border-color:var(--uix-input-focus-ring-color)}}}&[type=checkbox] input:after{width:.375rem;height:.75rem;border:solid var(--uix-input-checkbox-check-color);border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}&[type=radio] input{border-radius:var(--border-radius-full);&:after{width:calc(var(--uix-input-checkbox-size) / 2);height:calc(var(--uix-input-checkbox-size) / 2);border-radius:var(--border-radius-full);background-color:var(--uix-input-checkbox-check-color);transform:translate(-50%,-50%)}}&[ghost]{&:focus-within select{box-shadow:none}.select-arrow{margin-left:5px;padding-left:5px}select{background:inherit;border:0}}}
`,mimeType:"text/css",skipSW:!1},"/modules/icon-lucide/lucide/sun.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/cog.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 20a8 8 0 1 0 0-16a8 8 0 0 0 0 16"/><path d="M12 14a2 2 0 1 0 0-4a2 2 0 0 0 0 4m0-12v2m0 18v-2m5 .66l-1-1.73m-5-8.66L7 3.34M20.66 17l-1.73-1M3.34 7l1.73 1M14 12h8M2 12h2m16.66-5l-1.73 1M3.34 17l1.73-1M17 3.34l-1 1.73m-5 8.66l-4 6.93"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/square-mouse-pointer.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z"/><path d="M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/server-cog.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5m-15 4H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5M6 6h.01M6 18h.01m9.69-4.6l-.9-.3m-5.6-2.2l-.9-.3m2.3 5.1l.3-.9m2.7.9l-.4-1m-2.4-5.4l-.4-1m-2.1 5.3l1-.4m5.4-2.4l1-.4m-2.3-2.1l-.3.9"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/bot-message-square.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V2H8m0 16l-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Zm-6-6h2m5-1v2m6-2v2m5-1h2"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/settings.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2"/><circle cx="12" cy="12" r="3"/></g></svg>',mimeType:"image/svg+xml",skipSW:!1},"/modules/icon-lucide/lucide/chevron-down.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6 9l6 6l6-6"/></svg>',mimeType:"image/svg+xml",skipSW:!1},"/style.css":{content:`@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk79FN_P-bnBeA.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk79FN_G-bnBeA.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk79FN_B-bnBeA.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk79FN_N-bnBeA.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk79FN_M-bnBeA.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk79FN_C-bk.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--un-bg-opacity:100%;--un-translate-x:initial;--un-translate-y:initial;--un-translate-z:initial;--un-text-opacity:100%;--un-border-opacity:100%;--un-space-x-reverse:initial;--un-space-y-reverse:initial;--un-leading:initial;--un-ring-opacity:100%;--un-placeholder-opacity:100%}}@property --un-text-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-leading{syntax:"*";inherits:false;}@property --un-border-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-bg-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-ring-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-inset-ring-color{syntax:"*";inherits:false;}@property --un-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-inset-shadow-color{syntax:"*";inherits:false;}@property --un-ring-color{syntax:"*";inherits:false;}@property --un-ring-inset{syntax:"*";inherits:false;}@property --un-ring-offset-color{syntax:"*";inherits:false;}@property --un-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0px;}@property --un-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-shadow-color{syntax:"*";inherits:false;}@property --un-translate-x{syntax:"*";inherits:false;initial-value:0;}@property --un-translate-y{syntax:"*";inherits:false;initial-value:0;}@property --un-translate-z{syntax:"*";inherits:false;initial-value:0;}@property --un-placeholder-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-space-x-reverse{syntax:"*";inherits:false;initial-value:0;}@property --un-space-y-reverse{syntax:"*";inherits:false;initial-value:0;}:root,:host{--spacing: .25rem;--font-sans: "Manrope",ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-serif: ui-serif,Georgia,Cambria,"Times New Roman",Times,serif;--font-mono: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--font-family: "Manrope", -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif;--font-icon-family: lucide;--colors-black: #000;--colors-white: #fff;--colors-slate-50: oklch(98.4% .003 247.858);--colors-slate-100: oklch(96.8% .007 247.896);--colors-slate-200: oklch(92.9% .013 255.508);--colors-slate-300: oklch(86.9% .022 252.894);--colors-slate-400: oklch(70.4% .04 256.788);--colors-slate-500: oklch(55.4% .046 257.417);--colors-slate-600: oklch(44.6% .043 257.281);--colors-slate-700: oklch(37.2% .044 257.287);--colors-slate-800: oklch(27.9% .041 260.031);--colors-slate-900: oklch(20.8% .042 265.755);--colors-slate-950: oklch(12.9% .042 264.695);--colors-slate-DEFAULT: oklch(70.4% .04 256.788);--colors-gray-50: oklch(98.5% .002 247.839);--colors-gray-100: oklch(96.7% .003 264.542);--colors-gray-200: oklch(92.8% .006 264.531);--colors-gray-300: oklch(87.2% .01 258.338);--colors-gray-400: oklch(70.7% .022 261.325);--colors-gray-500: oklch(55.1% .027 264.364);--colors-gray-600: oklch(44.6% .03 256.802);--colors-gray-700: oklch(37.3% .034 259.733);--colors-gray-800: oklch(27.8% .033 256.848);--colors-gray-900: oklch(21% .034 264.665);--colors-gray-950: oklch(13% .028 261.692);--colors-gray-DEFAULT: oklch(70.7% .022 261.325);--colors-zinc-50: oklch(98.5% 0 0);--colors-zinc-100: oklch(96.7% .001 286.375);--colors-zinc-200: oklch(92% .004 286.32);--colors-zinc-300: oklch(87.1% .006 286.286);--colors-zinc-400: oklch(70.5% .015 286.067);--colors-zinc-500: oklch(55.2% .016 285.938);--colors-zinc-600: oklch(44.2% .017 285.786);--colors-zinc-700: oklch(37% .013 285.805);--colors-zinc-800: oklch(27.4% .006 286.033);--colors-zinc-900: oklch(21% .006 285.885);--colors-zinc-950: oklch(14.1% .005 285.823);--colors-zinc-DEFAULT: oklch(70.5% .015 286.067);--colors-neutral-50: oklch(98.5% 0 0);--colors-neutral-100: oklch(97% 0 0);--colors-neutral-200: oklch(92.2% 0 0);--colors-neutral-300: oklch(87% 0 0);--colors-neutral-400: oklch(70.8% 0 0);--colors-neutral-500: oklch(55.6% 0 0);--colors-neutral-600: oklch(43.9% 0 0);--colors-neutral-700: oklch(37.1% 0 0);--colors-neutral-800: oklch(26.9% 0 0);--colors-neutral-900: oklch(20.5% 0 0);--colors-neutral-950: oklch(14.5% 0 0);--colors-neutral-DEFAULT: oklch(70.8% 0 0);--colors-stone-50: oklch(98.5% .001 106.423);--colors-stone-100: oklch(97% .001 106.424);--colors-stone-200: oklch(92.3% .003 48.717);--colors-stone-300: oklch(86.9% .005 56.366);--colors-stone-400: oklch(70.9% .01 56.259);--colors-stone-500: oklch(55.3% .013 58.071);--colors-stone-600: oklch(44.4% .011 73.639);--colors-stone-700: oklch(37.4% .01 67.558);--colors-stone-800: oklch(26.8% .007 34.298);--colors-stone-900: oklch(21.6% .006 56.043);--colors-stone-950: oklch(14.7% .004 49.25);--colors-stone-DEFAULT: oklch(70.9% .01 56.259);--colors-red-50: oklch(97.1% .013 17.38);--colors-red-100: oklch(93.6% .032 17.717);--colors-red-200: oklch(88.5% .062 18.334);--colors-red-300: oklch(80.8% .114 19.571);--colors-red-400: oklch(70.4% .191 22.216);--colors-red-500: oklch(63.7% .237 25.331);--colors-red-600: oklch(57.7% .245 27.325);--colors-red-700: oklch(50.5% .213 27.518);--colors-red-800: oklch(44.4% .177 26.899);--colors-red-900: oklch(39.6% .141 25.723);--colors-red-950: oklch(25.8% .092 26.042);--colors-red-DEFAULT: oklch(70.4% .191 22.216);--colors-orange-50: oklch(98% .016 73.684);--colors-orange-100: oklch(95.4% .038 75.164);--colors-orange-200: oklch(90.1% .076 70.697);--colors-orange-300: oklch(83.7% .128 66.29);--colors-orange-400: oklch(75% .183 55.934);--colors-orange-500: oklch(70.5% .213 47.604);--colors-orange-600: oklch(64.6% .222 41.116);--colors-orange-700: oklch(55.3% .195 38.402);--colors-orange-800: oklch(47% .157 37.304);--colors-orange-900: oklch(40.8% .123 38.172);--colors-orange-950: oklch(26.6% .079 36.259);--colors-orange-DEFAULT: oklch(75% .183 55.934);--colors-amber-50: oklch(98.7% .022 95.277);--colors-amber-100: oklch(96.2% .059 95.617);--colors-amber-200: oklch(92.4% .12 95.746);--colors-amber-300: oklch(87.9% .169 91.605);--colors-amber-400: oklch(82.8% .189 84.429);--colors-amber-500: oklch(76.9% .188 70.08);--colors-amber-600: oklch(66.6% .179 58.318);--colors-amber-700: oklch(55.5% .163 48.998);--colors-amber-800: oklch(47.3% .137 46.201);--colors-amber-900: oklch(41.4% .112 45.904);--colors-amber-950: oklch(27.9% .077 45.635);--colors-amber-DEFAULT: oklch(82.8% .189 84.429);--colors-yellow-50: oklch(98.7% .026 102.212);--colors-yellow-100: oklch(97.3% .071 103.193);--colors-yellow-200: oklch(94.5% .129 101.54);--colors-yellow-300: oklch(90.5% .182 98.111);--colors-yellow-400: oklch(85.2% .199 91.936);--colors-yellow-500: oklch(79.5% .184 86.047);--colors-yellow-600: oklch(68.1% .162 75.834);--colors-yellow-700: oklch(55.4% .135 66.442);--colors-yellow-800: oklch(47.6% .114 61.907);--colors-yellow-900: oklch(42.1% .095 57.708);--colors-yellow-950: oklch(28.6% .066 53.813);--colors-yellow-DEFAULT: oklch(85.2% .199 91.936);--colors-lime-50: oklch(98.6% .031 120.757);--colors-lime-100: oklch(96.7% .067 122.328);--colors-lime-200: oklch(93.8% .127 124.321);--colors-lime-300: oklch(89.7% .196 126.665);--colors-lime-400: oklch(84.1% .238 128.85);--colors-lime-500: oklch(76.8% .233 130.85);--colors-lime-600: oklch(64.8% .2 131.684);--colors-lime-700: oklch(53.2% .157 131.589);--colors-lime-800: oklch(45.3% .124 130.933);--colors-lime-900: oklch(40.5% .101 131.063);--colors-lime-950: oklch(27.4% .072 132.109);--colors-lime-DEFAULT: oklch(84.1% .238 128.85);--colors-green-50: oklch(98.2% .018 155.826);--colors-green-100: oklch(96.2% .044 156.743);--colors-green-200: oklch(92.5% .084 155.995);--colors-green-300: oklch(87.1% .15 154.449);--colors-green-400: oklch(79.2% .209 151.711);--colors-green-500: oklch(72.3% .219 149.579);--colors-green-600: oklch(62.7% .194 149.214);--colors-green-700: oklch(52.7% .154 150.069);--colors-green-800: oklch(44.8% .119 151.328);--colors-green-900: oklch(39.3% .095 152.535);--colors-green-950: oklch(26.6% .065 152.934);--colors-green-DEFAULT: oklch(79.2% .209 151.711);--colors-emerald-50: oklch(97.9% .021 166.113);--colors-emerald-100: oklch(95% .052 163.051);--colors-emerald-200: oklch(90.5% .093 164.15);--colors-emerald-300: oklch(84.5% .143 164.978);--colors-emerald-400: oklch(76.5% .177 163.223);--colors-emerald-500: oklch(69.6% .17 162.48);--colors-emerald-600: oklch(59.6% .145 163.225);--colors-emerald-700: oklch(50.8% .118 165.612);--colors-emerald-800: oklch(43.2% .095 166.913);--colors-emerald-900: oklch(37.8% .077 168.94);--colors-emerald-950: oklch(26.2% .051 172.552);--colors-emerald-DEFAULT: oklch(76.5% .177 163.223);--colors-teal-50: oklch(98.4% .014 180.72);--colors-teal-100: oklch(95.3% .051 180.801);--colors-teal-200: oklch(91% .096 180.426);--colors-teal-300: oklch(85.5% .138 181.071);--colors-teal-400: oklch(77.7% .152 181.912);--colors-teal-500: oklch(70.4% .14 182.503);--colors-teal-600: oklch(60% .118 184.704);--colors-teal-700: oklch(51.1% .096 186.391);--colors-teal-800: oklch(43.7% .078 188.216);--colors-teal-900: oklch(38.6% .063 188.416);--colors-teal-950: oklch(27.7% .046 192.524);--colors-teal-DEFAULT: oklch(77.7% .152 181.912);--colors-cyan-50: oklch(98.4% .019 200.873);--colors-cyan-100: oklch(95.6% .045 203.388);--colors-cyan-200: oklch(91.7% .08 205.041);--colors-cyan-300: oklch(86.5% .127 207.078);--colors-cyan-400: oklch(78.9% .154 211.53);--colors-cyan-500: oklch(71.5% .143 215.221);--colors-cyan-600: oklch(60.9% .126 221.723);--colors-cyan-700: oklch(52% .105 223.128);--colors-cyan-800: oklch(45% .085 224.283);--colors-cyan-900: oklch(39.8% .07 227.392);--colors-cyan-950: oklch(30.2% .056 229.695);--colors-cyan-DEFAULT: oklch(78.9% .154 211.53);--colors-sky-50: oklch(97.7% .013 236.62);--colors-sky-100: oklch(95.1% .026 236.824);--colors-sky-200: oklch(90.1% .058 230.902);--colors-sky-300: oklch(82.8% .111 230.318);--colors-sky-400: oklch(74.6% .16 232.661);--colors-sky-500: oklch(68.5% .169 237.323);--colors-sky-600: oklch(58.8% .158 241.966);--colors-sky-700: oklch(50% .134 242.749);--colors-sky-800: oklch(44.3% .11 240.79);--colors-sky-900: oklch(39.1% .09 240.876);--colors-sky-950: oklch(29.3% .066 243.157);--colors-sky-DEFAULT: oklch(74.6% .16 232.661);--colors-blue-50: oklch(97% .014 254.604);--colors-blue-100: oklch(93.2% .032 255.585);--colors-blue-200: oklch(88.2% .059 254.128);--colors-blue-300: oklch(80.9% .105 251.813);--colors-blue-400: oklch(70.7% .165 254.624);--colors-blue-500: oklch(62.3% .214 259.815);--colors-blue-600: oklch(54.6% .245 262.881);--colors-blue-700: oklch(48.8% .243 264.376);--colors-blue-800: oklch(42.4% .199 265.638);--colors-blue-900: oklch(37.9% .146 265.522);--colors-blue-950: oklch(28.2% .091 267.935);--colors-blue-DEFAULT: oklch(70.7% .165 254.624);--colors-indigo-50: oklch(96.2% .018 272.314);--colors-indigo-100: oklch(93% .034 272.788);--colors-indigo-200: oklch(87% .065 274.039);--colors-indigo-300: oklch(78.5% .115 274.713);--colors-indigo-400: oklch(67.3% .182 276.935);--colors-indigo-500: oklch(58.5% .233 277.117);--colors-indigo-600: oklch(51.1% .262 276.966);--colors-indigo-700: oklch(45.7% .24 277.023);--colors-indigo-800: oklch(39.8% .195 277.366);--colors-indigo-900: oklch(35.9% .144 278.697);--colors-indigo-950: oklch(25.7% .09 281.288);--colors-indigo-DEFAULT: oklch(67.3% .182 276.935);--colors-violet-50: oklch(96.9% .016 293.756);--colors-violet-100: oklch(94.3% .029 294.588);--colors-violet-200: oklch(89.4% .057 293.283);--colors-violet-300: oklch(81.1% .111 293.571);--colors-violet-400: oklch(70.2% .183 293.541);--colors-violet-500: oklch(60.6% .25 292.717);--colors-violet-600: oklch(54.1% .281 293.009);--colors-violet-700: oklch(49.1% .27 292.581);--colors-violet-800: oklch(43.2% .232 292.759);--colors-violet-900: oklch(38% .189 293.745);--colors-violet-950: oklch(28.3% .141 291.089);--colors-violet-DEFAULT: oklch(70.2% .183 293.541);--colors-purple-50: oklch(97.7% .014 308.299);--colors-purple-100: oklch(94.6% .033 307.174);--colors-purple-200: oklch(90.2% .063 306.703);--colors-purple-300: oklch(82.7% .119 306.383);--colors-purple-400: oklch(71.4% .203 305.504);--colors-purple-500: oklch(62.7% .265 303.9);--colors-purple-600: oklch(55.8% .288 302.321);--colors-purple-700: oklch(49.6% .265 301.924);--colors-purple-800: oklch(43.8% .218 303.724);--colors-purple-900: oklch(38.1% .176 304.987);--colors-purple-950: oklch(29.1% .149 302.717);--colors-purple-DEFAULT: oklch(71.4% .203 305.504);--colors-fuchsia-50: oklch(97.7% .017 320.058);--colors-fuchsia-100: oklch(95.2% .037 318.852);--colors-fuchsia-200: oklch(90.3% .076 319.62);--colors-fuchsia-300: oklch(83.3% .145 321.434);--colors-fuchsia-400: oklch(74% .238 322.16);--colors-fuchsia-500: oklch(66.7% .295 322.15);--colors-fuchsia-600: oklch(59.1% .293 322.896);--colors-fuchsia-700: oklch(51.8% .253 323.949);--colors-fuchsia-800: oklch(45.2% .211 324.591);--colors-fuchsia-900: oklch(40.1% .17 325.612);--colors-fuchsia-950: oklch(29.3% .136 325.661);--colors-fuchsia-DEFAULT: oklch(74% .238 322.16);--colors-pink-50: oklch(97.1% .014 343.198);--colors-pink-100: oklch(94.8% .028 342.258);--colors-pink-200: oklch(89.9% .061 343.231);--colors-pink-300: oklch(82.3% .12 346.018);--colors-pink-400: oklch(71.8% .202 349.761);--colors-pink-500: oklch(65.6% .241 354.308);--colors-pink-600: oklch(59.2% .249 .584);--colors-pink-700: oklch(52.5% .223 3.958);--colors-pink-800: oklch(45.9% .187 3.815);--colors-pink-900: oklch(40.8% .153 2.432);--colors-pink-950: oklch(28.4% .109 3.907);--colors-pink-DEFAULT: oklch(71.8% .202 349.761);--colors-rose-50: oklch(96.9% .015 12.422);--colors-rose-100: oklch(94.1% .03 12.58);--colors-rose-200: oklch(89.2% .058 10.001);--colors-rose-300: oklch(81% .117 11.638);--colors-rose-400: oklch(71.2% .194 13.428);--colors-rose-500: oklch(64.5% .246 16.439);--colors-rose-600: oklch(58.6% .253 17.585);--colors-rose-700: oklch(51.4% .222 16.935);--colors-rose-800: oklch(45.5% .188 13.697);--colors-rose-900: oklch(41% .159 10.272);--colors-rose-950: oklch(27.1% .105 12.094);--colors-rose-DEFAULT: oklch(71.2% .194 13.428);--colors-light-50: oklch(99.4% 0 0);--colors-light-100: oklch(99.11% 0 0);--colors-light-200: oklch(98.51% 0 0);--colors-light-300: oklch(98.16% .0017 247.84);--colors-light-400: oklch(97.31% 0 0);--colors-light-500: oklch(96.12% 0 0);--colors-light-600: oklch(96.32% .0034 247.86);--colors-light-700: oklch(94.17% .0052 247.88);--colors-light-800: oklch(91.09% .007 247.9);--colors-light-900: oklch(90.72% .0051 228.82);--colors-light-950: oklch(89.23% .006 239.83);--colors-light-DEFAULT: oklch(97.31% 0 0);--colors-dark-50: oklch(40.91% 0 0);--colors-dark-100: oklch(35.62% 0 0);--colors-dark-200: oklch(31.71% 0 0);--colors-dark-300: oklch(29.72% 0 0);--colors-dark-400: oklch(25.2% 0 0);--colors-dark-500: oklch(23.93% 0 0);--colors-dark-600: oklch(22.73% .0038 286.09);--colors-dark-700: oklch(22.21% 0 0);--colors-dark-800: oklch(20.9% 0 0);--colors-dark-900: oklch(16.84% 0 0);--colors-dark-950: oklch(13.44% 0 0);--colors-dark-DEFAULT: oklch(25.2% 0 0);--colors-primary-50: hsl(198, 100%, 97%);--colors-primary-100: hsl(198, 100%, 92%);--colors-primary-200: hsl(198, 100%, 84%);--colors-primary-300: hsl(198, 100%, 75%);--colors-primary-400: hsl(198, 100%, 66%);--colors-primary-500: hsl(198, 100%, 55%);--colors-primary-600: hsl(198, 100%, 45%);--colors-primary-700: hsl(198, 100%, 35%);--colors-primary-800: hsl(198, 100%, 24%);--colors-primary-900: hsl(198, 100%, 15%);--colors-primary-DEFAULT: hsl(198, 100%, 55%);--colors-secondary-50: hsl(120, 100%, 97%);--colors-secondary-100: hsl(120, 100%, 92%);--colors-secondary-200: hsl(120, 100%, 84%);--colors-secondary-300: hsl(120, 100%, 75%);--colors-secondary-400: hsl(120, 100%, 66%);--colors-secondary-500: hsl(120, 100%, 55%);--colors-secondary-600: hsl(120, 100%, 45%);--colors-secondary-700: hsl(120, 100%, 35%);--colors-secondary-800: hsl(120, 100%, 24%);--colors-secondary-900: hsl(120, 100%, 15%);--colors-secondary-DEFAULT: hsl(120, 100%, 55%);--colors-tertiary-50: hsl(175, 100%, 97%);--colors-tertiary-100: hsl(175, 100%, 92%);--colors-tertiary-200: hsl(175, 100%, 84%);--colors-tertiary-300: hsl(175, 100%, 75%);--colors-tertiary-400: hsl(175, 100%, 66%);--colors-tertiary-500: hsl(175, 100%, 55%);--colors-tertiary-600: hsl(175, 100%, 45%);--colors-tertiary-700: hsl(175, 100%, 35%);--colors-tertiary-800: hsl(175, 100%, 24%);--colors-tertiary-900: hsl(175, 100%, 15%);--colors-tertiary-DEFAULT: hsl(175, 100%, 55%);--colors-success-50: hsl(149, 87%, 97%);--colors-success-100: hsl(149, 87%, 92%);--colors-success-200: hsl(149, 87%, 84%);--colors-success-300: hsl(149, 87%, 75%);--colors-success-400: hsl(149, 87%, 66%);--colors-success-500: hsl(149, 87%, 55%);--colors-success-600: hsl(149, 87%, 45%);--colors-success-700: hsl(149, 87%, 35%);--colors-success-800: hsl(149, 87%, 24%);--colors-success-900: hsl(149, 87%, 15%);--colors-success-DEFAULT: hsl(149, 87%, 55%);--colors-warning-50: hsl(32, 100%, 97%);--colors-warning-100: hsl(32, 100%, 92%);--colors-warning-200: hsl(32, 100%, 84%);--colors-warning-300: hsl(32, 100%, 75%);--colors-warning-400: hsl(32, 100%, 66%);--colors-warning-500: hsl(32, 100%, 55%);--colors-warning-600: hsl(32, 100%, 45%);--colors-warning-700: hsl(32, 100%, 35%);--colors-warning-800: hsl(32, 100%, 24%);--colors-warning-900: hsl(32, 100%, 15%);--colors-warning-DEFAULT: hsl(32, 100%, 55%);--colors-danger-50: hsl(345, 100%, 97%);--colors-danger-100: hsl(345, 100%, 92%);--colors-danger-200: hsl(345, 100%, 84%);--colors-danger-300: hsl(345, 100%, 75%);--colors-danger-400: hsl(345, 100%, 66%);--colors-danger-500: hsl(345, 100%, 55%);--colors-danger-600: hsl(345, 100%, 45%);--colors-danger-700: hsl(345, 100%, 35%);--colors-danger-800: hsl(345, 100%, 24%);--colors-danger-900: hsl(345, 100%, 15%);--colors-danger-DEFAULT: hsl(345, 100%, 55%);--colors-default-50: hsl(0, 0%, 97%);--colors-default-100: hsl(0, 0%, 92%);--colors-default-200: hsl(0, 0%, 84%);--colors-default-300: hsl(0, 0%, 75%);--colors-default-400: hsl(0, 0%, 66%);--colors-default-500: hsl(0, 0%, 55%);--colors-default-600: hsl(0, 0%, 45%);--colors-default-700: hsl(0, 0%, 35%);--colors-default-800: hsl(0, 0%, 24%);--colors-default-900: hsl(0, 0%, 15%);--colors-default-DEFAULT: hsl(0, 0%, 35%);--colors-surface-50: hsl(0, 0%, 97%);--colors-surface-100: hsl(0, 0%, 92%);--colors-surface-200: hsl(0, 0%, 84%);--colors-surface-300: hsl(0, 0%, 75%);--colors-surface-400: hsl(0, 0%, 66%);--colors-surface-500: hsl(0, 0%, 55%);--colors-surface-600: hsl(0, 0%, 45%);--colors-surface-700: hsl(0, 0%, 35%);--colors-surface-800: hsl(0, 0%, 24%);--colors-surface-900: hsl(0, 0%, 15%);--colors-surface-DEFAULT: hsl(0, 0%, 35%);--text-xs-fontSize: .75rem;--text-xs-lineHeight: 1rem;--text-sm-fontSize: .875rem;--text-sm-lineHeight: 1.25rem;--text-base-fontSize: 1rem;--text-base-lineHeight: 1.5rem;--text-lg-fontSize: 1.125rem;--text-lg-lineHeight: 1.75rem;--text-xl-fontSize: 1.25rem;--text-xl-lineHeight: 1.75rem;--text-2xl-fontSize: 1.5rem;--text-2xl-lineHeight: 2rem;--text-3xl-fontSize: 1.875rem;--text-3xl-lineHeight: 2.25rem;--text-4xl-fontSize: 2.25rem;--text-4xl-lineHeight: 2.5rem;--text-5xl-fontSize: 3rem;--text-5xl-lineHeight: 1;--text-6xl-fontSize: 3.75rem;--text-6xl-lineHeight: 1;--text-7xl-fontSize: 4.5rem;--text-7xl-lineHeight: 1;--text-8xl-fontSize: 6rem;--text-8xl-lineHeight: 1;--text-9xl-fontSize: 8rem;--text-9xl-lineHeight: 1;--text-color: var(--color-surface-100);--fontWeight-thin: 100;--fontWeight-extralight: 200;--fontWeight-light: 300;--fontWeight-normal: 400;--fontWeight-medium: 500;--fontWeight-semibold: 600;--fontWeight-bold: 700;--fontWeight-extrabold: 800;--fontWeight-black: 900;--tracking-tighter: -.05em;--tracking-tight: -.025em;--tracking-normal: 0em;--tracking-wide: .025em;--tracking-wider: .05em;--tracking-widest: .1em;--leading-none: 1;--leading-tight: 1.25;--leading-snug: 1.375;--leading-normal: 1.5;--leading-relaxed: 1.625;--leading-loose: 2;--textStrokeWidth-DEFAULT: 1.5rem;--textStrokeWidth-none: 0;--textStrokeWidth-sm: thin;--textStrokeWidth-md: medium;--textStrokeWidth-lg: thick;--radius-DEFAULT: .25rem;--radius-none: 0;--radius-xs: .125rem;--radius-sm: .25rem;--radius-md: .375rem;--radius-lg: .5rem;--radius-xl: .75rem;--radius-2xl: 1rem;--radius-3xl: 1.5rem;--radius-4xl: 2rem;--ease-linear: linear;--ease-in: cubic-bezier(.4, 0, 1, 1);--ease-out: cubic-bezier(0, 0, .2, 1);--ease-in-out: cubic-bezier(.4, 0, .2, 1);--ease-DEFAULT: cubic-bezier(.4, 0, .2, 1);--blur-DEFAULT: 8px;--blur-xs: 4px;--blur-sm: 8px;--blur-md: 12px;--blur-lg: 16px;--blur-xl: 24px;--blur-2xl: 40px;--blur-3xl: 64px;--perspective-dramatic: 100px;--perspective-near: 300px;--perspective-normal: 500px;--perspective-midrange: 800px;--perspective-distant: 1200px;--default-transition-duration: .15s;--default-transition-timingFunction: cubic-bezier(.4, 0, .2, 1);--default-font-family: var(--font-sans);--default-font-featureSettings: var(--font-sans--font-feature-settings);--default-font-variationSettings: var(--font-sans--font-variation-settings);--default-monoFont-family: var(--font-mono);--default-monoFont-featureSettings: var(--font-mono--font-feature-settings);--default-monoFont-variationSettings: var(--font-mono--font-variation-settings);--container-3xs: 16rem;--container-2xs: 18rem;--container-xs: 20rem;--container-sm: 24rem;--container-md: 28rem;--container-lg: 32rem;--container-xl: 36rem;--container-2xl: 42rem;--container-3xl: 48rem;--container-4xl: 56rem;--container-5xl: 64rem;--container-6xl: 72rem;--container-7xl: 80rem;--container-prose: 65ch;--background-color: var(--colors-primary-100);--boxShadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--boxShadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--theme-font-family: "Manrope"}*,:after,:before,::backdrop,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;tab-size:4;font-family:var( --default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" );font-feature-settings:var(--default-font-featureSettings, normal);font-variation-settings:var(--default-font-variationSettings, normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var( --default-monoFont-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace );font-feature-settings:var(--default-monoFont-featureSettings, normal);font-variation-settings:var(--default-monoFont-variationSettings, normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea,::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance: -apple-pay-button)) or (contain-intrinsic-size: 1px){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]),::file-selector-button{appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}.text-2xl{font-size:var(--text-2xl-fontSize);line-height:var(--un-leading, var(--text-2xl-lineHeight))}.text-3xl{font-size:var(--text-3xl-fontSize);line-height:var(--un-leading, var(--text-3xl-lineHeight))}.text-4xl{font-size:var(--text-4xl-fontSize);line-height:var(--un-leading, var(--text-4xl-lineHeight))}.text-lg{font-size:var(--text-lg-fontSize);line-height:var(--un-leading, var(--text-lg-lineHeight))}.text-sm{font-size:var(--text-sm-fontSize);line-height:var(--un-leading, var(--text-sm-lineHeight))}.text-xl{font-size:var(--text-xl-fontSize);line-height:var(--un-leading, var(--text-xl-lineHeight))}.text-xs{font-size:var(--text-xs-fontSize);line-height:var(--un-leading, var(--text-xs-lineHeight))}.data-\\[active\\=true\\]\\:text-white[data-active=true],.text-white{color:color-mix(in srgb,var(--colors-white) var(--un-text-opacity),transparent)}.text-\\[\\#1d2021\\]{color:color-mix(in oklab,#1d2021 var(--un-text-opacity),transparent)}.text-\\[\\#665c54\\]{color:color-mix(in oklab,#665c54 var(--un-text-opacity),transparent)}.text-\\[\\#83a598\\]{color:color-mix(in oklab,#83a598 var(--un-text-opacity),transparent)}.text-\\[\\#928374\\]{color:color-mix(in oklab,#928374 var(--un-text-opacity),transparent)}.text-\\[\\#98971a\\]{color:color-mix(in oklab,#98971a var(--un-text-opacity),transparent)}.text-\\[\\#a89984\\]{color:color-mix(in oklab,#a89984 var(--un-text-opacity),transparent)}.text-\\[\\#bdae93\\]{color:color-mix(in oklab,#bdae93 var(--un-text-opacity),transparent)}.text-\\[\\#cc241d\\]{color:color-mix(in oklab,#cc241d var(--un-text-opacity),transparent)}.text-\\[\\#ebdbb2\\]{color:color-mix(in oklab,#ebdbb2 var(--un-text-opacity),transparent)}.text-gray-400{color:color-mix(in srgb,var(--colors-gray-400) var(--un-text-opacity),transparent)}.text-gray-500{color:color-mix(in srgb,var(--colors-gray-500) var(--un-text-opacity),transparent)}.text-gray-700{color:color-mix(in srgb,var(--colors-gray-700) var(--un-text-opacity),transparent)}.text-gray-800{color:color-mix(in srgb,var(--colors-gray-800) var(--un-text-opacity),transparent)}.text-gray-900{color:color-mix(in srgb,var(--colors-gray-900) var(--un-text-opacity),transparent)}.text-green-800{color:color-mix(in srgb,var(--colors-green-800) var(--un-text-opacity),transparent)}.text-red-400{color:color-mix(in srgb,var(--colors-red-400) var(--un-text-opacity),transparent)}.hover\\:text-\\[\\#83a598\\]:hover{color:color-mix(in oklab,#83a598 var(--un-text-opacity),transparent)}.hover\\:text-\\[\\#98971a\\]:hover{color:color-mix(in oklab,#98971a var(--un-text-opacity),transparent)}.hover\\:text-\\[\\#cc241d\\]:hover{color:color-mix(in oklab,#cc241d var(--un-text-opacity),transparent)}.hover\\:text-\\[\\#ebdbb2\\]:hover{color:color-mix(in oklab,#ebdbb2 var(--un-text-opacity),transparent)}.hover\\:text-yellow-300:hover{color:color-mix(in srgb,var(--colors-yellow-300) var(--un-text-opacity),transparent)}.leading-relaxed{--un-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.tracking-wide{--un-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.tracking-wider{--un-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.tracking-widest{--un-tracking:var(--tracking-widest);letter-spacing:var(--tracking-widest)}.font-bold{--un-font-weight:var(--fontWeight-bold);font-weight:var(--fontWeight-bold)}.font-extrabold{--un-font-weight:var(--fontWeight-extrabold);font-weight:var(--fontWeight-extrabold)}.font-medium{--un-font-weight:var(--fontWeight-medium);font-weight:var(--fontWeight-medium)}.font-mono{font-family:var(--font-mono)}.font-sans{font-family:var(--font-sans)}.font-semibold{--un-font-weight:var(--fontWeight-semibold);font-weight:var(--fontWeight-semibold)}.m10\\.065{margin:calc(var(--spacing) * 10.065)}.m12{margin:calc(var(--spacing) * 12)}.m15{margin:calc(var(--spacing) * 15)}.m16{margin:calc(var(--spacing) * 16)}.m21{margin:calc(var(--spacing) * 21)}.m21\\.73{margin:calc(var(--spacing) * 21.73)}.m22{margin:calc(var(--spacing) * 22)}.m3{margin:calc(var(--spacing) * 3)}.m4{margin:calc(var(--spacing) * 4)}.m5{margin:calc(var(--spacing) * 5)}.m6{margin:calc(var(--spacing) * 6)}.m9{margin:calc(var(--spacing) * 9)}.mx-auto{margin-inline:auto}.-mb-4{margin-bottom:calc(calc(var(--spacing) * 4) * -1)}.mb-2{margin-bottom:calc(var(--spacing) * 2)}.mb-3{margin-bottom:calc(var(--spacing) * 3)}.mb-4{margin-bottom:calc(var(--spacing) * 4)}.mb-6{margin-bottom:calc(var(--spacing) * 6)}.ml-2{margin-left:calc(var(--spacing) * 2)}.ml-auto{margin-left:auto}.mr-2{margin-right:calc(var(--spacing) * 2)}.mr-3{margin-right:calc(var(--spacing) * 3)}.mt-1{margin-top:calc(var(--spacing) * 1)}.mt-1\\.5{margin-top:calc(var(--spacing) * 1.5)}.mt-4{margin-top:calc(var(--spacing) * 4)}.mt-auto{margin-top:auto}.p-1{padding:calc(var(--spacing) * 1)}.p-1\\.5{padding:calc(var(--spacing) * 1.5)}.p-2{padding:calc(var(--spacing) * 2)}.p-3{padding:calc(var(--spacing) * 3)}.p-4{padding:calc(var(--spacing) * 4)}.p-5{padding:calc(var(--spacing) * 5)}.p-6{padding:calc(var(--spacing) * 6)}.p-8{padding:calc(var(--spacing) * 8)}.\\[\\&\\>a\\]\\:px-5>a{padding-inline:calc(var(--spacing) * 5)}.\\[\\&\\>a\\]\\:py-2\\.5>a{padding-block:calc(var(--spacing) * 2.5)}.px-2{padding-inline:calc(var(--spacing) * 2)}.px-3{padding-inline:calc(var(--spacing) * 3)}.px-4{padding-inline:calc(var(--spacing) * 4)}.px-6{padding-inline:calc(var(--spacing) * 6)}.py-0\\.5{padding-block:calc(var(--spacing) * .5)}.py-1{padding-block:calc(var(--spacing) * 1)}.py-1\\.5{padding-block:calc(var(--spacing) * 1.5)}.py-2{padding-block:calc(var(--spacing) * 2)}.py-8{padding-block:calc(var(--spacing) * 8)}.pb-2{padding-bottom:calc(var(--spacing) * 2)}.pb-4{padding-bottom:calc(var(--spacing) * 4)}.pl-10{padding-left:calc(var(--spacing) * 10)}.pr-10{padding-right:calc(var(--spacing) * 10)}.pr-16{padding-right:calc(var(--spacing) * 16)}.pr-2{padding-right:calc(var(--spacing) * 2)}.pr-4{padding-right:calc(var(--spacing) * 4)}.pt-4{padding-top:calc(var(--spacing) * 4)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.focus\\:outline-none:focus{--un-outline-style:none;outline-style:none}.b,.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-t-2{border-top-width:2px}.border-\\[\\#3c3836\\]{border-color:color-mix(in oklab,#3c3836 var(--un-border-opacity),transparent)}.border-\\[\\#504945\\]{border-color:color-mix(in oklab,#504945 var(--un-border-opacity),transparent)}.border-\\[\\#665c54\\]{border-color:color-mix(in oklab,#665c54 var(--un-border-opacity),transparent)}.border-\\[\\#83a598\\],.hover\\:border-\\[\\#83a598\\]:hover{border-color:color-mix(in oklab,#83a598 var(--un-border-opacity),transparent)}.hover\\:border-\\[\\#98971a\\]:hover{border-color:color-mix(in oklab,#98971a var(--un-border-opacity),transparent)}.hover\\:border-\\[\\#cc241d\\]:hover{border-color:color-mix(in oklab,#cc241d var(--un-border-opacity),transparent)}.focus\\:border-\\[\\#83a598\\]:focus{border-color:color-mix(in oklab,#83a598 var(--un-border-opacity),transparent)}.rounded{border-radius:var(--radius-DEFAULT)}.rounded-full{border-radius:calc(infinity * 1px)}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-xl{border-radius:var(--radius-xl)}.border-dashed{--un-border-style:dashed;border-style:dashed}.bg-\\[\\#1d2021\\]{background-color:color-mix(in oklab,#1d2021 var(--un-bg-opacity),transparent)}.bg-\\[\\#282828\\]{background-color:color-mix(in oklab,#282828 var(--un-bg-opacity),transparent)}.bg-\\[\\#3c3836\\]{background-color:color-mix(in oklab,#3c3836 var(--un-bg-opacity),transparent)}.bg-\\[\\#458588\\]{background-color:color-mix(in oklab,#458588 var(--un-bg-opacity),transparent)}.bg-\\[\\#504945\\],.data-\\[active\\=true\\]\\:bg-\\[\\#504945\\][data-active=true]{background-color:color-mix(in oklab,#504945 var(--un-bg-opacity),transparent)}.bg-\\[\\#83a598\\]{background-color:color-mix(in oklab,#83a598 var(--un-bg-opacity),transparent)}.bg-\\[\\#98971a\\]{background-color:color-mix(in oklab,#98971a var(--un-bg-opacity),transparent)}.bg-\\[\\#b16286\\]{background-color:color-mix(in oklab,#b16286 var(--un-bg-opacity),transparent)}.bg-\\[\\#cc241d\\]{background-color:color-mix(in oklab,#cc241d var(--un-bg-opacity),transparent)}.bg-gray-100{background-color:color-mix(in srgb,var(--colors-gray-100) var(--un-bg-opacity),transparent)}.bg-gray-200{background-color:color-mix(in srgb,var(--colors-gray-200) var(--un-bg-opacity),transparent)}.bg-gray-50{background-color:color-mix(in srgb,var(--colors-gray-50) var(--un-bg-opacity),transparent)}.bg-green-100{background-color:color-mix(in srgb,var(--colors-green-100) var(--un-bg-opacity),transparent)}.bg-green-700{background-color:color-mix(in srgb,var(--colors-green-700) var(--un-bg-opacity),transparent)}.bg-red-700{background-color:color-mix(in srgb,var(--colors-red-700) var(--un-bg-opacity),transparent)}.bg-white{background-color:color-mix(in srgb,var(--colors-white) var(--un-bg-opacity),transparent)}.hover\\:bg-\\[\\#1d2021\\]:hover{background-color:color-mix(in oklab,#1d2021 var(--un-bg-opacity),transparent)}.hover\\:bg-\\[\\#3c3836\\]:hover{background-color:color-mix(in oklab,#3c3836 var(--un-bg-opacity),transparent)}.hover\\:bg-\\[\\#504945\\]:hover{background-color:color-mix(in oklab,#504945 var(--un-bg-opacity),transparent)}.hover\\:bg-\\[\\#665c54\\]:hover{background-color:color-mix(in oklab,#665c54 var(--un-bg-opacity),transparent)}.hover\\:bg-\\[\\#83a598\\]:hover{background-color:color-mix(in oklab,#83a598 var(--un-bg-opacity),transparent)}.hover\\:bg-gray-700:hover{background-color:color-mix(in srgb,var(--colors-gray-700) var(--un-bg-opacity),transparent)}.opacity-0{opacity:0%}.opacity-50{opacity:50%}.group:hover .group-hover\\:opacity-100{opacity:100%}.disabled\\:opacity-50:disabled{opacity:50%}.hover\\:underline:hover{text-decoration-line:underline}.no-underline{text-decoration:none}.flex{display:flex}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.gap-1{gap:calc(var(--spacing) * 1)}.gap-1\\.5{gap:calc(var(--spacing) * 1.5)}.gap-2{gap:calc(var(--spacing) * 2)}.gap-3{gap:calc(var(--spacing) * 3)}.gap-4{gap:calc(var(--spacing) * 4)}.gap-5{gap:calc(var(--spacing) * 5)}.gap-6{gap:calc(var(--spacing) * 6)}.gap-8{gap:calc(var(--spacing) * 8)}.gap-x-6{column-gap:calc(var(--spacing) * 6)}.gap-y-10{row-gap:calc(var(--spacing) * 10)}.grid{display:grid}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.\\[\\&\\>a\\>uix-icon\\]\\:h-3>a>uix-icon,.h-3{height:calc(var(--spacing) * 3)}.\\[\\&\\>a\\>uix-icon\\]\\:h-5>a>uix-icon,.h-5{height:calc(var(--spacing) * 5)}.\\[\\&\\>a\\>uix-icon\\]\\:h-6>a>uix-icon,.h-6{height:calc(var(--spacing) * 6)}.\\[\\&\\>a\\>uix-icon\\]\\:w-3>a>uix-icon,.w-3{width:calc(var(--spacing) * 3)}.\\[\\&\\>a\\>uix-icon\\]\\:w-5>a>uix-icon,.w-5{width:calc(var(--spacing) * 5)}.\\[\\&\\>a\\>uix-icon\\]\\:w-6>a>uix-icon,.w-6{width:calc(var(--spacing) * 6)}.h-12{height:calc(var(--spacing) * 12)}.h-15{height:calc(var(--spacing) * 15)}.h-16{height:calc(var(--spacing) * 16)}.h-3\\.5{height:calc(var(--spacing) * 3.5)}.h-4{height:calc(var(--spacing) * 4)}.h-50{height:calc(var(--spacing) * 50)}.h-7{height:calc(var(--spacing) * 7)}.h-8{height:calc(var(--spacing) * 8)}.h-full{height:100%}.h-screen{height:100vh}.max-w-md{max-width:var(--container-md)}.min-h-\\[2\\.5rem\\]{min-height:2.5rem}.min-h-0{min-height:calc(var(--spacing) * 0)}.min-h-screen{min-height:100vh}.min-w-0{min-width:calc(var(--spacing) * 0)}.w-10{width:calc(var(--spacing) * 10)}.w-12{width:calc(var(--spacing) * 12)}.w-16{width:calc(var(--spacing) * 16)}.w-3\\.5{width:calc(var(--spacing) * 3.5)}.w-3xs{width:var(--container-3xs)}.w-4{width:calc(var(--spacing) * 4)}.w-48{width:calc(var(--spacing) * 48)}.w-64{width:calc(var(--spacing) * 64)}.w-8{width:calc(var(--spacing) * 8)}.w-80{width:calc(var(--spacing) * 80)}.w-full{width:100%}.\\[\\&\\>a\\]\\:block>a,.block{display:block}.contents{display:contents}.hidden{display:none}.cursor-pointer{cursor:pointer}.cursor-not-allowed{cursor:not-allowed}.resize-none{resize:none}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-ellipsis{text-overflow:ellipsis}.uppercase{text-transform:uppercase}.capitalize{text-transform:capitalize}.focus\\:ring-2:focus{--un-ring-shadow:var(--un-ring-inset,) 0 0 0 calc(2px + var(--un-ring-offset-width)) var(--un-ring-color, currentColor);box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.focus\\:ring-\\[\\#83a598\\]:focus{--un-ring-color:color-mix(in oklab, #83a598 var(--un-ring-opacity), transparent)}.shadow-\\[4px_4px_0px_\\#1d2021\\]{--un-shadow:4px 4px 0px var(--un-shadow-color, rgb(29 32 33));box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.shadow-lg{--un-shadow:0 10px 15px -3px var(--un-shadow-color, rgb(0 0 0 / .1)),0 4px 6px -4px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.shadow-md{--un-shadow:0 4px 6px -1px var(--un-shadow-color, rgb(0 0 0 / .1)),0 2px 4px -2px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.hover\\:shadow-\\[6px_6px_0px_\\#83a598\\]:hover{--un-shadow:6px 6px 0px var(--un-shadow-color, rgb(131 165 152));box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.hover\\:shadow-\\[6px_6px_0px_\\#98971a\\]:hover{--un-shadow:6px 6px 0px var(--un-shadow-color, rgb(152 151 26));box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.hover\\:shadow-\\[6px_6px_0px_\\#cc241d\\]:hover{--un-shadow:6px 6px 0px var(--un-shadow-color, rgb(204 36 29));box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.focus\\:shadow-\\[2px_2px_0px_\\#1d2021\\]:focus{--un-shadow:2px 2px 0px var(--un-shadow-color, rgb(29 32 33));box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.-translate-y-1\\/2{--un-translate-y:-50%;translate:var(--un-translate-x) var(--un-translate-y)}.translate-x-4{--un-translate-x:calc(var(--spacing) * 4);translate:var(--un-translate-x) var(--un-translate-y)}.transform{transform:var(--un-rotate-x) var(--un-rotate-y) var(--un-rotate-z) var(--un-skew-x) var(--un-skew-y)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,--un-gradient-from,--un-gradient-via,--un-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter;transition-timing-function:var(--un-ease, var(--default-transition-timingFunction));transition-duration:var(--un-duration, var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--un-ease, var(--default-transition-timingFunction));transition-duration:var(--un-duration, var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,--un-gradient-from,--un-gradient-via,--un-gradient-to;transition-timing-function:var(--un-ease, var(--default-transition-timingFunction));transition-duration:var(--un-duration, var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--un-ease, var(--default-transition-timingFunction));transition-duration:var(--un-duration, var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--un-ease, var(--default-transition-timingFunction));transition-duration:var(--un-duration, var(--default-transition-duration))}.duration-200{--un-duration:.2s;transition-duration:.2s}.items-start{align-items:flex-start}.items-center{align-items:center}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.bottom-2\\.5{bottom:calc(var(--spacing) * 2.5)}.left-3{left:calc(var(--spacing) * 3)}.right-2{right:calc(var(--spacing) * 2)}.right-3{right:calc(var(--spacing) * 3)}.top-1\\/2{top:50%}.top-2{top:calc(var(--spacing) * 2)}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.filter{filter:var(--un-blur,) var(--un-brightness,) var(--un-contrast,) var(--un-grayscale,) var(--un-hue-rotate,) var(--un-invert,) var(--un-saturate,) var(--un-sepia,) var(--un-drop-shadow,)}.placeholder-\\[\\#928374\\]::placeholder{color:color-mix(in oklab,#928374 var(--un-placeholder-opacity),transparent)}.space-x-2>:not(:last-child){--un-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing) * 2) * var(--un-space-x-reverse));margin-inline-end:calc(calc(var(--spacing) * 2) * calc(1 - var(--un-space-x-reverse)))}.space-y-1>:not(:last-child){--un-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing) * 1) * var(--un-space-y-reverse));margin-block-end:calc(calc(var(--spacing) * 1) * calc(1 - var(--un-space-y-reverse)))}.space-y-4>:not(:last-child){--un-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing) * 4) * var(--un-space-y-reverse));margin-block-end:calc(calc(var(--spacing) * 4) * calc(1 - var(--un-space-y-reverse)))}.space-y-6>:not(:last-child){--un-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing) * 6) * var(--un-space-y-reverse));margin-block-end:calc(calc(var(--spacing) * 6) * calc(1 - var(--un-space-y-reverse)))}@supports (color: color-mix(in lab,red,red)){.data-\\[active\\=true\\]\\:text-white[data-active=true]{color:color-mix(in oklab,var(--colors-white) var(--un-text-opacity),transparent)}.text-gray-400{color:color-mix(in oklab,var(--colors-gray-400) var(--un-text-opacity),transparent)}.text-gray-500{color:color-mix(in oklab,var(--colors-gray-500) var(--un-text-opacity),transparent)}.text-gray-700{color:color-mix(in oklab,var(--colors-gray-700) var(--un-text-opacity),transparent)}.text-gray-800{color:color-mix(in oklab,var(--colors-gray-800) var(--un-text-opacity),transparent)}.text-gray-900{color:color-mix(in oklab,var(--colors-gray-900) var(--un-text-opacity),transparent)}.text-green-800{color:color-mix(in oklab,var(--colors-green-800) var(--un-text-opacity),transparent)}.text-red-400{color:color-mix(in oklab,var(--colors-red-400) var(--un-text-opacity),transparent)}.text-white{color:color-mix(in oklab,var(--colors-white) var(--un-text-opacity),transparent)}.hover\\:text-yellow-300:hover{color:color-mix(in oklab,var(--colors-yellow-300) var(--un-text-opacity),transparent)}.bg-gray-100{background-color:color-mix(in oklab,var(--colors-gray-100) var(--un-bg-opacity),transparent)}.bg-gray-200{background-color:color-mix(in oklab,var(--colors-gray-200) var(--un-bg-opacity),transparent)}.bg-gray-50{background-color:color-mix(in oklab,var(--colors-gray-50) var(--un-bg-opacity),transparent)}.bg-green-100{background-color:color-mix(in oklab,var(--colors-green-100) var(--un-bg-opacity),transparent)}.bg-green-700{background-color:color-mix(in oklab,var(--colors-green-700) var(--un-bg-opacity),transparent)}.bg-red-700{background-color:color-mix(in oklab,var(--colors-red-700) var(--un-bg-opacity),transparent)}.bg-white{background-color:color-mix(in oklab,var(--colors-white) var(--un-bg-opacity),transparent)}.hover\\:bg-gray-700:hover{background-color:color-mix(in oklab,var(--colors-gray-700) var(--un-bg-opacity),transparent)}}@media (min-width: 48rem){.md\\:p-8{padding:calc(var(--spacing) * 8)}.md\\:flex-row{flex-direction:row}.md\\:col-span-2{grid-column:span 2/span 2}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:w-64{width:calc(var(--spacing) * 64)}.md\\:w-72{width:calc(var(--spacing) * 72)}.md\\:w-auto{width:auto}.md\\:items-start{align-items:flex-start}.md\\:items-center{align-items:center}.md\\:justify-between{justify-content:space-between}}@media (min-width: 64rem){.lg\\:flex{display:flex}.lg\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 80rem){.xl\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}.\\37c 1.cm-focused{outline:1px dotted #212121}.\\37c 1{position:relative!important;box-sizing:border-box;display:flex!important;flex-direction:column}.\\37c 1 .cm-scroller{display:flex!important;align-items:flex-start!important;font-family:monospace;line-height:1.4;height:100%;overflow-x:auto;position:relative;z-index:0;overflow-anchor:none}.\\37c 1 .cm-content[contenteditable=true]{-webkit-user-modify:read-write-plaintext-only}.\\37c 1 .cm-content{margin:0;flex-grow:2;flex-shrink:0;display:block;white-space:pre;word-wrap:normal;box-sizing:border-box;min-height:100%;padding:4px 0;outline:none}.\\37c 1 .cm-lineWrapping{white-space:pre-wrap;white-space:break-spaces;word-break:break-word;overflow-wrap:anywhere;flex-shrink:1}.\\37c 2 .cm-content{caret-color:#000}.\\37c 3 .cm-content{caret-color:#fff}.\\37c 1 .cm-line{display:block;padding:0 2px 0 6px}.\\37c 1 .cm-layer>*{position:absolute}.\\37c 1 .cm-layer{position:absolute;left:0;top:0;contain:size style}.\\37c 2 .cm-selectionBackground{background:#d9d9d9}.\\37c 3 .cm-selectionBackground{background:#222}.\\37c 2.cm-focused>.cm-scroller>.cm-selectionLayer .cm-selectionBackground{background:#d7d4f0}.\\37c 3.cm-focused>.cm-scroller>.cm-selectionLayer .cm-selectionBackground{background:#233}.\\37c 1 .cm-cursorLayer{pointer-events:none}.\\37c 1.cm-focused>.cm-scroller>.cm-cursorLayer{animation:steps(1) cm-blink 1.2s infinite}@keyframes cm-blink{50%{opacity:0}}@keyframes cm-blink2{50%{opacity:0}}.\\37c 1 .cm-cursor,.\\37c 1 .cm-dropCursor{border-left:1.2px solid black;margin-left:-.6px;pointer-events:none}.\\37c 1 .cm-cursor{display:none}.\\37c 3 .cm-cursor{border-left-color:#ddd}.\\37c 1 .cm-dropCursor{position:absolute}.\\37c 1.cm-focused>.cm-scroller>.cm-cursorLayer .cm-cursor{display:block}.\\37c 1 .cm-iso{unicode-bidi:isolate}.\\37c 1 .cm-announced{position:fixed;top:-10000px}@media print{.\\37c 1 .cm-announced{display:none}}.\\37c 2 .cm-activeLine{background-color:#cef4}.\\37c 3 .cm-activeLine{background-color:#9ef3}.\\37c 2 .cm-specialChar{color:red}.\\37c 3 .cm-specialChar{color:#f78}.\\37c 1 .cm-gutters{flex-shrink:0;display:flex;height:100%;box-sizing:border-box;z-index:200}.\\37c 1 .cm-gutters-before{inset-inline-start:0}.\\37c 1 .cm-gutters-after{inset-inline-end:0}.\\37c 2 .cm-gutters.cm-gutters-before{border-right-width:1px}.\\37c 2 .cm-gutters.cm-gutters-after{border-left-width:1px}.\\37c 2 .cm-gutters{background-color:#f5f5f5;color:#6c6c6c;border:0px solid #ddd}.\\37c 3 .cm-gutters{background-color:#333338;color:#ccc}.\\37c 1 .cm-gutter{display:flex!important;flex-direction:column;flex-shrink:0;box-sizing:border-box;min-height:100%;overflow:hidden}.\\37c 1 .cm-gutterElement{box-sizing:border-box}.\\37c 1 .cm-lineNumbers .cm-gutterElement{padding:0 3px 0 5px;min-width:20px;text-align:right;white-space:nowrap}.\\37c 2 .cm-activeLineGutter{background-color:#e2f2ff}.\\37c 3 .cm-activeLineGutter{background-color:#222227}.\\37c 1 .cm-panels{box-sizing:border-box;position:sticky;left:0;right:0;z-index:300}.\\37c 2 .cm-panels{background-color:#f5f5f5;color:#000}.\\37c 2 .cm-panels-top{border-bottom:1px solid #ddd}.\\37c 2 .cm-panels-bottom{border-top:1px solid #ddd}.\\37c 3 .cm-panels{background-color:#333338;color:#fff}.\\37c 1 .cm-dialog label{font-size:80%}.\\37c 1 .cm-dialog{padding:2px 19px 4px 6px;position:relative}.\\37c 1 .cm-dialog-close{position:absolute;top:3px;right:4px;background-color:inherit;border:none;font:inherit;font-size:14px;padding:0}.\\37c 1 .cm-tab{display:inline-block;overflow:hidden;vertical-align:bottom}.\\37c 1 .cm-widgetBuffer{vertical-align:text-top;height:1em;width:0;display:inline}.\\37c 1 .cm-placeholder{color:#888;display:inline-block;vertical-align:top;user-select:none}.\\37c 1 .cm-highlightSpace{background-image:radial-gradient(circle at 50% 55%,#aaa 20%,transparent 5%);background-position:center}.\\37c 1 .cm-highlightTab{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>');background-size:auto 100%;background-position:right 90%;background-repeat:no-repeat}.\\37c 1 .cm-trailingSpace{background-color:#f325}.\\37c 1 .cm-button{vertical-align:middle;color:inherit;font-size:70%;padding:.2em 1em;border-radius:1px}.\\37c 2 .cm-button:active{background-image:linear-gradient(#b4b4b4,#d0d3d6)}.\\37c 2 .cm-button{background-image:linear-gradient(#eff1f5,#d9d9df);border:1px solid #888}.\\37c 3 .cm-button:active{background-image:linear-gradient(#111,#333)}.\\37c 3 .cm-button{background-image:linear-gradient(#393939,#111);border:1px solid #888}.\\37c 1 .cm-textfield{vertical-align:middle;color:inherit;font-size:70%;border:1px solid silver;padding:.2em .5em}.\\37c 2 .cm-textfield{background-color:#fff}.\\37c 3 .cm-textfield{border:1px solid #555;background-color:inherit}.\\37c 1y .cm-editor{font-size:12px}.\\37cp,.\\37cq,.\\37cr{color:#fb4934;font-weight:700}.\\37cs,.\\37ct{color:#83a598}.\\37cu{color:#8ec07c;font-style:normal}.\\37cv{color:#8ec07c}.\\37cw{color:#fabd2f;font-style:italic}.\\37cx{color:#83a598;font-style:italic}.\\37cy{color:#ebdbb2}.\\37cz,.\\37c 10,.\\37c 11{color:#928374}.\\37c 12{color:#fabd2f}.\\37c 13{color:#83a598}.\\37c 14,.\\37c 15{color:#d3869b}.\\37c 16{color:#fb4934;font-style:italic}.\\37c 17{color:#d3869b;font-style:italic}.\\37c 18{color:#d3869b}.\\37c 19,.\\37c 1a{color:#fe8019}.\\37c 1b,.\\37c 1c,.\\37c 1d{color:#b8bb26}.\\37c 1e{color:#8ec07c;font-weight:700}.\\37c 1f{color:#928374}.\\37c 1g,.\\37c 1h{font-style:italic;color:#928374}.\\37c 1i{color:#fb4934}.\\37c 1j{color:#fabd2f}.\\37c 1k,.\\37c 1l{font-weight:700;color:#fabd2f}.\\37c 1m{font-style:italic;color:#b8bb26}.\\37c 1n{color:#d3869b;font-weight:500;text-decoration:underline;text-underline-position:under}.\\37c 1o{color:#83a598;text-decoration:underline;text-underline-offset:2px}.\\37c 1p{color:#ebdbb2;text-decoration:underline wavy;border-bottom:1px wavy #fb4934}.\\37c 1q{color:#fb4934;text-decoration:line-through}.\\37c 1r{color:#fe8019}.\\37c 1s{color:#fb4934}.\\37c 1t,.\\37c 1u{color:#928374}.\\37c 1v{color:#ebdbb2}.\\37c 1w{color:#83a598}.\\37c 1x{color:#928374}.\\37co{color:#ebdbb2;background-color:#282828;font-size:14px;font-family:JetBrains Mono,Consolas,monospace}.\\37co .cm-content{caret-color:#fe8019;line-height:1.6}.\\37co .cm-cursor,.\\37co .cm-dropCursor{border-left-color:#fe8019;border-left-width:2px}.\\37co .cm-fat-cursor{background-color:#fe801999;color:#282828}.\\37co.cm-focused>.cm-scroller>.cm-selectionLayer .cm-selectionBackground,.\\37co .cm-selectionBackground,.\\37co .cm-content ::selection{background-color:#504945}.\\37co .cm-selectionLayer{z-index:100}.\\37co .cm-searchMatch span{color:#fbf1c7}.\\37co .cm-searchMatch{background-color:#b57614cc;outline:1px solid #fabd2f;color:#fbf1c7;border-radius:4px}.\\37co .cm-searchMatch.cm-searchMatch-selected span{color:#282828}.\\37co .cm-searchMatch.cm-searchMatch-selected{background-color:#fe8019;color:#282828;padding:2px 6px}.\\37co .cm-search.cm-panel.cm-textfield{color:#ebdbb2;border-radius:4px;padding:2px 6px}.\\37co .cm-panels{background-color:#3c3836;color:#ebdbb2;border-radius:4px}.\\37co .cm-panels.cm-panels-top{border-bottom:1px solid #665c54}.\\37co .cm-panels.cm-panels-bottom{border-top:1px solid #665c54}.\\37co .cm-panel button{background-color:#3c3836;color:#ebdbb2;border:none;border-radius:4px;padding:2px 10px}.\\37co .cm-panel button:hover{background-color:#504945}.\\37co .cm-activeLine{background-color:#3c383660;border-radius:2px;z-index:1}.\\37co .cm-gutters{background-color:#3c3836;color:#928374;border:none;border-right:1px solid #504945;padding-right:8px}.\\37co .cm-activeLineGutter{background-color:#3c3836;color:#ebdbb2;font-weight:500}.\\37co .cm-lineNumbers,.\\37co .cm-foldGutter{font-size:.9em}.\\37co .cm-foldGutter .cm-gutterElement{color:#928374;cursor:pointer}.\\37co .cm-foldGutter .cm-gutterElement:hover{color:#ebdbb2}.\\37co .cm-insertedLine{text-decoration:none;background-color:#32361a80;color:#b8bb26;padding:1px 3px;border-radius:3px}.\\37co ins.cm-insertedLine,.\\37co ins.cm-insertedLine:not(:has(.cm-changedText)){text-decoration:none;background-color:#32361a80!important;color:#b8bb26;padding:1px 3px;border-radius:3px;border:1px solid #b8bb2640}.\\37co ins.cm-insertedLine .cm-changedText{background:transparent!important}.\\37co .cm-deletedLine{text-decoration:line-through;background-color:#3c1f1e80;color:#fb4934;padding:1px 3px;border-radius:3px}.\\37co del.cm-deletedLine,.\\37co del,.\\37co del:not(:has(.cm-deletedText)){text-decoration:line-through;background-color:#3c1f1e80!important;color:#fb4934;padding:1px 3px;border-radius:3px;border:1px solid #fb493440}.\\37co del .cm-deletedText,.\\37co del .cm-changedText{background:transparent!important}.\\37co .cm-tooltip{background-color:#3c3836;border:1px solid #665c54;border-radius:4px;padding:4px 8px;box-shadow:0 2px 8px #0000004d}.\\37co .cm-tooltip-autocomplete>ul{background-color:#3c3836;border:none}.\\37co .cm-tooltip-autocomplete>ul>li{padding:4px 8px;line-height:1.3}.\\37co .cm-tooltip-autocomplete>ul>li[aria-selected]{background-color:#504945;color:#fbf1c7;border-radius:3px}.\\37co .cm-tooltip-autocomplete>ul>li>span.cm-completionIcon{color:#928374;padding-right:8px}.\\37co .cm-tooltip-autocomplete>ul>li>span.cm-completionDetail{color:#928374;font-style:italic}.\\37co .cm-tooltip .cm-tooltip-arrow:before{border-top-color:transparent;border-bottom-color:transparent}.\\37co .cm-tooltip .cm-tooltip-arrow:after{border-top-color:#3c3836;border-bottom-color:#3c3836}.\\37co .cm-diagnostic-error{border-left:3px solid #fb4934}.\\37co .cm-diagnostic-warning{border-left:3px solid #fabd2f}.\\37co .cm-diagnostic-info{border-left:3px solid #83a598}.\\37co .cm-lintPoint-error{border-bottom:2px wavy #fb4934}.\\37co .cm-lintPoint-warning{border-bottom:2px wavy #fabd2f}.\\37co .cm-matchingBracket{background-color:#504945cc;outline:1px solid #fabd2f;border-radius:2px}.\\37co .cm-nonmatchingBracket{background-color:#cc241d55;outline:1px solid #fb4934;border-radius:2px}.\\37co .cm-selectionMatch{background-color:#665c5480;outline:1px solid #665c54;border-radius:2px}.\\37co .cm-foldPlaceholder{background-color:#3c3836;color:#928374;border:1px dotted #665c54;border-radius:4px;padding:0 5px;margin:0 2px}.\\37co.cm-focused{outline:none;box-shadow:0 0 0 2px #282828,0 0 0 3px #fe801940}.\\37co .cm-scroller::-webkit-scrollbar{width:12px;height:12px}.\\37co .cm-scroller::-webkit-scrollbar-track{background:#3c3836}.\\37co .cm-scroller::-webkit-scrollbar-thumb{background-color:#665c54;border-radius:6px;border:3px solid #3c3836}.\\37co .cm-scroller::-webkit-scrollbar-thumb:hover{background-color:#7c6f64}.\\37co .cm-ghostText{opacity:.5;color:#928374}body{font-family:var(--font-family)}html,body{font-family:var(--theme-font-family);background-color:var(--theme-background-color)!important;color:var(--text-color)!important;width:100%;min-height:100%;height:100%;padding:0;margin:0}body:not(.production) *:not(:defined){border:1px solid red}.dark{filter:invert(1) hue-rotate(180deg)}.dark img,.dark dialog,.dark video,.dark iframe{filter:invert(1) hue-rotate(180deg)}html{font-size:14px}@media (max-width: 768px){html{font-size:18px}}@media (max-width: 480px){html{font-size:20px}}textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}:root{box-sizing:border-box;-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;line-height:1.2;-webkit-font-smoothing:antialiased}*,*:before,*:after{box-sizing:border-box}*{margin:0}body{-webkit-font-smoothing:antialiased;font-family:var(--font-family)}button,textarea,select{background-color:inherit;border-width:0;color:inherit}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{font-family:var(--font-family);overflow-wrap:break-word}dialog::backdrop{background-color:#000c}*::-webkit-scrollbar{width:8px;margin-right:10px}*::-webkit-scrollbar-track{background:transparent}*::-webkit-scrollbar-thumb{&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}border-radius:10px;border:none}*::-webkit-scrollbar-button{background:transparent;color:transparent}*{scrollbar-width:thin;scrollbar-color:transparent transparent;&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}}[full]{width:100%;height:100vh}[w-full]{width:100%}[grow]{flex-grow:1}[hide],.hide{display:none!important}[noscroll]{overflow:hidden}div [container]{display:flex}div [container][horizontal]{display:flex;flex-direction:col}.uix-list{display:flex;&[vertical]{flex-direction:column}}.uix-navbar{--uix-navbar-text-color: var(--color-default-90);--uix-navbar-hover-text-color: var(--color-surface-80);--uix-navbar-border-radius: 0px;--uix-navbar-border-color: var(--color-default-60);--uix-navbar-border-size: 1px;--uix-navbar-border-style: solid;--uix-navbar-hover-background-color: var(--color-default-40);--uix-container-position: var(--uix-navbar-position);display:flex;flex-direction:column;&[docked]{--uix-list-button-radius: 0;border-bottom:0;position:fixed;bottom:0;background-color:var(--uix-navbar-background-color, var(--color-default-5));>*{border-right:0;border-bottom:0;&:first-child{border-left:0}}}}:where(.uix-icon){display:inline-block;vertical-align:middle;width:1rem;height:1rem;svg{height:inherit;width:inherit}&[solid]{stroke:currentColor;fill:currentColor}}:where(.uix-link){font-weight:var(--uix-link-font-weight, 600);width:var(--uix-link-width, auto);color:var(--uix-link-text-color, var(--colors-default-900));--uix-link-indent: 0;cursor:pointer;&[vertical]{margin:0 auto}a,button{width:inherit;cursor:pointer;padding:var(--uix-link-padding);&:hover{color:var(--uix-link-hover-color, var(--uix-link-text-color))}}.uix-text-icon__element{display:flex;align-items:center;gap:var(--uix-link-icon-gap, .5rem);&[reverse][vertical]{flex-direction:column-reverse}&:not([reverse])[vertical]{flex-direction:column}&[reverse]:not([vertical]){flex-direction:row-reverse}&:not([reverse]):not([vertical]){flex-direction:row}}transition:all .3s ease-in-out;&[indent]{>a,>button{padding-left:var(--uix-link-indent)}}&[active]:hover{color:var(--uix-link-hover-text-color, var(--colors-primary-400))}&[selectable][selected]{background-color:var(--colors-primary-400)}&:hover{[tooltip]{display:flex}}&[tooltip]{display:inline-block;&:hover{[tooltip]{visibility:visible}}[tooltip]{visibility:hidden;width:120px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;margin-left:3px;position:absolute;z-index:1000000000;top:50%;left:100%;transform:translateY(-50%)}}&[position~=top] [tooltip]{bottom:100%;left:50%;transform:translate(-50%)}&[position~=bottom] [tooltip]{top:100%;left:50%;transform:translate(-50%)}&[position~=left] [tooltip]{top:50%;right:100%;transform:translateY(-50%)}&[tooltip],&[dropdown],&[context],&[float]{position:relative}&[dropdown],&[accordion]{flex-direction:column}[float],[dropdown],[accordion],[context]{display:none}&[floatopen]>a{display:none}&[floatopen] [float]{display:block;position:relative;bottom:0;right:0}&[context]{z-index:auto}[context][open]{display:flex;flex-direction:column}[dropdown],[context][open]{position:absolute;left:0;top:100%;width:100%;min-width:200px;z-index:1000;background-color:var(--colors-primary-100);box-shadow:0 8px 16px #0003;.uix-link:hover,input{background-color:var(--colors-primary-200)}>.uix-link{width:100%}}[context][open]{display:flex}&[selected]{[dropdown],[accordion]{display:flex;flex-direction:column}}}:where(.uix-button){border:var(--uix-button-borderSize, 0) solid var(--uix-button-borderColor);border-radius:var(--uix-button-borderRadius, var(--radius-md));box-shadow:var(--uix-button-shadow);width:var(--uix-button-width);min-width:fit-content;background-color:var(--uix-button-backgroundColor, black);color:var(--uix-button-textColor, var(--colors-default-100));font-weight:var(--uix-button-fontWeight, 700);display:flex;text-align:center;transition:transform .2s ease-in-out,opacity .2s ease-in-out,background-color .2s ease-in-out;&:hover{opacity:var(--uix-button-hover-opacity, .4)}&:active{transform:scale(.97)}>button,>a,>input{width:max-content;display:block;border-radius:inherit;cursor:var(--uix-button-cursor, pointer);height:calc(var(--spacing) * 10);line-height:calc(var(--spacing) * 5);padding:var( --uix-button-padding, calc(var(--spacing) * 2.5) calc(var(--spacing) * 4) );word-break:keep-all;flex-basis:100%}.uix-icon,button,input,a{cursor:pointer}&[bordered]{--uix-button-border-size: 1px;--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderColor: var(--_variant-color-400);--uix-button-textColor: var(--_variant-color-700)}&[ghost]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderSize: 0px;--uix-button-textColor: var(--_variant-color-700)}&[outline]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-textColor: var(--_variant-color-800);--uix-button-borderSize: 1px;--uix-button-borderColor: var(--_variant-color-400)}&[float]{background-color:#000;--uix-button-hoverBackgroundColor: var(--_variant-color-500);--uix-button-textColor: var(--_variant-color-50);--uix-button-borderSize: 0px;--uix-button-borderRadius: 9999px;--uix-button-width: var(--uix-button-height);box-shadow:var(--shadow-md, 0 4px 6px -1px rgb(0 0 0 / .1));--uix-button-padding: .5rem}&[float]:hover{box-shadow:var(--shadow-lg, 0 10px 15px -3px rgb(0 0 0 / .1))}}:where(.uix-input){--uix-input-background-color: var(--colors-surface-100);--uix-input-border-color: var(--colors-gray-900);--uix-input-text-color: var(--colors-gray-900);--uix-input-placeholder-color: var(--colors-default-500);--uix-input-border-radius: var(--border-radius-md);--uix-input-border-width: 2px;--uix-input-padding-x: calc(var(--spacing) * 4);--uix-input-padding-y: calc(var(--spacing) * 2.5);--uix-input-font-size: var(--font-size-base);--uix-input-height: 2.5rem;--uix-input-disabled-opacity: .6;--uix-input-label-font-size: var(--font-size-sm);--uix-input-label-font-weight: var(--font-weight-bold);--uix-input-label-color: var(--colors-default-700);--uix-input-checkbox-size: 1.5rem;--uix-input-checkbox-border-radius: var(--border-radius-sm);--uix-input-checkbox-checked-bg: var(--colors-primary-600);--uix-input-checkbox-check-color: var(--colors-surface-100);width:100%;display:flex;flex-direction:column;input,select,textarea{width:100%;height:var(--uix-input-height);border-radius:var(--uix-input-border-radius);border:var(--uix-input-border-width) solid var(--uix-input-border-color);font-size:var(--uix-input-font-size);background-color:var(--uix-input-background-color);color:var(--uix-input-text-color);transition:var(--uix-transition);outline:none;padding:var(--uix-input-padding-y) var(--uix-input-padding-x)}textarea{resize:vertical}&:has(textarea){height:auto}select{appearance:none;-webkit-appearance:none;cursor:pointer;font-weight:600;padding-block:0;option{font-weight:600;background-color:var(--uix-input-background-color);font-size:1.1rem;line-height:1.5rem;color:#333;padding:50px;border:2px solid red}}.select-container{position:relative;.select-arrow{position:absolute;right:calc(2 * var(--spacing))}}input::placeholder{color:transparent}label{font-weight:var(--uix-input-label-font-weight);color:var(--uix-input-label-color, var(--colors-gray-600));margin-bottom:var(--spacing);font-size:.9rem;padding:0 4px;transition:all .2s ease-in-out;pointer-events:none;&[required]:after{content:"*";color:var(--colors-danger-500);margin-left:2px}}input:not(:placeholder-shown)+label,textarea:not(:placeholder-shown)+label,&:focus-within label,&.has-value label{top:-2px;transform:translateY(0);font-size:var(--uix-input-label-font-size)}&:focus-within input,&:focus-within select,&:focus-within textarea{box-shadow:0 0 var(--uix-input-focus-ring-width, 5px) var(--uix-input-focus-ring-color, rgba(0, 0, 255, .5))}&[disabled]{cursor:not-allowed;opacity:var(--uix-input-disabled-opacity);& label{cursor:not-allowed}}.input-icon,.select-arrow{position:absolute;top:50%;right:var(--spacing);transform:translateY(-50%);pointer-events:none;color:var(--uix-input-label-color);transition:transform .2s ease-in-out}&:has(select:hover:active) .select-arrow{transform:translateY(-50%) rotate(180deg)}&:has(.input-icon:not(.select-arrow))>input{padding-right:calc(var(--uix-input-padding-x) + 1.75em)}&[type=checkbox],&[type=radio]{flex-direction:row;align-items:center;border:0;height:auto;width:auto;background-color:transparent;box-shadow:none;gap:.75rem;cursor:pointer;label{margin:0;line-height:1.5rem;position:static;transform:none;background-color:transparent;padding:0;cursor:pointer;font-weight:var(--font-weight-normal);order:2;pointer-events:auto}input{appearance:none;-webkit-appearance:none;width:var(--uix-input-checkbox-size);height:var(--uix-input-checkbox-size);margin:0;border:var(--uix-input-border-width) solid var(--uix-input-border-color);background-color:var(--uix-input-background-color);cursor:pointer;position:relative;transition:var(--uix-transition);padding:0;&:after{content:"";position:absolute;display:none;left:50%;top:50%}&:checked{background-color:var(--uix-input-checkbox-checked-bg);border-color:var(--uix-input-checkbox-checked-bg);&:after{display:block}}&:focus-visible{box-shadow:0 0 0 var(--uix-input-focus-ring-width) var(--uix-input-focus-ring-color);border-color:var(--uix-input-focus-ring-color)}}}&[type=checkbox] input:after{width:.375rem;height:.75rem;border:solid var(--uix-input-checkbox-check-color);border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}&[type=radio] input{border-radius:var(--border-radius-full);&:after{width:calc(var(--uix-input-checkbox-size) / 2);height:calc(var(--uix-input-checkbox-size) / 2);border-radius:var(--border-radius-full);background-color:var(--uix-input-checkbox-check-color);transform:translate(-50%,-50%)}}&[ghost]{&:focus-within select{box-shadow:none}.select-arrow{margin-left:5px;padding-left:5px}select{background:inherit;border:0}}}.app-template{.uix-card{button{color:#111;cursor:pointer}}}.cm-scroller{overflow:auto!important}.cm-editor{width:100%}.uix-divider{--uix-divider-color: rgba(0, 0, 0, .05);--uix-divider-size: 2px;display:flex;align-items:center;justify-content:center;position:relative;padding:0;width:100%;height:var(--uix-divider-size);span{padding:0 .75rem;font-weight:700;font-size:var(--uix-divider-font-size, 1.5rem)}&[resizable]{cursor:row-resize;&[vertical]{cursor:col-resize}}&:before,&:after{content:"";flex-grow:1;height:var(--uix-divider-size);background-color:var(--uix-divider-color)}&[label]{padding:var(--uix-divider-padding, 1rem) 0}&[label]:before,&[label]:after{flex-grow:1}&[vertical]{flex-direction:column;width:1px;height:100%;background-color:transparent;&:before,&:after{width:1px;height:auto}&[label]{padding:0 var(--uix-divider-padding, 1rem)}}}
`,mimeType:"text/css"}};self.addEventListener("install",e=>e.waitUntil(self.skipWaiting())),self.addEventListener("activate",e=>e.waitUntil(self.clients.claim())),self.addEventListener("fetch",e=>{const o=new URL(e.request.url),t=FILE_BUNDLE[o.pathname];t&&e.respondWith(new Response(t.content,{headers:{"Content-Type":t.mimeType||"application/javascript"}}))});
